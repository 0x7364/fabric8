<!DOCTYPE HTML>
<html lang="en-US" manifest="./manifest.appcache">
    
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        
        <meta charset="UTF-8">
        <title>Cloud Containers | Fabric8 Documentation</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="https:">
        <meta name="description" content="Fabric8 User Guide and Reference Documentation">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="./gateway.html" />
        
        
        <link rel="prev" href="./sshContainers.html" />
        

        <meta property="og:title" content="Cloud Containers | Fabric8 Documentation">
        <meta property="og:site_name" content="Fabric8 Documentation">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/https:">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
        
    </head>
    <body>
        
        

        <link rel="stylesheet" href="gitbook/style.css">
        


        
    <div class="book" data-github="https://github.com/fabric8io/fabric8" data-level="4.6" data-basepath="." data-revision="1402216088000">
    <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    
    <a href="http://fabric8.io/" target="_blank" class="btn pull-left home-bookmark" aria-label="GitHub home"><i class="fa fa-bookmark-o"></i></a>
    
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="btn-group btn-block">
        <button id="reduce-font-size" class="btn btn-default">A</button>
        <button id="enlarge-font-size" class="btn btn-default">A</button>
    </div>

    <ul class="list-group font-family-list">
        <li class="list-group-item" data-font="0">Serif</li>
        <li class="list-group-item" data-font="1">Sans</li>
    </ul>

    <div class="btn-group btn-group-xs btn-block color-theme-list">
        <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
    </div>
</div>

    </span>

    <!-- Actions Right -->
    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    

    
    <a href="https://github.com/https://github.com/fabric8io/fabric8/stargazers" target="_blank" class="btn pull-right count-star hidden-xs"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/https://github.com/fabric8io/fabric8/watchers" target="_blank" class="btn pull-right count-watch hidden-xs"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="./" >Fabric8 Documentation</a>
    </h1>
</div>

    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        <li>
            <a href="https://github.com/fabric8io/fabric8/blob/master/readme.md" target="blank" class="author-link">About the author</a>
        </li>
        

        
        
        <li>
            <a href="https://github.com/fabric8io/fabric8/issues?milestone=none&amp;state=closed" target="blank"class="issues-link">Questions and Issues</a>
        </li>
        

        
        
        <li>
            <a href="https://github.com/fabric8io/fabric8/blob/master/Contributing.md" target="blank" class="contribute-link">Edit and Contribute</a>
        </li>
        

        
        <li class="divider"></li>
        

        <li data-level="0" data-path="index.html">
            <a href="./"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
    
        <li class="chapter " data-level="1" data-path="overview.html">
            
            <a href="./overview.html">
                <i class="fa fa-check"></i> <b>1.</b> Introduction
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="overview.html">
            
            <a href="./overview.html">
                <i class="fa fa-check"></i> <b>1.1.</b> Overview
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="getStarted.html">
            
            <a href="./getStarted.html">
                <i class="fa fa-check"></i> <b>1.2.</b> Get Started
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="quickstarts.html">
            
            <a href="./quickstarts.html">
                <i class="fa fa-check"></i> <b>1.3.</b> QuickStarts
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="environmentVariables.html">
            
            <a href="./environmentVariables.html">
                <i class="fa fa-check"></i> <b>1.4.</b> Environment Variables
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="developer.html">
            
            <a href="./developer.html">
                <i class="fa fa-check"></i> <b>2.</b> Developing
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="developer.html">
            
            <a href="./developer.html">
                <i class="fa fa-check"></i> <b>2.1.</b> Developer Workflow
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="mavenPlugin.html">
            
            <a href="./mavenPlugin.html">
                <i class="fa fa-check"></i> <b>2.2.</b> Maven Plugin
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="registry.html">
            
            <a href="./registry.html">
                <i class="fa fa-check"></i> <b>3.</b> Architecture
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="registry.html">
            
            <a href="./registry.html">
                <i class="fa fa-check"></i> <b>3.1.</b> Registry
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="profiles.html">
            
            <a href="./profiles.html">
                <i class="fa fa-check"></i> <b>3.2.</b> Profiles
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="agent.html">
            
            <a href="./agent.html">
                <i class="fa fa-check"></i> <b>3.3.</b> Agent
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="git.html">
            
            <a href="./git.html">
                <i class="fa fa-check"></i> <b>3.4.</b> Git
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="mavenProxy.html">
            
            <a href="./mavenProxy.html">
                <i class="fa fa-check"></i> <b>3.5.</b> Maven Proxy
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="microServices.html">
            
            <a href="./microServices.html">
                <i class="fa fa-check"></i> <b>4.</b> Containers
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="microServices.html">
            
            <a href="./microServices.html">
                <i class="fa fa-check"></i> <b>4.1.</b> Micro Services
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="javaContainer.html">
            
            <a href="./javaContainer.html">
                <i class="fa fa-check"></i> <b>4.2.</b> Java Container
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="springBootContainer.html">
            
            <a href="./springBootContainer.html">
                <i class="fa fa-check"></i> <b>4.3.</b> Spring Boot Container
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="docker.html">
            
            <a href="./docker.html">
                <i class="fa fa-check"></i> <b>4.4.</b> Docker
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="sshContainers.html">
            
            <a href="./sshContainers.html">
                <i class="fa fa-check"></i> <b>4.5.</b> SSH Containers
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="cloudContainers.html">
            
            <a href="./cloudContainers.html">
                <i class="fa fa-check"></i> <b>4.6.</b> Cloud Containers
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="gateway.html">
            
            <a href="./gateway.html">
                <i class="fa fa-check"></i> <b>5.</b> Additional Features
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="gateway.html">
            
            <a href="./gateway.html">
                <i class="fa fa-check"></i> <b>5.1.</b> Gateway
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="requirements.html">
            
            <a href="./requirements.html">
                <i class="fa fa-check"></i> <b>5.2.</b> Requirements
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="rollingUpgrade.html">
            
            <a href="./rollingUpgrade.html">
                <i class="fa fa-check"></i> <b>5.3.</b> Rolling Upgrade
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="offlineRepo.html">
            
            <a href="./offlineRepo.html">
                <i class="fa fa-check"></i> <b>5.4.</b> Offline Repository
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="partition.html">
            
            <a href="./partition.html">
                <i class="fa fa-check"></i> <b>5.5.</b> Partition
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="processManager.html">
            
            <a href="./processManager.html">
                <i class="fa fa-check"></i> <b>5.6.</b> Process Manager
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.7" data-path="security.html">
            
            <a href="./security.html">
                <i class="fa fa-check"></i> <b>5.7.</b> Security
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.8" data-path="propertyResolver.html">
            
            <a href="./propertyResolver.html">
                <i class="fa fa-check"></i> <b>5.8.</b> Property Resolver
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.9" data-path="urlHandlers.html">
            
            <a href="./urlHandlers.html">
                <i class="fa fa-check"></i> <b>5.9.</b> URL Handlers
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="brokerTopology.html">
            
            <a href="./brokerTopology.html">
                <i class="fa fa-check"></i> <b>6.</b> Using Apache ActiveMQ
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="brokerTopology.html">
            
            <a href="./brokerTopology.html">
                <i class="fa fa-check"></i> <b>6.1.</b> Broker Topology
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="brokerClients.html">
            
            <a href="./brokerClients.html">
                <i class="fa fa-check"></i> <b>6.2.</b> Broker Clients
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="dataTransform.html">
            
            <a href="./dataTransform.html">
                <i class="fa fa-check"></i> <b>7.</b> Using Apache Camel
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="dataTransform.html">
            
            <a href="./dataTransform.html">
                <i class="fa fa-check"></i> <b>7.1.</b> Data Transform
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2" >
            
            <span><b>7.2.</b> Endpoints</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.2.1" data-path="camelEndpointAmq.html">
            
            <a href="./camelEndpointAmq.html">
                <i class="fa fa-check"></i> <b>7.2.1.</b> amq
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.2" data-path="camelEndpointFabric.html">
            
            <a href="./camelEndpointFabric.html">
                <i class="fa fa-check"></i> <b>7.2.2.</b> fabric
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.3" data-path="camelEndpointMaster.html">
            
            <a href="./camelEndpointMaster.html">
                <i class="fa fa-check"></i> <b>7.2.3.</b> master
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" data-path="cxfFabric.html">
            
            <a href="./cxfFabric.html">
                <i class="fa fa-check"></i> <b>8.</b> Using Apache CXF
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1" data-path="cxfFabric.html">
            
            <a href="./cxfFabric.html">
                <i class="fa fa-check"></i> <b>8.1.</b> CXF Fabric
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 51.515151515151516%;min-width: 48.484848484848484%;"></div>
    </div>
    <div class="chapters">
    
        <a href="./index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="./overview.html" title="Overview" class="chapter done " data-progress="1.1" style="left: 3.0303030303030303%;"></a>
    
        <a href="./getStarted.html" title="Get Started" class="chapter done " data-progress="1.2" style="left: 6.0606060606060606%;"></a>
    
        <a href="./quickstarts.html" title="QuickStarts" class="chapter done " data-progress="1.3" style="left: 9.090909090909092%;"></a>
    
        <a href="./environmentVariables.html" title="Environment Variables" class="chapter done " data-progress="1.4" style="left: 12.121212121212121%;"></a>
    
        <a href="./developer.html" title="Developer Workflow" class="chapter done " data-progress="2.1" style="left: 15.151515151515152%;"></a>
    
        <a href="./mavenPlugin.html" title="Maven Plugin" class="chapter done " data-progress="2.2" style="left: 18.181818181818183%;"></a>
    
        <a href="./registry.html" title="Registry" class="chapter done " data-progress="3.1" style="left: 21.21212121212121%;"></a>
    
        <a href="./profiles.html" title="Profiles" class="chapter done " data-progress="3.2" style="left: 24.242424242424242%;"></a>
    
        <a href="./agent.html" title="Agent" class="chapter done " data-progress="3.3" style="left: 27.272727272727273%;"></a>
    
        <a href="./git.html" title="Git" class="chapter done " data-progress="3.4" style="left: 30.303030303030305%;"></a>
    
        <a href="./mavenProxy.html" title="Maven Proxy" class="chapter done " data-progress="3.5" style="left: 33.333333333333336%;"></a>
    
        <a href="./microServices.html" title="Micro Services" class="chapter done " data-progress="4.1" style="left: 36.36363636363637%;"></a>
    
        <a href="./javaContainer.html" title="Java Container" class="chapter done " data-progress="4.2" style="left: 39.39393939393939%;"></a>
    
        <a href="./springBootContainer.html" title="Spring Boot Container" class="chapter done " data-progress="4.3" style="left: 42.42424242424242%;"></a>
    
        <a href="./docker.html" title="Docker" class="chapter done " data-progress="4.4" style="left: 45.45454545454545%;"></a>
    
        <a href="./sshContainers.html" title="SSH Containers" class="chapter done " data-progress="4.5" style="left: 48.484848484848484%;"></a>
    
        <a href="./cloudContainers.html" title="Cloud Containers" class="chapter done " data-progress="4.6" style="left: 51.515151515151516%;"></a>
    
        <a href="./gateway.html" title="Gateway" class="chapter  " data-progress="5.1" style="left: 54.54545454545455%;"></a>
    
        <a href="./requirements.html" title="Requirements" class="chapter  " data-progress="5.2" style="left: 57.57575757575758%;"></a>
    
        <a href="./rollingUpgrade.html" title="Rolling Upgrade" class="chapter  " data-progress="5.3" style="left: 60.60606060606061%;"></a>
    
        <a href="./offlineRepo.html" title="Offline Repository" class="chapter  " data-progress="5.4" style="left: 63.63636363636363%;"></a>
    
        <a href="./partition.html" title="Partition" class="chapter  " data-progress="5.5" style="left: 66.66666666666667%;"></a>
    
        <a href="./processManager.html" title="Process Manager" class="chapter  " data-progress="5.6" style="left: 69.6969696969697%;"></a>
    
        <a href="./security.html" title="Security" class="chapter  " data-progress="5.7" style="left: 72.72727272727273%;"></a>
    
        <a href="./propertyResolver.html" title="Property Resolver" class="chapter  " data-progress="5.8" style="left: 75.75757575757575%;"></a>
    
        <a href="./urlHandlers.html" title="URL Handlers" class="chapter  " data-progress="5.9" style="left: 78.78787878787878%;"></a>
    
        <a href="./brokerTopology.html" title="Broker Topology" class="chapter  " data-progress="6.1" style="left: 81.81818181818181%;"></a>
    
        <a href="./brokerClients.html" title="Broker Clients" class="chapter  " data-progress="6.2" style="left: 84.84848484848484%;"></a>
    
        <a href="./dataTransform.html" title="Data Transform" class="chapter  " data-progress="7.1" style="left: 87.87878787878788%;"></a>
    
        <a href="./camelEndpointAmq.html" title="amq" class="chapter  " data-progress="7.2.1" style="left: 90.9090909090909%;"></a>
    
        <a href="./camelEndpointFabric.html" title="fabric" class="chapter  " data-progress="7.2.2" style="left: 93.93939393939394%;"></a>
    
        <a href="./camelEndpointMaster.html" title="master" class="chapter  " data-progress="7.2.3" style="left: 96.96969696969697%;"></a>
    
        <a href="./cxfFabric.html" title="CXF Fabric" class="chapter  " data-progress="8.1" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_8">
                    
                        <h2 id="cloud-containers">Cloud Containers</h2>
<p>Fabric leverages <a href="http://www.jclouds.org/" target="_blank">jclouds</a> in order to allow Fabric create new containers in public or private clouds.
The Fabric cloud container provider will allow you to create new compute instances in the cloud provider of your choice, perform firewall configuration, requirements installation &amp; last but not list full container installation and automatic registration to the cluster.</p>
<h3 id="requirements">Requirements</h3>
<p>The requirements for using this feature to create a container in a remote host are:</p>
<ul>
<li><strong>A valid account to a supported cloud provider</strong></li>
</ul>
<p>The list of supported cloud providers can be found at <a href="http://jclouds.apache.org/reference/providers/" target="_blank">jclouds supported providers</a>.
<strong>Important</strong> The term <strong>supported provider</strong> does not refer to commerical support, its just an indication that there is an available implementation.</p>
<h4 id="additional-requirement-for-hybrid-clusters">Additional requirement for hybrid clusters</h4>
<p>A hybrid cluster is a cluster that is composed of containers running both in the premises and inside a public cloud provider. This special type of cluster may impose some additional requirements:</p>
<ul>
<li><strong>Guarantee that all containers will be able to connect the registry</strong> <em>(refers to network connectivity)</em></li>
</ul>
<p>In order to satisfy this requirement, you will need to make sure that one of the following conditions are meet:</p>
<ul>
<li><strong>Fabric registry is running inside the public cloud</strong></li>
<li><strong>Cloud and Local containers are part of a VPN</strong></li>
<li><strong>Fabric registry is accessible from the internet</strong> <em>(Not recommended)</em></li>
</ul>
<p>In the case that the Fabric registry is running the cloud, your local containers will have no problem accessing the registry as long as they are able to connect to the internet.
However, if the Fabric registry is running in the premises, the cloud containers, won&#39;t be able to have access to your premises. At least not unless you have the registry accessible from the internet or unless you setup a vpn.
Having the registry accessible from the internet is not really the best idea for the obvious reasons. Setting up a vpn sounds like a better idea.</p>
<p>The easiest approach is just to host the registry in the cloud &amp; configure the firewall in the cloud accordingly to only allow access to containers from the premises. By default Fabric will configure the firewall for you. Below you can see how you can create an ensemble in the cloud <em>(host the registry in the cloud)</em>, there is also a small demonstration video covering that case.</p>
<h3 id="preparation">Preparation</h3>
<p>Before you can make use of this feature you will need to obtain a valid <em>identity</em> and <em>credential</em> for your cloud provider. That is not necessarily the username and password you obtain upon registration with the provider. This is usually refers to the credentials that you get for using the service from an external api.
For example for Amazon EC2 these can be found at the <a href="https://aws-portal.amazon.com/gp/aws/securityCredentials" target="_blank">security credentials page</a>.</p>
<p>The next step is to make sure that the container you will be using will have all the required features installed. The core feature requirement is <em>fabric-jclouds</em> which will give you access to the cloud container provider.
Then you need to install the feature for your corresponding cloud provider.</p>
<pre><code>    features:install fabric-jclouds
</code></pre><p>Note that if you are connected to a managed container the features command will not be available. In this case you will need to make sure that the feature above is part of the profile you are using.</p>
<h4 id="feature-naming-convention">Feature naming convention</h4>
<p>The naming convention for the cloud provider features is jclouds-<provider id>, where provider id is as listed in <a href="http://www.jclouds.org/documentation/reference/supported-providers" target="_blank">jclouds supported providers</a>.</p>
<p>Some common feature names:</p>
<ul>
<li><strong>jclouds-aws-ec2</strong> The feature for Amazon EC2</li>
<li><p><strong>jclouds-cloudservers-us</strong> The feature for Rackspace</p>
<pre><code>  features:install jclouds-aws-ec2
  features:install jclouds-cloudservers-us
</code></pre></li>
</ul>
<p>For those two cloud providers Fabric also provides profiles that will install all the required features, so you could just you the provided profiles out of the box.</p>
<h3 id="registering-a-cloud-provider">Registering a cloud provider</h3>
<p>Once you have installed all the required feature, you need to register the cloud provider to fabric. The registration process acutally will store the provider credentials to the registry so that they can be used from any Fabric container.</p>
<p>The registration can be done with the use of fabric:cloud-service-add.</p>
<p>To register the Amazon EC2 provider:</p>
<pre><code>    fabric:cloud-service-add aws-ec2 myidentity mycredential
</code></pre><p>To register the Rackspace provider</p>
<pre><code>    fabric:cloud-service-add cloudservers-us myidentity mycredential
</code></pre><h3 id="creating-containers-in-the-cloud">Creating containers in the cloud</h3>
<p>You can now use the <em>fabric:container-create-cloud-command</em> to create new Fabric containers in the cloud.</p>
<p>For example to create a container on Amazon EC2:</p>
<pre><code>   fabric:container-create-cloud --provider aws-ec2 mycontainer
</code></pre><p>We still haven&#39;t mentioned anything about images. This is just because specifying an image is optional. By default Fabric will try to find an <em>Ubuntu</em> image for you. You can provide predicates for the <em>operating system</em> and/or the <em>version</em> of it.
For example to choose <em>Centos</em> instead of <em>Ubuntu</em> you could make use of the <strong>--os-familu</strong> option:</p>
<pre><code>     fabric:container-create-cloud --provider aws-ec2 --os-family centos mycontainer

     fabric:container-create-cloud --provider aws-ec2 --os-family centos --os-version 5 mycontainer
</code></pre><p>The latest will try to find any centos version that contains 5 inside it.</p>
<p>Of course if you have need to specify the exact image, Fabric will allow you to using the <strong>--image</strong> option.</p>
<pre><code>     fabric:container-create-cloud --provider aws-ec2 --image myimageid mycontainer
</code></pre><p>The command will display the creation status and also some usefull information, once the creation is complete:</p>
<pre><code>    Looking up for compute service.
    Creating 1 nodes in the cloud. Using operating system: ubuntu. It may take a while ...
    Node fabric-f674a68f has been created.
    Configuring firewall.
    Installing fabric agent on container cloud. It may take a while...
    Overriding resolver to publichostname.
                      [id] [container]                    [public addresses]             [status]
      us-east-1/i-f674a68f cloud                          [23.20.114.82]                 success
</code></pre><h4 id="creating-a-new-fabric-ensemble-in-the-cloud">Creating a new Fabric ensemble in the cloud</h4>
<p>The cloud container provider not only allows you to create containers in the cloud, it also allows you to create a new ensemble in the cloud using the <strong>--ensemble-server</strong> option.
Here is a short clip that demonstrates how you can create a new ensemble in the cloud and join that from the premisses:</p>
<object width="853" height="480"><param name="movie" value="http://www.youtube.com/v/zTMoz_5bBDY?version=3&amp;hl=en_US&amp;rel=0"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="http://www.youtube.com/v/zTMoz_5bBDY?version=3&amp;hl=en_US&amp;rel=0" type="application/x-shockwave-flash" width="853" height="480" allowscriptaccess="always" allowfullscreen="true"></embed></object>

<p>As already mentioned above this approach is the easier way to get you going with a hybrid cloud solution.</p>
<h3 id="images">Images</h3>
<p>Regardless of the way that you specify the image <em>(directly or indirectly)</em> the image needs to have some of the following characteristics:</p>
<ul>
<li><strong>Linux images</strong></li>
<li><strong>RedHat or Debian packaging style</strong></li>
<li><strong>No Java installation or Java 1.6+</strong> If there is no java installed, fabric will do so for you, however it will not work if an incompatible java version is already installed.</li>
</ul>
<p>You can also create an image of your own and use that instead. However, that may require different configuration preparation.
For Amazon EC2 you will need to specify the owner id of the private image, when registering the provider:</p>
<pre><code>    fabric:cloud-service-add --owner myownerid cloudservers-us myidentity mycredential
</code></pre><h3 id="locations-hardware">Locations &amp; Hardware</h3>
<p>Most cloud providers will give you the option to create containers on different location or using different hardware profiles.
You may wonder which are the proper values to use for your provider. Even though fabric provides completion for <em>all</em> configuration options, you still may want to get a list of them.</p>
<p>To list all of the avaialble locations:</p>
<pre><code>    jclouds:location-list
</code></pre><p>The output for Amazon EC2 will look like this:</p>
<pre><code>    [id]                             [scope]   [description]
    aws-ec2                          PROVIDER  https://ec2.us-east-1.amazonaws.com
      sa-east-1                      REGION    sa-east-1
        sa-east-1a                   ZONE      sa-east-1a
        sa-east-1b                   ZONE      sa-east-1b
      us-west-1                      REGION    us-west-1
        us-west-1a                   ZONE      us-west-1a
        us-west-1c                   ZONE      us-west-1c
        us-west-1b                   ZONE      us-west-1b
      us-east-1                      REGION    us-east-1
        us-east-1d                   ZONE      us-east-1d
        us-east-1c                   ZONE      us-east-1c
        us-east-1e                   ZONE      us-east-1e
        us-east-1a                   ZONE      us-east-1a
        us-east-1b                   ZONE      us-east-1b
      ap-northeast-1                 REGION    ap-northeast-1
        ap-northeast-1a              ZONE      ap-northeast-1a
        ap-northeast-1b              ZONE      ap-northeast-1b
      ap-southeast-1                 REGION    ap-southeast-1
        ap-southeast-1a              ZONE      ap-southeast-1a
        ap-southeast-1b              ZONE      ap-southeast-1b
      eu-west-1                      REGION    eu-west-1
        eu-west-1c                   ZONE      eu-west-1c
        eu-west-1a                   ZONE      eu-west-1a
        eu-west-1b                   ZONE      eu-west-1b
      us-west-2                      REGION    us-west-2
        us-west-2b                   ZONE      us-west-2b
        us-west-2c                   ZONE      us-west-2c
        us-west-2a                   ZONE      us-west-2a
</code></pre><p>To list all the available hardware profiles:</p>
<pre><code>        jclouds:hardware-list
</code></pre><p>The hardware profiles for Amazon EC2 will look like:</p>
<pre><code>        [id]                 [cpu] [cores]  [ram]
        cc1.4xlarge           32.0     8.0 23552.0
        cg1.4xlarge           32.0     8.0 22528.0
        cc2.8xlarge           88.0    16.0 61952.0
        t1.micro               1.0     1.0  630.0
        c1.medium              5.0     2.0 1740.0
        c1.xlarge             20.0     8.0 7168.0
        m1.large               4.0     2.0 7680.0
        m1.small               1.0     1.0 1740.0
        m1.medium              2.0     1.0 3750.0
        m1.xlarge              8.0     4.0 15360.0
        m2.xlarge              6.5     2.0 17510.0
        m2.2xlarge            13.0     4.0 35020.0
        m2.4xlarge            26.0     8.0 70041.0
</code></pre><p>You can do the same for images.</p>
<p>To make use of those information for creating a Fabric in the cloud you can specify them as options:</p>
<pre><code>     fabric:container-create-cloud --provider aws-ec2 --location eu-west-1 --hardware m2.4xlarge mycontainer
</code></pre><p>The example above will create a new fabric container on the <em>eu-west-1</em> region and will use the <em>m2.4xlarge</em> hardware profile.</p>
<p>Here is a small clip that demonstrates how you can acquire those information from your cloud provider:</p>
<object width="853" height="480"><param name="movie" value="http://www.youtube.com/v/wVsazzjIlAo?version=3&amp;hl=en_US&amp;rel=0"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="http://www.youtube.com/v/wVsazzjIlAo?version=3&amp;hl=en_US&amp;rel=0" type="application/x-shockwave-flash" width="853" height="480" allowscriptaccess="always" allowfullscreen="true"></embed></object>

<h3 id="fabric8-examples-in-the-cloud">Fabric8 Examples in the Cloud</h3>
<p>Fabric8 ships out of the box some really interesting example of how you can use Fabric8 with Camel and ActiveMQ. In the following clip you&#39;ll see how you can run on of these examples in the cloud using Fabric8&#39;s cloud container provider.
More specifically you&#39;ll see how:</p>
<ul>
<li><strong>Setup MQ containers in the cloud as master/slave</strong></li>
<li><strong>Discover brokers using the Fabric runtime registry</strong></li>
<li><strong>Run the camel example in the cloud that leverages broker discovery of Fabric</strong></li>
<li><strong>Use the shell to retrieve live information about your running routes</strong></li>
</ul>
<object width="853" height="480"><param name="movie" value="http://www.youtube.com/v/QBCxr5dHEHY?version=3&amp;hl=en_US&amp;rel=0"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="http://www.youtube.com/v/QBCxr5dHEHY?version=3&amp;hl=en_US&amp;rel=0" type="application/x-shockwave-flash" width="853" height="480" allowscriptaccess="always" allowfullscreen="true"></embed></object>



                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="./sshContainers.html" class="navigation navigation-prev " aria-label="Previous page: SSH Containers"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./gateway.html" class="navigation navigation-next " aria-label="Next page: Additional Features"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="gitbook/app.js"></script>
        

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
