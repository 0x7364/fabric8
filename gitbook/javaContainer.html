<!DOCTYPE HTML>
<html lang="en-US" manifest="./manifest.appcache">
    
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        
        <meta charset="UTF-8">
        <title>Java Container | Fabric8 Documentation</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="fabric8io">
        <meta name="description" content="Fabric8 User Guide and Reference Documentation">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="./processContainer.html" />
        
        
        <link rel="prev" href="./microServices.html" />
        

        <meta property="og:title" content="Java Container | Fabric8 Documentation">
        <meta property="og:site_name" content="Fabric8 Documentation">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/fabric8io">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
        
    </head>
    <body>
        
        

        <link rel="stylesheet" href="gitbook/style.css">
        

    
    <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-anchors/plugin.css">
    


        
    <div class="book" data-github="fabric8io/fabric8" data-level="5.2" data-basepath="." data-revision="1405279432978">
    <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    
    <a href="http://fabric8.io/" target="_blank" class="btn pull-left home-bookmark" aria-label="GitHub home"><i class="fa fa-bookmark-o"></i></a>
    
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="btn-group btn-block">
        <button id="reduce-font-size" class="btn btn-default">A</button>
        <button id="enlarge-font-size" class="btn btn-default">A</button>
    </div>

    <ul class="list-group font-family-list">
        <li class="list-group-item" data-font="0">Serif</li>
        <li class="list-group-item" data-font="1">Sans</li>
    </ul>

    <div class="btn-group btn-group-xs btn-block color-theme-list">
        <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
    </div>
</div>

    </span>

    <!-- Actions Right -->
    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    

    
    <a href="https://github.com/fabric8io/fabric8/stargazers" target="_blank" class="btn pull-right count-star hidden-xs"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/fabric8io/fabric8/watchers" target="_blank" class="btn pull-right count-watch hidden-xs"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="./" >Fabric8 Documentation</a>
    </h1>
</div>

    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        <li>
            <a href="http://fabric8.io/docs/index.html" target="blank" class="author-link">About the author</a>
        </li>
        

        
        
        <li>
            <a href="https://github.com/fabric8io/fabric8/issues?milestone=none&amp;state=closed" target="blank"class="issues-link">Questions and Issues</a>
        </li>
        

        
        
        <li>
            <a href="http://fabric8.io/contributing/index.html" target="blank" class="contribute-link">Edit and Contribute</a>
        </li>
        

        
        <li class="divider"></li>
        

        <li data-level="0" data-path="index.html">
            <a href="./"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
    
        <li class="chapter " data-level="1" data-path="overview.html">
            
            <a href="./overview.html">
                <i class="fa fa-check"></i> <b>1.</b> Overview
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="getStarted.html">
            
            <a href="./getStarted.html">
                <i class="fa fa-check"></i> <b>2.</b> Get Started
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="quickstarts.html">
            
            <a href="./quickstarts.html">
                <i class="fa fa-check"></i> <b>2.1.</b> QuickStarts
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="environmentVariables.html">
            
            <a href="./environmentVariables.html">
                <i class="fa fa-check"></i> <b>2.2.</b> Environment Variables
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="developer.html">
            
            <a href="./developer.html">
                <i class="fa fa-check"></i> <b>3.</b> Developing
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="developer.html">
            
            <a href="./developer.html">
                <i class="fa fa-check"></i> <b>3.1.</b> Workflow
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="mavenPlugin.html">
            
            <a href="./mavenPlugin.html">
                <i class="fa fa-check"></i> <b>3.2.</b> Maven Plugin
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="debugging.html">
            
            <a href="./debugging.html">
                <i class="fa fa-check"></i> <b>3.3.</b> Debugging
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="continuousDeployment.html">
            
            <a href="./continuousDeployment.html">
                <i class="fa fa-check"></i> <b>3.4.</b> Continuous Deployment
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="migration.html">
            
            <a href="./migration.html">
                <i class="fa fa-check"></i> <b>3.5.</b> Migration
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="architecture.html">
            
            <a href="./architecture.html">
                <i class="fa fa-check"></i> <b>4.</b> Architecture
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="registry.html">
            
            <a href="./registry.html">
                <i class="fa fa-check"></i> <b>4.1.</b> Registry
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="profiles.html">
            
            <a href="./profiles.html">
                <i class="fa fa-check"></i> <b>4.2.</b> Profiles
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="agent.html">
            
            <a href="./agent.html">
                <i class="fa fa-check"></i> <b>4.3.</b> Agent
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="git.html">
            
            <a href="./git.html">
                <i class="fa fa-check"></i> <b>4.4.</b> Git
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="mavenProxy.html">
            
            <a href="./mavenProxy.html">
                <i class="fa fa-check"></i> <b>4.5.</b> Maven Proxy
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="containers.html">
            
            <a href="./containers.html">
                <i class="fa fa-check"></i> <b>5.</b> Containers
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="microServices.html">
            
            <a href="./microServices.html">
                <i class="fa fa-check"></i> <b>5.1.</b> Micro Services
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="javaContainer.html">
            
            <a href="./javaContainer.html">
                <i class="fa fa-check"></i> <b>5.2.</b> Java Container
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="processContainer.html">
            
            <a href="./processContainer.html">
                <i class="fa fa-check"></i> <b>5.3.</b> Process Container
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="springBootContainer.html">
            
            <a href="./springBootContainer.html">
                <i class="fa fa-check"></i> <b>5.4.</b> Spring Boot Container
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="docker.html">
            
            <a href="./docker.html">
                <i class="fa fa-check"></i> <b>5.5.</b> Docker
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="sshContainers.html">
            
            <a href="./sshContainers.html">
                <i class="fa fa-check"></i> <b>5.6.</b> SSH Containers
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.7" data-path="cloudContainers.html">
            
            <a href="./cloudContainers.html">
                <i class="fa fa-check"></i> <b>5.7.</b> Cloud Containers
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="features.html">
            
            <a href="./features.html">
                <i class="fa fa-check"></i> <b>6.</b> Features
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="gateway.html">
            
            <a href="./gateway.html">
                <i class="fa fa-check"></i> <b>6.1.</b> Gateway
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="requirements.html">
            
            <a href="./requirements.html">
                <i class="fa fa-check"></i> <b>6.2.</b> Auto Scaling
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="rollingUpgrade.html">
            
            <a href="./rollingUpgrade.html">
                <i class="fa fa-check"></i> <b>6.3.</b> Rolling Upgrade
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="offlineRepo.html">
            
            <a href="./offlineRepo.html">
                <i class="fa fa-check"></i> <b>6.4.</b> Offline Repository
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="partition.html">
            
            <a href="./partition.html">
                <i class="fa fa-check"></i> <b>6.5.</b> Partition
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.6" data-path="processManager.html">
            
            <a href="./processManager.html">
                <i class="fa fa-check"></i> <b>6.6.</b> Process Manager
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.7" data-path="security.html">
            
            <a href="./security.html">
                <i class="fa fa-check"></i> <b>6.7.</b> Security
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.8" data-path="propertyResolver.html">
            
            <a href="./propertyResolver.html">
                <i class="fa fa-check"></i> <b>6.8.</b> Property Resolver
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.9" data-path="urlHandlers.html">
            
            <a href="./urlHandlers.html">
                <i class="fa fa-check"></i> <b>6.9.</b> URL Handlers
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="technologies.html">
            
            <a href="./technologies.html">
                <i class="fa fa-check"></i> <b>7.</b> Technologies
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="activemq.html">
            
            <a href="./activemq.html">
                <i class="fa fa-check"></i> <b>7.1.</b> Apache ActiveMQ
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1.1" data-path="brokerTopology.html">
            
            <a href="./brokerTopology.html">
                <i class="fa fa-check"></i> <b>7.1.1.</b> Broker Topology
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.1.2" data-path="brokerClients.html">
            
            <a href="./brokerClients.html">
                <i class="fa fa-check"></i> <b>7.1.2.</b> Broker Clients
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="camel.html">
            
            <a href="./camel.html">
                <i class="fa fa-check"></i> <b>7.2.</b> Apache Camel
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.2.1" data-path="dataTransform.html">
            
            <a href="./dataTransform.html">
                <i class="fa fa-check"></i> <b>7.2.1.</b> Data Transform
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.2" data-path="camelEndpointAmq.html">
            
            <a href="./camelEndpointAmq.html">
                <i class="fa fa-check"></i> <b>7.2.2.</b> amq: endpoint
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.3" data-path="camelEndpointFabric.html">
            
            <a href="./camelEndpointFabric.html">
                <i class="fa fa-check"></i> <b>7.2.3.</b> fabric: endpoint
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.4" data-path="camelEndpointMaster.html">
            
            <a href="./camelEndpointMaster.html">
                <i class="fa fa-check"></i> <b>7.2.4.</b> master: endpoint
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="cxf.html">
            
            <a href="./cxf.html">
                <i class="fa fa-check"></i> <b>7.3.</b> Apache CXF
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.3.1" data-path="cxfFabric.html">
            
            <a href="./cxfFabric.html">
                <i class="fa fa-check"></i> <b>7.3.1.</b> CXF Fabric
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 40.90909090909091%;min-width: 38.63636363636363%;"></div>
    </div>
    <div class="chapters">
    
        <a href="./index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="./overview.html" title="Overview" class="chapter done new-chapter" data-progress="1" style="left: 2.272727272727273%;"></a>
    
        <a href="./getStarted.html" title="Get Started" class="chapter done new-chapter" data-progress="2" style="left: 4.545454545454546%;"></a>
    
        <a href="./quickstarts.html" title="QuickStarts" class="chapter done " data-progress="2.1" style="left: 6.818181818181818%;"></a>
    
        <a href="./environmentVariables.html" title="Environment Variables" class="chapter done " data-progress="2.2" style="left: 9.090909090909092%;"></a>
    
        <a href="./developer.html" title="Workflow" class="chapter done " data-progress="3.1" style="left: 11.363636363636363%;"></a>
    
        <a href="./mavenPlugin.html" title="Maven Plugin" class="chapter done " data-progress="3.2" style="left: 13.636363636363637%;"></a>
    
        <a href="./debugging.html" title="Debugging" class="chapter done " data-progress="3.3" style="left: 15.909090909090908%;"></a>
    
        <a href="./continuousDeployment.html" title="Continuous Deployment" class="chapter done " data-progress="3.4" style="left: 18.181818181818183%;"></a>
    
        <a href="./migration.html" title="Migration" class="chapter done " data-progress="3.5" style="left: 20.454545454545453%;"></a>
    
        <a href="./architecture.html" title="Architecture" class="chapter done new-chapter" data-progress="4" style="left: 22.727272727272727%;"></a>
    
        <a href="./registry.html" title="Registry" class="chapter done " data-progress="4.1" style="left: 25%;"></a>
    
        <a href="./profiles.html" title="Profiles" class="chapter done " data-progress="4.2" style="left: 27.272727272727273%;"></a>
    
        <a href="./agent.html" title="Agent" class="chapter done " data-progress="4.3" style="left: 29.545454545454547%;"></a>
    
        <a href="./git.html" title="Git" class="chapter done " data-progress="4.4" style="left: 31.818181818181817%;"></a>
    
        <a href="./mavenProxy.html" title="Maven Proxy" class="chapter done " data-progress="4.5" style="left: 34.09090909090909%;"></a>
    
        <a href="./containers.html" title="Containers" class="chapter done new-chapter" data-progress="5" style="left: 36.36363636363637%;"></a>
    
        <a href="./microServices.html" title="Micro Services" class="chapter done " data-progress="5.1" style="left: 38.63636363636363%;"></a>
    
        <a href="./javaContainer.html" title="Java Container" class="chapter done " data-progress="5.2" style="left: 40.90909090909091%;"></a>
    
        <a href="./processContainer.html" title="Process Container" class="chapter  " data-progress="5.3" style="left: 43.18181818181818%;"></a>
    
        <a href="./springBootContainer.html" title="Spring Boot Container" class="chapter  " data-progress="5.4" style="left: 45.45454545454545%;"></a>
    
        <a href="./docker.html" title="Docker" class="chapter  " data-progress="5.5" style="left: 47.72727272727273%;"></a>
    
        <a href="./sshContainers.html" title="SSH Containers" class="chapter  " data-progress="5.6" style="left: 50%;"></a>
    
        <a href="./cloudContainers.html" title="Cloud Containers" class="chapter  " data-progress="5.7" style="left: 52.27272727272727%;"></a>
    
        <a href="./features.html" title="Features" class="chapter  new-chapter" data-progress="6" style="left: 54.54545454545455%;"></a>
    
        <a href="./gateway.html" title="Gateway" class="chapter  " data-progress="6.1" style="left: 56.81818181818182%;"></a>
    
        <a href="./requirements.html" title="Auto Scaling" class="chapter  " data-progress="6.2" style="left: 59.09090909090909%;"></a>
    
        <a href="./rollingUpgrade.html" title="Rolling Upgrade" class="chapter  " data-progress="6.3" style="left: 61.36363636363637%;"></a>
    
        <a href="./offlineRepo.html" title="Offline Repository" class="chapter  " data-progress="6.4" style="left: 63.63636363636363%;"></a>
    
        <a href="./partition.html" title="Partition" class="chapter  " data-progress="6.5" style="left: 65.9090909090909%;"></a>
    
        <a href="./processManager.html" title="Process Manager" class="chapter  " data-progress="6.6" style="left: 68.18181818181819%;"></a>
    
        <a href="./security.html" title="Security" class="chapter  " data-progress="6.7" style="left: 70.45454545454545%;"></a>
    
        <a href="./propertyResolver.html" title="Property Resolver" class="chapter  " data-progress="6.8" style="left: 72.72727272727273%;"></a>
    
        <a href="./urlHandlers.html" title="URL Handlers" class="chapter  " data-progress="6.9" style="left: 75%;"></a>
    
        <a href="./technologies.html" title="Technologies" class="chapter  new-chapter" data-progress="7" style="left: 77.27272727272727%;"></a>
    
        <a href="./activemq.html" title="Apache ActiveMQ" class="chapter  " data-progress="7.1" style="left: 79.54545454545455%;"></a>
    
        <a href="./brokerTopology.html" title="Broker Topology" class="chapter  " data-progress="7.1.1" style="left: 81.81818181818181%;"></a>
    
        <a href="./brokerClients.html" title="Broker Clients" class="chapter  " data-progress="7.1.2" style="left: 84.0909090909091%;"></a>
    
        <a href="./camel.html" title="Apache Camel" class="chapter  " data-progress="7.2" style="left: 86.36363636363636%;"></a>
    
        <a href="./dataTransform.html" title="Data Transform" class="chapter  " data-progress="7.2.1" style="left: 88.63636363636364%;"></a>
    
        <a href="./camelEndpointAmq.html" title="amq: endpoint" class="chapter  " data-progress="7.2.2" style="left: 90.9090909090909%;"></a>
    
        <a href="./camelEndpointFabric.html" title="fabric: endpoint" class="chapter  " data-progress="7.2.3" style="left: 93.18181818181819%;"></a>
    
        <a href="./camelEndpointMaster.html" title="master: endpoint" class="chapter  " data-progress="7.2.4" style="left: 95.45454545454545%;"></a>
    
        <a href="./cxf.html" title="Apache CXF" class="chapter  " data-progress="7.3" style="left: 97.72727272727273%;"></a>
    
        <a href="./cxfFabric.html" title="CXF Fabric" class="chapter  " data-progress="7.3.1" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_25">
                    
                        <h2 id="java-container"><a name="java-container" class="anchor" href="#java-container"><span class="fa fa-link"></span></a>Java Container</h2>
<p>The <em>Java Container</em> is a way to provision and run a stand alone JVM process where you can define the exact classpath to be used, the main Java class, the java agent, JVM arguments and command line arguments. Its the ideal container for working with <a href="microServices.html">Micro Services</a> since you have full control over exactly how much or how little middleware you wish to use; what versions of which developer frameworks and so forth.</p>
<p>You configure the Java container via the <a href="https://github.com/fabric8io/fabric8/blob/master/fabric/fabric8-karaf/src/main/resources/distro/fabric/import/fabric/profiles/containers/java.camel.spring.profile/io.fabric8.container.java.properties" target="_blank">io.fabric8.container.java.properties</a> file in your <a href="profiles.html">profile</a>. This is the profile configuration which is used by fabric8 to determine if the Java Container is to be used when creating a container for a profile.</p>
<p>Note that no application server or fabric8 jars are required to be inside the JVM. There is no Class Loader magic or strangeness going on. Literally its a flat classpath which you control the exact jars to be put on the classpath - thats it!</p>
<p>In fabric8 speak, we define a <a href="profiles.html">profile</a> for each service; then we use fabric8 to create as many (java) containers as we need for the service. Fabric8 takes care of provisioning the containers and managing things. So fabric8 helps make Micro Services easy to use, manage and monitor.</p>
<h3 id="example"><a name="example" class="anchor" href="#example"><span class="fa fa-link"></span></a>Example</h3>
<p>For example take any Java maven archetype project which has an executable main of some kind. e.g. the Apache Camel spring archetype.</p>
<ul>
<li>create a fabric using the <a href="getStarted.html">latest distribution</a></li>
<li>create the archetype and build it locally to check it works:</li>
</ul>
<pre><code>mvn archetype:generate -DarchetypeArtifactId=camel-archetype-spring -DarchetypeVersionId=2.13.0 -DarchetypeGroupId=org.apache.camel.archetypes
</code></pre><ul>
<li>enter <strong>cool</strong> for the groupId and <strong>mydemo</strong> for the artifact id</li>
<li>run the following <strong><a href="mavenPlugin.html">mvn fabric8:deploy</a></strong> goal to upload the maven project into fabric8 as a profile:</li>
</ul>
<pre><code>cd mydemo
mvn io.fabric8:fabric8-maven-plugin:1.1.0.CR2:deploy -Dfabric8.parentProfiles=containers-java.camel.spring
</code></pre><ul>
<li>In this particular case we specify the parent profile: <strong>containers-java.camel.spring</strong> which knows how to use a Java main() from the dependent camel/spring code in the project. Note that this parameter is currently optional; as the maven plugin tries its best to detect the correct parent profile to use; but its included for completeness.</li>
<li>you should be able to see the new profile now in the wiki at <a href="http://localhost:8181/hawtio/index.html#/wiki/branch/1.0/view/fabric/profiles/cool/mydemo.profile" target="_blank">http://localhost:8181/hawtio/index.html#/wiki/branch/1.0/view/fabric/profiles/cool/mydemo.profile</a></li>
</ul>
<h3 id="using-child-containers"><a name="using-child-containers" class="anchor" href="#using-child-containers"><span class="fa fa-link"></span></a>Using Child Containers</h3>
<p>Now create a new container of the newly created <strong>cool-mydemo</strong> profile using the default <strong>child</strong> container provider.</p>
<p>e.g. navigate to the <a href="http://localhost:8181/hawtio/index.html#/wiki/branch/1.0/view/fabric/profiles/cool/mydemo.profile" target="_blank">cool-mydemo profile wiki page</a> and click the <strong>New</strong> button (on the top right) then enter a container name and click <strong>Create Container</strong></p>
<p>Fabric8 will then create a new process for the container in the <strong>processes/$containerName</strong> folder in your fabric installation using the <a href="processManager.html">Process Manager</a> capability.</p>
<p>Fabric8 will then copy all the jars defined in the maven project into the <strong>processes/$containerName/lib</strong> directory and startup the JVM using the <strong>bin/launcher</strong> command. The JVM comes with a <a href="http://jolokia.org/" target="_blank">jolokia</a> java agent so that you can then connect into the JVM&apos;s <a href="http://hawt.io/" target="_blank">hawtio web console</a>  to view its Camel routes or JMX MBeans etc.</p>
<p>Notice that the Java container works like any other fabric8 container; you can start it, stop it, view the container status page; see its type, provision status, provision list and so forth. Plus you can connect into it and see its <a href="http://hawt.io/" target="_blank">hawtio web console</a> (such as Camel routes etc).</p>
<p>Whats really interesting is; the Class Path is specified completely by your projects pom.xml; that defines exactly what gets put into the lib directory. So if the Java works in a maven compile or test, it will work inside the fabric8 java container! No more Class Path hell :)</p>
<h3 id="using-docker-containers"><a name="using-docker-containers" class="anchor" href="#using-docker-containers"><span class="fa fa-link"></span></a>Using Docker Containers</h3>
<p>First you need to install <a href="https://www.docker.io/gettingstarted/#h_installation" target="_blank">docker</a>, setup the <a href="docker.html">environment variables</a> and add the <a href="docker.html">docker profile</a> to the root container so you can create docker containers in fabric8.</p>
<p>Now create a new container of the newly created <strong>cool-mydemo</strong> profile using the default <strong>docker</strong> container provider.</p>
<p>e.g. navigate to the <a href="http://localhost:8181/hawtio/index.html#/wiki/branch/1.0/view/fabric/profiles/cool/mydemo.profile" target="_blank">cool-mydemo profile wiki page</a> and click the <strong>New</strong> button (on the top right) then enter a container name and click <strong>Create Container</strong></p>
<p>Fabric8 will then create a new docker container image from the base <a href="https://github.com/fabric8io/fabric8-java-docker" target="_blank">java docker container</a> for your profile using the jars defined in the maven project and startup the JVM along with a <a href="http://jolokia.org/" target="_blank">jolokia</a> java agent so that you can then connect into the JVM&apos;s <a href="http://hawt.io/" target="_blank">hawtio web console</a> to view its Camel routes or JMX MBeans etc.</p>
<p>You should see in the logs of the root container how fabric8 will create a new docker image, copying the jars from fabric8&apos;s internal <a href="mavenProxy.html">maven repository</a> into the docker container image. e.g. if you look at the images and containers tabs in the Docker tab in the console you should see the new image and the new container.</p>
<p>So with Docker each profile has its own docker image and each Java Container is a separate docker container.</p>
<p>If you want to poke around inside the new container image to see how it put jars into the lib directory create a new docker container using the image and bash. e.g. run a command like this on the command line where SOME_ID is the image id of the image that fabric8 created:</p>
<pre><code>docker run -i SOME_ID /bin/bash
</code></pre><h4 id="configuring-the-docker-image"><a name="configuring-the-docker-image" class="anchor" href="#configuring-the-docker-image"><span class="fa fa-link"></span></a>Configuring the Docker image</h4>
<p>The default java docker image works great; but you can use a different base image if, for example, you want to use a different unix/java installation or have some stuff already baked into the file system or lib directory etc.</p>
<p>To configure the docker base image just add a <a href="https://github.com/fabric8io/fabric8/blob/master/fabric/fabric8-karaf/src/main/resources/distro/fabric/import/fabric/profiles/containers/java.profile/io.fabric8.docker.provider.properties#L17" target="_blank">io.fabric8.docker.provider.properties</a> file to your profile and change the <strong>image</strong> property to specify which docker image you use to boot up the micro service.</p>
<h3 id="configuring-the-java-container"><a name="configuring-the-java-container" class="anchor" href="#configuring-the-java-container"><span class="fa fa-link"></span></a>Configuring the Java Container</h3>
<p>Fabric8 comes with a number of <a href="https://github.com/fabric8io/fabric8/tree/master/fabric/fabric8-karaf/src/main/resources/distro/fabric/import/fabric/profiles/containers" target="_blank">java container profiles</a> out of the box. If you want to configure how the java container works; such as to configure the main java class, change the java agent, JVM arguments or command line arguments, just add your own <a href="https://github.com/fabric8io/fabric8/blob/master/fabric/fabric8-karaf/src/main/resources/distro/fabric/import/fabric/profiles/containers/java.camel.spring.profile/io.fabric8.container.java.properties" target="_blank">io.fabric8.container.java.properties</a> file to your profile.</p>
<p>For example this <a href="https://github.com/fabric8io/fabric8/blob/master/fabric/fabric8-karaf/src/main/resources/distro/fabric/import/fabric/profiles/containers/java.camel.spring.profile/io.fabric8.container.java.properties" target="_blank">example io.fabric8.container.java.properties file</a> specifies how to boot up the Java container main using camel and spring.</p>
<p>You can specify environment variables via: <a href="https://github.com/fabric8io/fabric8/blob/master/fabric/fabric8-karaf/src/main/resources/distro/fabric/import/fabric/profiles/containers/tomcat.profile/io.fabric8.environment.properties" target="_blank">io.fabric8.environment.properties</a></p>
<p>You can define the ports that your process will expose via: <a href="https://github.com/fabric8io/fabric8/blob/master/fabric/fabric8-karaf/src/main/resources/distro/fabric/import/fabric/profiles/containers/tomcat.profile/io.fabric8.ports.properties" target="_blank">io.fabric8.ports.properties</a>. For each entry (say FOO) in the file you will have the internal port value specified as the environment variable <strong>FABRIC8_FOO_PORT</strong> and the external port value specified as <strong>FABRIC8_FOO_PROXY_PORT</strong>. e.g. when using Java, Process or Docker containers, the FABRIC8_FOO_PROXY_PORT will be dynamically generated to be unique for each container.</p>
<p>You can overlay any files (e.g. add deployment units and so forth) via <a href="https://github.com/fabric8io/fabric8/blob/master/fabric/fabric8-karaf/src/main/resources/distro/fabric/import/fabric/profiles/containers/tomcat.profile/io.fabric8.process.overlay.resources.properties" target="_blank">io.fabric8.process.overlay.resources.properties</a></p>
<p>We&apos;d love to have out of the box profiles for all the popular Java application frameworks which have a main Java bootstrap mechanism; such as CDI, Spring Boot, Vertx, DropWizard etc. If there&apos;s anything you think we&apos;re missing we love <a href="contributing/index.html">contributions</a>!</p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="./microServices.html" class="navigation navigation-prev " aria-label="Previous page: Micro Services"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./processContainer.html" class="navigation navigation-next " aria-label="Next page: Process Container"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="gitbook/app.js"></script>
        

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
