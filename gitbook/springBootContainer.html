<!DOCTYPE HTML>
<html lang="en-US" manifest="./manifest.appcache">
    
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        
        <meta charset="UTF-8">
        <title>Spring Boot Container | Fabric8 Documentation</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="fabric8io">
        <meta name="description" content="Fabric8 User Guide and Reference Documentation">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="./docker.html" />
        
        
        <link rel="prev" href="./processContainer.html" />
        

        <meta property="og:title" content="Spring Boot Container | Fabric8 Documentation">
        <meta property="og:site_name" content="Fabric8 Documentation">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/fabric8io">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
        
    </head>
    <body>
        
        

        <link rel="stylesheet" href="gitbook/style.css">
        

    
    <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-anchors/plugin.css">
    


        
    <div class="book" data-github="fabric8io/fabric8" data-level="5.5" data-basepath="." data-revision="1412469359587">
    <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    
    <a href="http://fabric8.io/" target="_blank" class="btn pull-left home-bookmark" aria-label="GitHub home"><i class="fa fa-bookmark-o"></i></a>
    
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="btn-group btn-block">
        <button id="reduce-font-size" class="btn btn-default">A</button>
        <button id="enlarge-font-size" class="btn btn-default">A</button>
    </div>

    <ul class="list-group font-family-list">
        <li class="list-group-item" data-font="0">Serif</li>
        <li class="list-group-item" data-font="1">Sans</li>
    </ul>

    <div class="btn-group btn-group-xs btn-block color-theme-list">
        <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
    </div>
</div>

    </span>

    <!-- Actions Right -->
    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    

    
    <a href="https://github.com/fabric8io/fabric8/stargazers" target="_blank" class="btn pull-right count-star hidden-xs"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/fabric8io/fabric8/watchers" target="_blank" class="btn pull-right count-watch hidden-xs"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="./" >Fabric8 Documentation</a>
    </h1>
</div>

    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        <li>
            <a href="http://fabric8.io/docs/index.html" target="blank" class="author-link">About the author</a>
        </li>
        

        
        
        <li>
            <a href="https://github.com/fabric8io/fabric8/issues?milestone=none&amp;state=closed" target="blank"class="issues-link">Questions and Issues</a>
        </li>
        

        
        
        <li>
            <a href="http://fabric8.io/contributing/index.html" target="blank" class="contribute-link">Edit and Contribute</a>
        </li>
        

        
        <li class="divider"></li>
        

        <li data-level="0" data-path="index.html">
            <a href="./"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
    
        <li class="chapter " data-level="1" data-path="overview.html">
            
            <a href="./overview.html">
                <i class="fa fa-check"></i> <b>1.</b> Overview
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="getStarted.html">
            
            <a href="./getStarted.html">
                <i class="fa fa-check"></i> <b>2.</b> Get Started
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="quickstarts.html">
            
            <a href="./quickstarts.html">
                <i class="fa fa-check"></i> <b>2.1.</b> QuickStarts
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="environmentVariables.html">
            
            <a href="./environmentVariables.html">
                <i class="fa fa-check"></i> <b>2.2.</b> Environment Variables
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="developer.html">
            
            <a href="./developer.html">
                <i class="fa fa-check"></i> <b>3.</b> Developing
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="developer.html">
            
            <a href="./developer.html">
                <i class="fa fa-check"></i> <b>3.1.</b> Workflow
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="mavenPlugin.html">
            
            <a href="./mavenPlugin.html">
                <i class="fa fa-check"></i> <b>3.2.</b> Maven Plugin
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="debugging.html">
            
            <a href="./debugging.html">
                <i class="fa fa-check"></i> <b>3.3.</b> Debugging
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="arquillian.html">
            
            <a href="./arquillian.html">
                <i class="fa fa-check"></i> <b>3.4.</b> Arquillian
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="continuousDeployment.html">
            
            <a href="./continuousDeployment.html">
                <i class="fa fa-check"></i> <b>3.5.</b> Continuous Deployment
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="migration.html">
            
            <a href="./migration.html">
                <i class="fa fa-check"></i> <b>3.6.</b> Migration
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="architecture.html">
            
            <a href="./architecture.html">
                <i class="fa fa-check"></i> <b>4.</b> Architecture
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="registry.html">
            
            <a href="./registry.html">
                <i class="fa fa-check"></i> <b>4.1.</b> Registry
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="profiles.html">
            
            <a href="./profiles.html">
                <i class="fa fa-check"></i> <b>4.2.</b> Profiles
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="agent.html">
            
            <a href="./agent.html">
                <i class="fa fa-check"></i> <b>4.3.</b> Agent
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="git.html">
            
            <a href="./git.html">
                <i class="fa fa-check"></i> <b>4.4.</b> Git
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="mavenProxy.html">
            
            <a href="./mavenProxy.html">
                <i class="fa fa-check"></i> <b>4.5.</b> Maven Proxy
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="containers.html">
            
            <a href="./containers.html">
                <i class="fa fa-check"></i> <b>5.</b> Containers
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="childContainers.html">
            
            <a href="./childContainers.html">
                <i class="fa fa-check"></i> <b>5.1.</b> Child Containers
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="microServices.html">
            
            <a href="./microServices.html">
                <i class="fa fa-check"></i> <b>5.2.</b> Micro Services
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="javaContainer.html">
            
            <a href="./javaContainer.html">
                <i class="fa fa-check"></i> <b>5.3.</b> Java Container
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="processContainer.html">
            
            <a href="./processContainer.html">
                <i class="fa fa-check"></i> <b>5.4.</b> Process Container
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="springBootContainer.html">
            
            <a href="./springBootContainer.html">
                <i class="fa fa-check"></i> <b>5.5.</b> Spring Boot Container
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="docker.html">
            
            <a href="./docker.html">
                <i class="fa fa-check"></i> <b>5.6.</b> Docker
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.7" data-path="kubernetes.html">
            
            <a href="./kubernetes.html">
                <i class="fa fa-check"></i> <b>5.7.</b> Kubernetes
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.8" data-path="sshContainers.html">
            
            <a href="./sshContainers.html">
                <i class="fa fa-check"></i> <b>5.8.</b> SSH Containers
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.9" data-path="openshift.html">
            
            <a href="./openshift.html">
                <i class="fa fa-check"></i> <b>5.9.</b> OpenShift
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.10" data-path="cloudContainers.html">
            
            <a href="./cloudContainers.html">
                <i class="fa fa-check"></i> <b>5.10.</b> Cloud Containers
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="features.html">
            
            <a href="./features.html">
                <i class="fa fa-check"></i> <b>6.</b> Features
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="gateway.html">
            
            <a href="./gateway.html">
                <i class="fa fa-check"></i> <b>6.1.</b> Gateway
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="requirements.html">
            
            <a href="./requirements.html">
                <i class="fa fa-check"></i> <b>6.2.</b> Auto Scaling
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="rollingUpgrade.html">
            
            <a href="./rollingUpgrade.html">
                <i class="fa fa-check"></i> <b>6.3.</b> Rolling Upgrade
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="osgiResolver.html">
            
            <a href="./osgiResolver.html">
                <i class="fa fa-check"></i> <b>6.4.</b> OSGi Resolver
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="offlineRepo.html">
            
            <a href="./offlineRepo.html">
                <i class="fa fa-check"></i> <b>6.5.</b> Offline Repository
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.6" data-path="partition.html">
            
            <a href="./partition.html">
                <i class="fa fa-check"></i> <b>6.6.</b> Partition
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.7" data-path="processManager.html">
            
            <a href="./processManager.html">
                <i class="fa fa-check"></i> <b>6.7.</b> Process Manager
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.8" data-path="security.html">
            
            <a href="./security.html">
                <i class="fa fa-check"></i> <b>6.8.</b> Security
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.9" data-path="propertyResolver.html">
            
            <a href="./propertyResolver.html">
                <i class="fa fa-check"></i> <b>6.9.</b> Property Resolver
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.10" data-path="urlHandlers.html">
            
            <a href="./urlHandlers.html">
                <i class="fa fa-check"></i> <b>6.10.</b> URL Handlers
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="technologies.html">
            
            <a href="./technologies.html">
                <i class="fa fa-check"></i> <b>7.</b> Technologies
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="activemq.html">
            
            <a href="./activemq.html">
                <i class="fa fa-check"></i> <b>7.1.</b> Apache ActiveMQ
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1.1" data-path="brokerTopology.html">
            
            <a href="./brokerTopology.html">
                <i class="fa fa-check"></i> <b>7.1.1.</b> Broker Topology
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.1.2" data-path="brokerClients.html">
            
            <a href="./brokerClients.html">
                <i class="fa fa-check"></i> <b>7.1.2.</b> Broker Clients
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="camel.html">
            
            <a href="./camel.html">
                <i class="fa fa-check"></i> <b>7.2.</b> Apache Camel
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.2.1" data-path="dataTransform.html">
            
            <a href="./dataTransform.html">
                <i class="fa fa-check"></i> <b>7.2.1.</b> Data Transform
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.2" data-path="camelEndpointAmq.html">
            
            <a href="./camelEndpointAmq.html">
                <i class="fa fa-check"></i> <b>7.2.2.</b> amq: endpoint
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.3" data-path="camelEndpointFabric.html">
            
            <a href="./camelEndpointFabric.html">
                <i class="fa fa-check"></i> <b>7.2.3.</b> fabric: endpoint
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.4" data-path="camelEndpointMaster.html">
            
            <a href="./camelEndpointMaster.html">
                <i class="fa fa-check"></i> <b>7.2.4.</b> master: endpoint
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="cxf.html">
            
            <a href="./cxf.html">
                <i class="fa fa-check"></i> <b>7.3.</b> Apache CXF
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.3.1" data-path="cxfFabric.html">
            
            <a href="./cxfFabric.html">
                <i class="fa fa-check"></i> <b>7.3.1.</b> CXF Fabric
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="spring.html">
            
            <a href="./spring.html">
                <i class="fa fa-check"></i> <b>7.4.</b> Spring framework
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" data-path="FAQ.html">
            
            <a href="./FAQ.html">
                <i class="fa fa-check"></i> <b>8.</b> FAQ
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1" data-path="faqGeneral.html">
            
            <a href="./faqGeneral.html">
                <i class="fa fa-check"></i> <b>8.1.</b> General Questions
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="faqUsing.html">
            
            <a href="./faqUsing.html">
                <i class="fa fa-check"></i> <b>8.2.</b> Questions On Using Fabric8
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.3" data-path="faqConfig.html">
            
            <a href="./faqConfig.html">
                <i class="fa fa-check"></i> <b>8.3.</b> Configuration Questions
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.4" data-path="faqIssues.html">
            
            <a href="./faqIssues.html">
                <i class="fa fa-check"></i> <b>8.4.</b> Known Issues
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.4.1" data-path="faqOsgi.html">
            
            <a href="./faqOsgi.html">
                <i class="fa fa-check"></i> <b>8.4.1.</b> Questions on OSGi and Fabric8
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 41.07142857142857%;min-width: 39.285714285714285%;"></div>
    </div>
    <div class="chapters">
    
        <a href="./index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="./overview.html" title="Overview" class="chapter done new-chapter" data-progress="1" style="left: 1.7857142857142858%;"></a>
    
        <a href="./getStarted.html" title="Get Started" class="chapter done new-chapter" data-progress="2" style="left: 3.5714285714285716%;"></a>
    
        <a href="./quickstarts.html" title="QuickStarts" class="chapter done " data-progress="2.1" style="left: 5.357142857142857%;"></a>
    
        <a href="./environmentVariables.html" title="Environment Variables" class="chapter done " data-progress="2.2" style="left: 7.142857142857143%;"></a>
    
        <a href="./developer.html" title="Workflow" class="chapter done " data-progress="3.1" style="left: 8.928571428571429%;"></a>
    
        <a href="./mavenPlugin.html" title="Maven Plugin" class="chapter done " data-progress="3.2" style="left: 10.714285714285714%;"></a>
    
        <a href="./debugging.html" title="Debugging" class="chapter done " data-progress="3.3" style="left: 12.5%;"></a>
    
        <a href="./arquillian.html" title="Arquillian" class="chapter done " data-progress="3.4" style="left: 14.285714285714286%;"></a>
    
        <a href="./continuousDeployment.html" title="Continuous Deployment" class="chapter done " data-progress="3.5" style="left: 16.071428571428573%;"></a>
    
        <a href="./migration.html" title="Migration" class="chapter done " data-progress="3.6" style="left: 17.857142857142858%;"></a>
    
        <a href="./architecture.html" title="Architecture" class="chapter done new-chapter" data-progress="4" style="left: 19.642857142857142%;"></a>
    
        <a href="./registry.html" title="Registry" class="chapter done " data-progress="4.1" style="left: 21.428571428571427%;"></a>
    
        <a href="./profiles.html" title="Profiles" class="chapter done " data-progress="4.2" style="left: 23.214285714285715%;"></a>
    
        <a href="./agent.html" title="Agent" class="chapter done " data-progress="4.3" style="left: 25%;"></a>
    
        <a href="./git.html" title="Git" class="chapter done " data-progress="4.4" style="left: 26.785714285714285%;"></a>
    
        <a href="./mavenProxy.html" title="Maven Proxy" class="chapter done " data-progress="4.5" style="left: 28.571428571428573%;"></a>
    
        <a href="./containers.html" title="Containers" class="chapter done new-chapter" data-progress="5" style="left: 30.357142857142858%;"></a>
    
        <a href="./childContainers.html" title="Child Containers" class="chapter done " data-progress="5.1" style="left: 32.142857142857146%;"></a>
    
        <a href="./cloudContainers.html" title="Cloud Containers" class="chapter done " data-progress="5.10" style="left: 33.92857142857143%;"></a>
    
        <a href="./microServices.html" title="Micro Services" class="chapter done " data-progress="5.2" style="left: 35.714285714285715%;"></a>
    
        <a href="./javaContainer.html" title="Java Container" class="chapter done " data-progress="5.3" style="left: 37.5%;"></a>
    
        <a href="./processContainer.html" title="Process Container" class="chapter done " data-progress="5.4" style="left: 39.285714285714285%;"></a>
    
        <a href="./springBootContainer.html" title="Spring Boot Container" class="chapter done " data-progress="5.5" style="left: 41.07142857142857%;"></a>
    
        <a href="./docker.html" title="Docker" class="chapter  " data-progress="5.6" style="left: 42.857142857142854%;"></a>
    
        <a href="./kubernetes.html" title="Kubernetes" class="chapter  " data-progress="5.7" style="left: 44.642857142857146%;"></a>
    
        <a href="./sshContainers.html" title="SSH Containers" class="chapter  " data-progress="5.8" style="left: 46.42857142857143%;"></a>
    
        <a href="./openshift.html" title="OpenShift" class="chapter  " data-progress="5.9" style="left: 48.214285714285715%;"></a>
    
        <a href="./features.html" title="Features" class="chapter  new-chapter" data-progress="6" style="left: 50%;"></a>
    
        <a href="./gateway.html" title="Gateway" class="chapter  " data-progress="6.1" style="left: 51.785714285714285%;"></a>
    
        <a href="./urlHandlers.html" title="URL Handlers" class="chapter  " data-progress="6.10" style="left: 53.57142857142857%;"></a>
    
        <a href="./requirements.html" title="Auto Scaling" class="chapter  " data-progress="6.2" style="left: 55.357142857142854%;"></a>
    
        <a href="./rollingUpgrade.html" title="Rolling Upgrade" class="chapter  " data-progress="6.3" style="left: 57.142857142857146%;"></a>
    
        <a href="./osgiResolver.html" title="OSGi Resolver" class="chapter  " data-progress="6.4" style="left: 58.92857142857143%;"></a>
    
        <a href="./offlineRepo.html" title="Offline Repository" class="chapter  " data-progress="6.5" style="left: 60.714285714285715%;"></a>
    
        <a href="./partition.html" title="Partition" class="chapter  " data-progress="6.6" style="left: 62.5%;"></a>
    
        <a href="./processManager.html" title="Process Manager" class="chapter  " data-progress="6.7" style="left: 64.28571428571429%;"></a>
    
        <a href="./security.html" title="Security" class="chapter  " data-progress="6.8" style="left: 66.07142857142857%;"></a>
    
        <a href="./propertyResolver.html" title="Property Resolver" class="chapter  " data-progress="6.9" style="left: 67.85714285714286%;"></a>
    
        <a href="./technologies.html" title="Technologies" class="chapter  new-chapter" data-progress="7" style="left: 69.64285714285714%;"></a>
    
        <a href="./activemq.html" title="Apache ActiveMQ" class="chapter  " data-progress="7.1" style="left: 71.42857142857143%;"></a>
    
        <a href="./brokerTopology.html" title="Broker Topology" class="chapter  " data-progress="7.1.1" style="left: 73.21428571428571%;"></a>
    
        <a href="./brokerClients.html" title="Broker Clients" class="chapter  " data-progress="7.1.2" style="left: 75%;"></a>
    
        <a href="./camel.html" title="Apache Camel" class="chapter  " data-progress="7.2" style="left: 76.78571428571429%;"></a>
    
        <a href="./dataTransform.html" title="Data Transform" class="chapter  " data-progress="7.2.1" style="left: 78.57142857142857%;"></a>
    
        <a href="./camelEndpointAmq.html" title="amq: endpoint" class="chapter  " data-progress="7.2.2" style="left: 80.35714285714286%;"></a>
    
        <a href="./camelEndpointFabric.html" title="fabric: endpoint" class="chapter  " data-progress="7.2.3" style="left: 82.14285714285714%;"></a>
    
        <a href="./camelEndpointMaster.html" title="master: endpoint" class="chapter  " data-progress="7.2.4" style="left: 83.92857142857143%;"></a>
    
        <a href="./cxf.html" title="Apache CXF" class="chapter  " data-progress="7.3" style="left: 85.71428571428571%;"></a>
    
        <a href="./cxfFabric.html" title="CXF Fabric" class="chapter  " data-progress="7.3.1" style="left: 87.5%;"></a>
    
        <a href="./spring.html" title="Spring framework" class="chapter  " data-progress="7.4" style="left: 89.28571428571429%;"></a>
    
        <a href="./FAQ.html" title="FAQ" class="chapter  new-chapter" data-progress="8" style="left: 91.07142857142857%;"></a>
    
        <a href="./faqGeneral.html" title="General Questions" class="chapter  " data-progress="8.1" style="left: 92.85714285714286%;"></a>
    
        <a href="./faqUsing.html" title="Questions On Using Fabric8" class="chapter  " data-progress="8.2" style="left: 94.64285714285714%;"></a>
    
        <a href="./faqConfig.html" title="Configuration Questions" class="chapter  " data-progress="8.3" style="left: 96.42857142857143%;"></a>
    
        <a href="./faqIssues.html" title="Known Issues" class="chapter  " data-progress="8.4" style="left: 98.21428571428571%;"></a>
    
        <a href="./faqOsgi.html" title="Questions on OSGi and Fabric8" class="chapter  " data-progress="8.4.1" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_54">
                    
                        <h2 id="spring-boot-container"><a name="spring-boot-container" class="anchor" href="#spring-boot-container"><span class="fa fa-link"></span></a>Spring Boot container</h2>
<p>Fabric8 comes with a set of features simplifying the effort of running and managing Spring Boot applications. Fabric8
Spring Boot utilities and starters are especially useful if you plan to run your system in a microservices-manner backed by
the Spring Boot micro-containers and Fabric-related middleware (Camel, ActiveMQ, CXF and so forth). In general, whenever
you have to deploy, manage and monitor multiple Spring Boot applications, the Spring Boot Fabric8 container is a way to
go.</p>
<h3 id="spring-boot-quickstarts"><a name="spring-boot-quickstarts" class="anchor" href="#spring-boot-quickstarts"><span class="fa fa-link"></span></a>Spring Boot Quickstarts</h3>
<p>Before we dig into the glorious details of the Fabric8 support for the Spring Boot applications, keep in mind that the 
easiest way to start developing Spring Boot applications with Fabric8 is to use <em>Quickstarts</em>. Quickstarts are our 
opinionated Maven Archtypes that we highly recommend to use as a base for your projects.</p>
<p>For example to create and run the basic Spring Boot REST module follow these steps:</p>
<p><strong>Step 1:</strong> Create the new Maven project from the Quickstart.</p>
<p>In order to generate new Spring Boot REST application, execute the following command:</p>
<pre><code>$ mvn archetype:generate \
  -DinteractiveMode=false \
  -DarchetypeGroupId=io.fabric8.archetypes -DarchetypeArtifactId=springboot-webmvc-archetype \
  -DgroupId=com.myapp -DartifactId=my-spring-boot-rest-module -Dversion=1.0-SNAPSHOT 
</code></pre><p>After executing the command above, you should see a similar output:</p>
<pre><code>[INFO] Scanning for projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Maven Stub Project (No POM) 1
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] &gt;&gt;&gt; maven-archetype-plugin:2.2:generate (default-cli) @ standalone-pom &gt;&gt;&gt;
[INFO] 
[INFO] &lt;&lt;&lt; maven-archetype-plugin:2.2:generate (default-cli) @ standalone-pom &lt;&lt;&lt;
[INFO] 
[INFO] --- maven-archetype-plugin:2.2:generate (default-cli) @ standalone-pom ---
[INFO] Generating project in Batch mode
[INFO] Archetype [io.fabric8.archetypes:springboot-webmvc-archetype:1.2.0.Beta4] found in catalog remote
[INFO] ----------------------------------------------------------------------------
[INFO] Using following parameters for creating project from Archetype: springboot-webmvc-archetype:1.2.0.Beta4
[INFO] ----------------------------------------------------------------------------
[INFO] Parameter: groupId, Value: com.myapp
[INFO] Parameter: artifactId, Value: my-spring-boot-rest-module
[INFO] Parameter: version, Value: 1.0-SNAPSHOT
[INFO] Parameter: package, Value: com.myapp
[INFO] Parameter: packageInPathFormat, Value: com/myapp
[INFO] Parameter: package, Value: com.myapp
[INFO] Parameter: version, Value: 1.0-SNAPSHOT
[INFO] Parameter: groupId, Value: com.myapp
[INFO] Parameter: artifactId, Value: my-spring-boot-rest-module
[INFO] project created from Archetype in dir: /tmp/xxx/fdfdf/my-spring-boot-rest-module
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
</code></pre><p><strong>Step 2:</strong> Test and install your new module.</p>
<p>In the previous step we created the new maven project with the artifactId <code>my-spring-boot-rest-module</code>. Let&apos;s step into a 
directory of our new module and build it, using the following commands:</p>
<pre><code>$ cd my-spring-boot-rest-module 
$ mvn install
</code></pre><p>After executing the commands above, you should see a similar output:</p>
<pre><code>[INFO] Scanning for projects...
... 
[INFO] Building Fabric8 :: Quickstarts :: Spring-Boot :: WebMVC 1.0-SNAPSHOT
...
[INFO] --- maven-compiler-plugin:2.3.1:compile (default-compile) @ my-spring-boot-rest-module ---
[INFO] Compiling 4 source files to /home/hekonsek/tmp/my-spring-boot-rest-module/target/classes
...
T E S T S
-------------------------------------------------------
Running com.myapp.InvoicingRestApiTest
...
  .   ____          _            __ _ _
 /\\ / ___&apos;_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | &apos;_ | &apos;_| | &apos;_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  &apos;  |____| .__|_| |_|_| |_\__, | / / / /
=========|_|==============|___/=/_/_/_/
:: Spring Boot ::        (v1.1.2.RELEASE)
...
2014-06-30 23:43:36.178  INFO 9719 --- [ost-startStop-1] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000230: Schema export complete
...
2014-06-30 23:43:37.434  INFO 9719 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 36063/http
2014-06-30 23:43:37.437  INFO 9719 --- [           main] o.a.maven.surefire.booter.ForkedBooter   : Started ForkedBooter in 7.385 seconds (JVM running for 8.605)
2014-06-30 23:43:37.556  INFO 9719 --- [o-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet &apos;dispatcherServlet&apos;
...
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 8.797 sec
...
Results :
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0
...
[INFO] --- maven-install-plugin:2.4:install (default-install) @ my-spring-boot-rest-module ---
[INFO] Installing /home/hekonsek/tmp/my-spring-boot-rest-module/target/my-spring-boot-rest-module-1.0-SNAPSHOT.jar to /home/hekonsek/.m2/repository/com/myapp/my-spring-boot-rest-module/1.0-SNAPSHOT/my-spring-boot-rest-module-1.0-SNAPSHOT.jar
[INFO] Installing /home/hekonsek/tmp/my-spring-boot-rest-module/pom.xml to /home/hekonsek/.m2/repository/com/myapp/my-spring-boot-rest-module/1.0-SNAPSHOT/my-spring-boot-rest-module-1.0-SNAPSHOT.pom
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
</code></pre><p><strong>Step 3:</strong> Start Fabric8 server.</p>
<p>Now we need to start the Fabric8 server which we would like to provision and manage our brand new Spring Boot
application.</p>
<pre><code>$ cd fabric8-karaf-1.1.0
$ bin/fabric8
</code></pre><p>After executing the commands above, you should see a similar output:</p>
<pre><code>Please wait while Fabric8 is loading...
99% [=======================================================================&gt;]
______    _          _      _____ 
|  ___|  | |        (_)    |  _  |
| |_ __ _| |__  _ __ _  ___ \ V / 
|  _/ _` | &apos;_ \| &apos;__| |/ __|/ _ \ 
| || (_| | |_) | |  | | (__| |_| |
\_| \__,_|_.__/|_|  |_|\___\_____/
Fabric8 Container (1.1.0)
http://fabric8.io/

Fabric8:karaf@root&gt; 
</code></pre><p><strong>Step 4:</strong> Deploy profile of your application into the Fabric8.</p>
<p>With the Fabric8 server up and running we can go back to the directory of our new project and execute the following Maven
goal in order to deploy the profile describing our Spring application:</p>
<pre><code>.../my-spring-boot-rest-module $ mvn fabric8:deploy -DskipTests
</code></pre><p>After executing the command above, you should see a similar output:</p>
<pre><code>[INFO] Uploading file /home/hekonsek/tmp/my-spring-boot-rest-module/pom.xml
Downloading: http://192.168.2.12:8181/maven/upload/com/myapp/my-spring-boot-rest-module/1.0-SNAPSHOT/maven-metadata.xml
...
Uploading: http://192.168.2.12:8181/maven/upload/com/myapp/my-spring-boot-rest-module/1.0-SNAPSHOT/my-spring-boot-rest-module-1.0-20140630.215711-1.jar
Uploaded: http://192.168.2.12:8181/maven/upload/com/myapp/my-spring-boot-rest-module/1.0-SNAPSHOT/my-spring-boot-rest-module-1.0-20140630.215711-1.jar (5 KB at 63.0 KB/sec)
...
[INFO] Updating profile: quickstarts-spring.boot-webmvc with parent profile(s): [containers-java.spring.boot]
...
[INFO] Profile page: http://192.168.2.12:8181/hawtio/index.html#/wiki/branch/1.0/view/fabric/profiles/quickstarts/spring.boot/webmvc.profile
...
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
</code></pre><p>Now your Fabric8 configuration registry contains the profile describing your Spring Boot application. In the next step 
we will use that profile to provision our Spring application.</p>
<p><strong>Step 5:</strong> Provision your Spring Boot container as a standalone JVM process managed by the Fabric8.</p>
<pre><code>Fabric8:karaf@root&gt; container-create-child --profile quickstarts-spring.boot-webmvc root my-spring-boot-rest
</code></pre><p>After executing the command above, you should see a similar output:</p>
<pre><code>Starting process
Running java  -javaagent:jolokia-agent.jar=host=0.0.0.0,port=9018,agentId=my-spring-boot-rest ... 
process is now running (11904)
The following containers have been created successfully:
    Container: my-spring-boot-rest.
</code></pre><p><strong>Step 6:</strong> Find the HTTP port number assigned by Fabric8 to your application.</p>
<pre><code>Fabric8:karaf@root&gt; environment my-spring-boot-rest | grep HTTP_PROXY
FABRIC8_HTTP_PROXY_PORT                       9017
</code></pre><p><strong>Step 7:</strong> Enjoy your application being up and running!</p>
<pre><code>$ curl http://localhost:9017/  
{
    &quot;_links&quot; : {
        &quot;invoice&quot; : {
            &quot;href&quot; : &quot;http://localhost:9017/invoice{?page,size,sort}&quot;,
            &quot;templated&quot; : true
        }
    }
}%      
</code></pre><h3 id="fabric8-spring-boot-bom"><a name="fabric8-spring-boot-bom" class="anchor" href="#fabric8-spring-boot-bom"><span class="fa fa-link"></span></a>Fabric8 Spring Boot BOM</h3>
<p>The best way to manage Spring Boot dependencies in the Fabric8-managed application is to import the Fabric8 Spring Boot
BOM.</p>
<pre><code>&lt;dependencyManagement&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;io.fabric8&lt;/groupId&gt;
      &lt;artifactId&gt;process-spring-boot-bom&lt;/artifactId&gt;
      &lt;version&gt;${fabric8.version}&lt;/version&gt;
      &lt;type&gt;pom&lt;/type&gt;
      &lt;scope&gt;import&lt;/scope&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/dependencyManagement&gt;
</code></pre><p>If your POM is armed with the BOM definition presented above, you can import Spring Boot and related Fabric8 jars into
your microservice without specifying the versions of these dependencies.</p>
<pre><code>&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;io.fabric8&lt;/groupId&gt;
    &lt;artifactId&gt;process-spring-boot-container&lt;/artifactId&gt;
  &lt;/dependency&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;io.fabric8&lt;/groupId&gt;
    &lt;artifactId&gt;process-spring-boot-starter-camel&lt;/artifactId&gt;
  &lt;/dependency&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;
  &lt;/dependency&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
  &lt;/dependency&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;
    &lt;artifactId&gt;spring-data-rest-webmvc&lt;/artifactId&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre><h3 id="fabricspringapplication"><a name="fabricspringapplication" class="anchor" href="#fabricspringapplication"><span class="fa fa-link"></span></a>FabricSpringApplication</h3>
<p><code>FabricSpringApplication</code> is an executable Java class to be used as a base for the Fabric-managed Spring Boot applications. Its main purpose is to
eliminate the custom code bootstrapping the application, so end-users could create Spring Boot managed process via
Fabric without any custom wiring.</p>
<p><code>FabricSpringApplication</code> can be used in the conjunction with the Fabric Jar Managed Process installer (just
 as demonstrated on the snippet below).</p>
<pre><code> process:install-jar -m io.fabric8.process.spring.boot.container.FabricSpringApplication my.group.id my-artifact 1.0
</code></pre><p> Keep in mind that you don&apos;t have to use <code>FabricSpringApplication</code> in order to use Fabric goodies for Spring
 Boot (like Fabric starters). However we recommend to use this class as an entry point for your Fabric SpringBoot
 integration, as it implements our opinionated view of the proper Fabric+Boot wiring.</p>
<p> In order to specify packages that should be scanned for additional <code>@Component</code> and <code>@Configuration</code> classes, use
 standard Spring Boot <code>spring.main.sources</code> system property. For example if your project <code>@Configuration</code> classes are located in
 the <code>com.example.project</code> package, you can use the following command to install your jar as a managed process:</p>
<pre><code>  process:install-jar -m io.fabric8.process.spring.boot.container.FabricSpringApplication --jvm-options=-Dspring.main.sources=com.example.project my.group.id my-artifact 1.0
</code></pre><h3 id="embedded-fabricspringapplication"><a name="embedded-fabricspringapplication" class="anchor" href="#embedded-fabricspringapplication"><span class="fa fa-link"></span></a>Embedded FabricSpringApplication</h3>
<p>Sometimes you cannot start new Spring Boot JVM process, but instead you have to integrate with the existing web application
or the other piece of legacy Spring software. To support such cases Fabric comes withe the
<code>EmbeddedFabricSpringApplication</code>, a bean that can be added to the existing Spring application context in order to start
embedded Fabric Spring Boot context from within it. The embedding context (the one <code>EmbeddedFabricSpringApplication</code> has
been added to will become a parent context for the embedded Fabric Spring Boot context.</p>
<p>Creating embedded Fabric application is as simple as that:</p>
<pre><code>@Bean
EmbeddedFabricSpringApplication fabricSpringApplication() {
  return new EmbeddedFabricSpringApplication();
}
</code></pre><p>For XML configuration the snippet above looks as follows:</p>
<pre><code>&lt;bean class=&quot;io.fabric8.process.spring.boot.container.EmbeddedFabricSpringApplication&quot; /&gt;
</code></pre><p><code>EmbeddedFabricSpringApplication</code> automatically detects its patent Spring <code>ApplicationContext</code> and uses it when starting
up new embedded Fabric application.</p>
<h3 id="provisioning-spring-boot-applications-as-fabric8-java-containers"><a name="provisioning-spring-boot-applications-as-fabric8-java-containers" class="anchor" href="#provisioning-spring-boot-applications-as-fabric8-java-containers"><span class="fa fa-link"></span></a>Provisioning Spring Boot applications as Fabric8 Java Containers</h3>
<p>The recommended way to provision Spring Boot applications in the Fabric8 environment is to install them as
<a href="javaContainer.html">Java Containers</a>. This way your Spring Boot
application will be treated by the Fabric8 as the any other container, so you could take advantage of the Hawtio, ZooKeeper
runtime registry, <a href="gateway.html">Gateway</a> and many other useful Fabric8 features.</p>
<p>In the following paragraphs we will demonstrate how to use the Fabric8 Java Container to provision the
<a href="https://github.com/fabric8io/fabric8/tree/master/process/process-spring-boot/process-spring-boot-itests/process-spring-boot-itests-service-invoicing" target="_blank">Spring Boot invoicing microservice demo</a>.</p>
<p>First of all - create new profile for your application. We will name our profile <code>invoicing</code>, because it describes
microservice related to the <em>invoicing</em> business concern.</p>
<pre><code>&gt; profile-create --parents containers-java.spring.boot invoicing
</code></pre><p>Then add your microservice jar to that profile:</p>
<pre><code>&gt; profile-edit --pid=io.fabric8.container.java/jarUrl=mvn:io.fabric8/process-spring-boot-itests-service-invoicing/1.2.0-SNAPSHOT invoicing
Setting value:mvn:io.fabric8/process-spring-boot-itests-service-invoicing/1.2.0-SNAPSHOT key:jarUrl on pid:io.fabric8.container.java and profile:invoicing version:1.0
</code></pre><p>In order to find <code>@Component</code> and <code>@Configuration</code> classes specific to your application, set the <code>spring.main.sources</code>
system property:</p>
<pre><code>&gt; profile-edit --pid=io.fabric8.container.java/jvmArguments=-Dspring.main.sources=io.fabric8.process.spring.boot.itests.service.invoicing invoicing
Setting value:-Dspring.main.sources=io.fabric8.process.spring.boot.itests.service.invoicing key:jvmArguments on pid:io.fabric8.container.java and profile:invoicing version:1.0
</code></pre><p>Our <code>invoice</code> profile is all set now - we can finally provision our microservice as a Java Container:</p>
<pre><code>&gt; container-create-child --profile invoicing root invoicing
Starting process
Running java -Dspring.main.sources=...
...
process is now running (22074)
The following containers have been created successfully:
    Container: invoicing.
</code></pre><p>The container seems to be started properly, but let&apos;s verify this by listing REST services available under
<code>http://localhost:8080</code> address:</p>
<pre><code>~/fabric8-karaf-1.2.0-SNAPSHOT [10001]% curl http://localhost:8080/
{
  &quot;_links&quot; : {
    &quot;invoice&quot; : {
      &quot;href&quot; : &quot;http://localhost:8080/invoice{?page,size,sort}&quot;,
      &quot;templated&quot; : true
    }
  }
}%
</code></pre><p>Our invoicing microservice has been successfully started and exposed under the following URL -
<code>http://localhost:8080/invoice</code> . As we can see our invoicing service has been deployed as regular Fabric8 child
container.</p>
<pre><code> &gt; container-list
 [id]                           [version] [connected] [profiles]                                         [provision status]
 root*                          1.0       true        fabric, fabric-ensemble-0000-1                     success
   invoicing                    1.0       true        invoicing                                          success
</code></pre><p>And at the same time it is visible for the Fabric8 as a managed process:</p>
<pre><code>&gt; process:ps
[id]                     [pid] [name]
invoicing                8576  java io.fabric8.process.spring.boot.container.FabricSpringApplication
</code></pre><h3 id="profile-containers-java-spring-boot"><a name="profile-containers-java-spring-boot" class="anchor" href="#profile-containers-java-spring-boot"><span class="fa fa-link"></span></a>Profile containers-java.spring.boot</h3>
<p>You may be wondering what is the <code>containers-java.spring.boot</code> profile we used in example above.</p>
<pre><code>&gt; profile-create --parents containers-java.spring.boot invoicing
</code></pre><p>This is opinionated base profile for Spring Boot applications provisioned using Fabric8. Why should you use it? Our
Spring Boot profile comes with some useful default settings that we recommend to have in place when deploying Spring
Boot applications.</p>
<p>First of all our <code>containers-java.spring.boot</code> profile specifies the main class of your application. It uses
<code>io.fabric8.process.spring.boot.container.FabricSpringApplication</code> main class - the opinionated Spring Boot application
configuration for processes provisioned and managed by the Fabric8.</p>
<h3 id="spring-boot-camel-starter"><a name="spring-boot-camel-starter" class="anchor" href="#spring-boot-camel-starter"><span class="fa fa-link"></span></a>Spring Boot Camel starter</h3>
<p>Fabric Spring Boot support comes with the opinionated auto-configuration of the Camel context. It provides default
<code>CamelContext</code> instance, auto-detects Camel routes available in the Spring context and exposes the key Camel utilities
(like consumer template, producer template or type converter service).</p>
<p>In order to start using Camel with Spring Boot just include <code>process-spring-boot-starter-camel</code> jar in your application
classpath.</p>
<pre><code>&lt;dependency&gt;
  &lt;groupId&gt;io.fabric8&lt;/groupId&gt;
  &lt;artifactId&gt;process-spring-boot-starter-camel&lt;/artifactId&gt;
  &lt;version&gt;${fabric-version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><p>When <code>process-spring-boot-starter-camel</code> jar is included in the classpath, Spring Boot will auto-configure the Camel
context for you.</p>
<h4 id="auto-configured-camelcontext"><a name="auto-configured-camelcontext" class="anchor" href="#auto-configured-camelcontext"><span class="fa fa-link"></span></a>Auto-configured CamelContext</h4>
<p>The most important piece of functionality provided by the Camel starter is <code>CamelContext</code> instance. Fabric Camel starter
will create <code>SpringCamelContext</code> for your and take care of the proper initialization and shutdown of that context. Created
Camel context is also registered in the Spring application context (under <code>camelContext</code> name), so you can access it just
as the any other Spring bean.</p>
<pre><code>@Configuration
public class MyAppConfig {

    @Autowired
    CamelContext camelContext;

    @Bean
    MyService myService() {
      return new DefaultMyService(camelContext);
    }

}
</code></pre><p>Camel starter collects all the <code>RoutesBuilder</code> instances from the Spring context and automatically injects
them into the provided <code>CamelContext</code>. It means that creating new Camel route with the Spring Boot starter is as simple as
adding the <code>@Component</code> annotated class into your classpath:</p>
<pre><code>@Component
public class MyRouter extends RouteBuilder {

  @Override
  public void configure() throws Exception {
    from(&quot;jms:invoices&quot;).to(&quot;file:/invoices&quot;);
  }

}
</code></pre><p>Or creating new route <code>RoutesBuilder</code> in your <code>@Configuration</code> class:</p>
<pre><code>@Configuration
public class MyRouterConfiguration {

  @Bean
  RoutesBuilder myRouter() {
    return new RouteBuilder() {

      @Override
      public void configure() throws Exception {
        from(&quot;jms:invoices&quot;).to(&quot;file:/invoices&quot;);
      }

    };
  }

}
</code></pre><h3 id="auto-configured-activemq-client"><a name="auto-configured-activemq-client" class="anchor" href="#auto-configured-activemq-client"><span class="fa fa-link"></span></a>Auto-configured ActiveMQ client</h3>
<p>Fabric comes with the auto-configuration class for the ActiveMQ client. It provides a pooled ActiveMQ
<code>javax.jms.ConnectionFactory</code>. In order to use the <code>ActiveMQAutoConfiguration</code> in your application just add the
following jar to your Spring Boot project dependencies:</p>
<pre><code>&lt;dependency&gt;
  &lt;groupId&gt;io.fabric8&lt;/groupId&gt;
  &lt;artifactId&gt;process-spring-boot-starter-activemq&lt;/artifactId&gt;
  &lt;version&gt;${fabric-version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><p>Fabric&apos;s ActiveMQ starter will provide the default connection factory for you.</p>
<pre><code>@Component
public class InvoiceReader {

  private final ConnectionFactory connectionFactory;

  @Autowired
  public InvoiceReader(ConnectionFactory connectionFactory) {
    this.connectionFactory = connectionFactory;
  }

  void ProcessNextInvoice() {
    Connection invoiceQueueConnection = connectionFactory.createConnection();
    // invoice processing logic here
  }

}
</code></pre><p>Keep in mind that if you include the
<a href="http://docs.spring.io/spring/docs/4.0.x/spring-framework-reference/html/remoting.html#remoting-jms" target="_blank">spring-jms</a> jar
together with the ActiveMQ starter in your Spring Boot application classpath, <code>JmsTemplate</code> will be automatically
populated with the ActiveMQ connection factory.</p>
<pre><code>&lt;dependency&gt;
  &lt;groupId&gt;io.fabric8&lt;/groupId&gt;
  &lt;artifactId&gt;process-spring-boot-starter-activemq&lt;/artifactId&gt;
  &lt;version&gt;${fabric-version}&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.springframework&lt;/groupId&gt;
 &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;
  &lt;version&gt;${spring-version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><p>Now you can use <code>JmsTemplate</code> with ActiveMQ without explicit configuration.</p>
<pre><code>@Component
public class InvoiceReader {

  private final JmsTemplate jmsTemplate;

  @Autowired
  public InvoiceReader(JmsTemplate jmsTemplate) {
    this.jmsTemplate = jmsTemplate;
  }

  void ProcessNextInvoice() {
    String invoiceId = (String) jmsTemplate.receiveAndConvert(&quot;invoices&quot;);
    // invoice processing logic
   }

}
</code></pre><h3 id="process-registry"><a name="process-registry" class="anchor" href="#process-registry"><span class="fa fa-link"></span></a>Process registry</h3>
<p>Managed Spring Boot processes do not live in a separation. Instead those usually create a graph of microservices
calling each other. In order to make communication between the processes easier, Fabric8 provides a unified way to 
access information shared by the managed Spring Boot processes - <code>ProcessRegistry</code>.</p>
<p>In order to start working with the Fabric8 process registry, add the following dependency to your project:</p>
<pre><code>&lt;dependency&gt;
  &lt;groupId&gt;io.fabric8&lt;/groupId&gt;
  &lt;artifactId&gt;process-spring-boot-registry&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre><p>From now on, you can enjoy your Spring Boot microservice sharing information with the other microservices managed by
the Fabric8.</p>
<h4 id="reading-spring-properties-from-the-process-registry"><a name="reading-spring-properties-from-the-process-registry" class="anchor" href="#reading-spring-properties-from-the-process-registry"><span class="fa fa-link"></span></a>Reading Spring properties from the Process Registry</h4>
<p>After you add <code>process-spring-boot-registry</code> jar to the classpath of your application, <code>ProcessRegistry</code> will be used to 
resolve Spring properties. </p>
<pre><code>@Value(&quot;service.invoicing.url&quot;)
String host;
</code></pre><p><code>ProcessRegistry</code> will be attempted to be read before regular Spring property sources (for example before the 
<code>application.properties</code> file). If the desired value will not be found in the process registry, Spring will fallback
to the other property sources.</p>
<h4 id="injecting-process-registry"><a name="injecting-process-registry" class="anchor" href="#injecting-process-registry"><span class="fa fa-link"></span></a>Injecting process registry</h4>
<p>In order to use the Process Registry API directly, you can inject <code>ProcessRegistry</code> into your Spring managed beans.</p>
<pre><code>private final ProcessRegistry processRegistry;

@Autowired
public MyBean(ProcessRegistry processRegistry) {
    this.processRegistry = processRegistry;
}

...

String invoicingServiceUrl = processRegistry.readProperty(&quot;service.invoicing.url&quot;);
Invoice invoice = new RestTemplate().getForObject(invoicingServiceUrl + &quot;/&quot; + 1, Invoice.class);
</code></pre><h4 id="global-access-to-the-process-registry"><a name="global-access-to-the-process-registry" class="anchor" href="#global-access-to-the-process-registry"><span class="fa fa-link"></span></a>Global access to the process registry</h4>
<p>If for some reasons you can&apos;t inject <code>ProcessRegistry</code> into your Spring managed beans, you can access global registry 
instance initialized per Spring Boot JVM using static <code>ProcessRegistryHolder#processRegistry()</code> method.</p>
<pre><code>ProcessRegistry processRegistry = ProcessRegistryHolder.processRegistry();
String invoicingServiceUrl = processRegistry.readProperty(&quot;service.invoicing.url&quot;);
Invoice invoice = new RestTemplate().getForObject(invoicingServiceUrl + &quot;/&quot; + 1, Invoice.class);
</code></pre><h4 id="composite-process-registry"><a name="composite-process-registry" class="anchor" href="#composite-process-registry"><span class="fa fa-link"></span></a>Composite process registry</h4>
<p>The default type of the registry used by the Spring Boot container is the <code>CompositeProcessRegistry</code>. This is kind of the 
proxy implementation of the registry delegating properties resolution to the list of the <em>real</em> registries.</p>
<p>Composite registry will try to resolve given property using the first aggregated registry. If it won&apos;t find the property
there, it will fallback to the next registry in the list. If none of the registry in the aggregated list contains the
desired property, the composite resolver returns <code>null</code>.</p>
<p>By default the following process registries are aggregated by the Spring Boot container:</p>
<ul>
<li><code>ZooKeeperProcessRegistry</code> (if <code>curator-framework</code> jar is present in the classpath)</li>
<li><code>ClassPathProcessRegistry</code></li>
<li><code>InMemoryProcessRegistry</code></li>
</ul>
<p>The above basically means that Spring Boot container attempts to read properties from the Fabric8 ZooKeeper registry,
then from the system properties and finally from the files located in the classpath.</p>
<h4 id="zookeeper-process-registry"><a name="zookeeper-process-registry" class="anchor" href="#zookeeper-process-registry"><span class="fa fa-link"></span></a>ZooKeeper process registry</h4>
<p>If <code>curator-framework</code> jar is present in the classpath, <code>ZooKeeperProcessRegistry</code> will be created. 
<code>ZooKeeperProcessRegistry</code> attempts to read properties values from the ZooKeeper server.</p>
<p>In particular ZooKeeper registry will try to connect to the Fabric8 ZooKeeper runtime registry and read properties 
from it. The default coordinates of Fabric8 runtime registry are <code>localhost:2181</code> (2181 is the default port used by the
Fabric8 to start ZooKeeper on). If you would like to change it, set <code>fabric8.process.registry.zk.hosts</code>
system property to the customized list of hosts:</p>
<pre><code>java -Dfabric8.process.registry.zk.hosts=host1:5555,host2:6666 -jar my-service.jar
</code></pre><p>ZooKeeper registry interprets dots in the properties names as the slashes in ZNode paths. For example <code>foo.bar</code> property 
will be resolved as the <code>foo/bar</code> ZNode path.</p>
<pre><code>@Value(&quot;${foo.bar}&quot;) // try to read foo/bar ZNode from the ZooKeeper
String bar;
</code></pre><p>If for some reasons you would like to explicitly disable the ZooKeeper process registry, use the 
<code>fabric8.process.registry.zk.enabled</code> system property:</p>
<pre><code>    java -Dfabric8.process.registry.zk.hosts=host1:5555,host2:6666 -D-Dfabric8.process.registry.zk.enabled=false -jar my-service.jar
</code></pre>
                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="./processContainer.html" class="navigation navigation-prev " aria-label="Previous page: Process Container"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./docker.html" class="navigation navigation-next " aria-label="Next page: Docker"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="gitbook/app.js"></script>
        

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
