<!DOCTYPE HTML>
<html lang="en-US" manifest="./manifest.appcache">
    
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        
        <meta charset="UTF-8">
        <title>Maven Proxy | Fabric8 Documentation</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="fabric8io">
        <meta name="description" content="Fabric8 User Guide and Reference Documentation">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="./containers.html" />
        
        
        <link rel="prev" href="./git.html" />
        

        <meta property="og:title" content="Maven Proxy | Fabric8 Documentation">
        <meta property="og:site_name" content="Fabric8 Documentation">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/fabric8io">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
        
    </head>
    <body>
        
        

        <link rel="stylesheet" href="gitbook/style.css">
        

    
    <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-anchors/plugin.css">
    


        
    <div class="book" data-github="fabric8io/fabric8" data-level="4.5" data-basepath="." data-revision="1406057048485">
    <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    
    <a href="http://fabric8.io/" target="_blank" class="btn pull-left home-bookmark" aria-label="GitHub home"><i class="fa fa-bookmark-o"></i></a>
    
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="btn-group btn-block">
        <button id="reduce-font-size" class="btn btn-default">A</button>
        <button id="enlarge-font-size" class="btn btn-default">A</button>
    </div>

    <ul class="list-group font-family-list">
        <li class="list-group-item" data-font="0">Serif</li>
        <li class="list-group-item" data-font="1">Sans</li>
    </ul>

    <div class="btn-group btn-group-xs btn-block color-theme-list">
        <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
    </div>
</div>

    </span>

    <!-- Actions Right -->
    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    

    
    <a href="https://github.com/fabric8io/fabric8/stargazers" target="_blank" class="btn pull-right count-star hidden-xs"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/fabric8io/fabric8/watchers" target="_blank" class="btn pull-right count-watch hidden-xs"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="./" >Fabric8 Documentation</a>
    </h1>
</div>

    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        <li>
            <a href="http://fabric8.io/docs/index.html" target="blank" class="author-link">About the author</a>
        </li>
        

        
        
        <li>
            <a href="https://github.com/fabric8io/fabric8/issues?milestone=none&amp;state=closed" target="blank"class="issues-link">Questions and Issues</a>
        </li>
        

        
        
        <li>
            <a href="http://fabric8.io/contributing/index.html" target="blank" class="contribute-link">Edit and Contribute</a>
        </li>
        

        
        <li class="divider"></li>
        

        <li data-level="0" data-path="index.html">
            <a href="./"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
    
        <li class="chapter " data-level="1" data-path="overview.html">
            
            <a href="./overview.html">
                <i class="fa fa-check"></i> <b>1.</b> Overview
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="getStarted.html">
            
            <a href="./getStarted.html">
                <i class="fa fa-check"></i> <b>2.</b> Get Started
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="quickstarts.html">
            
            <a href="./quickstarts.html">
                <i class="fa fa-check"></i> <b>2.1.</b> QuickStarts
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="environmentVariables.html">
            
            <a href="./environmentVariables.html">
                <i class="fa fa-check"></i> <b>2.2.</b> Environment Variables
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="developer.html">
            
            <a href="./developer.html">
                <i class="fa fa-check"></i> <b>3.</b> Developing
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="developer.html">
            
            <a href="./developer.html">
                <i class="fa fa-check"></i> <b>3.1.</b> Workflow
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="mavenPlugin.html">
            
            <a href="./mavenPlugin.html">
                <i class="fa fa-check"></i> <b>3.2.</b> Maven Plugin
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="debugging.html">
            
            <a href="./debugging.html">
                <i class="fa fa-check"></i> <b>3.3.</b> Debugging
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="continuousDeployment.html">
            
            <a href="./continuousDeployment.html">
                <i class="fa fa-check"></i> <b>3.4.</b> Continuous Deployment
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="migration.html">
            
            <a href="./migration.html">
                <i class="fa fa-check"></i> <b>3.5.</b> Migration
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="architecture.html">
            
            <a href="./architecture.html">
                <i class="fa fa-check"></i> <b>4.</b> Architecture
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="registry.html">
            
            <a href="./registry.html">
                <i class="fa fa-check"></i> <b>4.1.</b> Registry
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="profiles.html">
            
            <a href="./profiles.html">
                <i class="fa fa-check"></i> <b>4.2.</b> Profiles
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="agent.html">
            
            <a href="./agent.html">
                <i class="fa fa-check"></i> <b>4.3.</b> Agent
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="git.html">
            
            <a href="./git.html">
                <i class="fa fa-check"></i> <b>4.4.</b> Git
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="mavenProxy.html">
            
            <a href="./mavenProxy.html">
                <i class="fa fa-check"></i> <b>4.5.</b> Maven Proxy
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="containers.html">
            
            <a href="./containers.html">
                <i class="fa fa-check"></i> <b>5.</b> Containers
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="microServices.html">
            
            <a href="./microServices.html">
                <i class="fa fa-check"></i> <b>5.1.</b> Micro Services
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="javaContainer.html">
            
            <a href="./javaContainer.html">
                <i class="fa fa-check"></i> <b>5.2.</b> Java Container
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="processContainer.html">
            
            <a href="./processContainer.html">
                <i class="fa fa-check"></i> <b>5.3.</b> Process Container
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="springBootContainer.html">
            
            <a href="./springBootContainer.html">
                <i class="fa fa-check"></i> <b>5.4.</b> Spring Boot Container
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="docker.html">
            
            <a href="./docker.html">
                <i class="fa fa-check"></i> <b>5.5.</b> Docker
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="sshContainers.html">
            
            <a href="./sshContainers.html">
                <i class="fa fa-check"></i> <b>5.6.</b> SSH Containers
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.7" data-path="cloudContainers.html">
            
            <a href="./cloudContainers.html">
                <i class="fa fa-check"></i> <b>5.7.</b> Cloud Containers
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="features.html">
            
            <a href="./features.html">
                <i class="fa fa-check"></i> <b>6.</b> Features
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="gateway.html">
            
            <a href="./gateway.html">
                <i class="fa fa-check"></i> <b>6.1.</b> Gateway
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="requirements.html">
            
            <a href="./requirements.html">
                <i class="fa fa-check"></i> <b>6.2.</b> Auto Scaling
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="rollingUpgrade.html">
            
            <a href="./rollingUpgrade.html">
                <i class="fa fa-check"></i> <b>6.3.</b> Rolling Upgrade
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="offlineRepo.html">
            
            <a href="./offlineRepo.html">
                <i class="fa fa-check"></i> <b>6.4.</b> Offline Repository
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="partition.html">
            
            <a href="./partition.html">
                <i class="fa fa-check"></i> <b>6.5.</b> Partition
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.6" data-path="processManager.html">
            
            <a href="./processManager.html">
                <i class="fa fa-check"></i> <b>6.6.</b> Process Manager
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.7" data-path="security.html">
            
            <a href="./security.html">
                <i class="fa fa-check"></i> <b>6.7.</b> Security
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.8" data-path="propertyResolver.html">
            
            <a href="./propertyResolver.html">
                <i class="fa fa-check"></i> <b>6.8.</b> Property Resolver
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.9" data-path="urlHandlers.html">
            
            <a href="./urlHandlers.html">
                <i class="fa fa-check"></i> <b>6.9.</b> URL Handlers
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="technologies.html">
            
            <a href="./technologies.html">
                <i class="fa fa-check"></i> <b>7.</b> Technologies
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="activemq.html">
            
            <a href="./activemq.html">
                <i class="fa fa-check"></i> <b>7.1.</b> Apache ActiveMQ
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1.1" data-path="brokerTopology.html">
            
            <a href="./brokerTopology.html">
                <i class="fa fa-check"></i> <b>7.1.1.</b> Broker Topology
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.1.2" data-path="brokerClients.html">
            
            <a href="./brokerClients.html">
                <i class="fa fa-check"></i> <b>7.1.2.</b> Broker Clients
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="camel.html">
            
            <a href="./camel.html">
                <i class="fa fa-check"></i> <b>7.2.</b> Apache Camel
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.2.1" data-path="dataTransform.html">
            
            <a href="./dataTransform.html">
                <i class="fa fa-check"></i> <b>7.2.1.</b> Data Transform
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.2" data-path="camelEndpointAmq.html">
            
            <a href="./camelEndpointAmq.html">
                <i class="fa fa-check"></i> <b>7.2.2.</b> amq: endpoint
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.3" data-path="camelEndpointFabric.html">
            
            <a href="./camelEndpointFabric.html">
                <i class="fa fa-check"></i> <b>7.2.3.</b> fabric: endpoint
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2.4" data-path="camelEndpointMaster.html">
            
            <a href="./camelEndpointMaster.html">
                <i class="fa fa-check"></i> <b>7.2.4.</b> master: endpoint
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="cxf.html">
            
            <a href="./cxf.html">
                <i class="fa fa-check"></i> <b>7.3.</b> Apache CXF
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.3.1" data-path="cxfFabric.html">
            
            <a href="./cxfFabric.html">
                <i class="fa fa-check"></i> <b>7.3.1.</b> CXF Fabric
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="spring.html">
            
            <a href="./spring.html">
                <i class="fa fa-check"></i> <b>7.4.</b> Spring framework
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 33.333333333333336%;min-width: 31.11111111111111%;"></div>
    </div>
    <div class="chapters">
    
        <a href="./index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="./overview.html" title="Overview" class="chapter done new-chapter" data-progress="1" style="left: 2.2222222222222223%;"></a>
    
        <a href="./getStarted.html" title="Get Started" class="chapter done new-chapter" data-progress="2" style="left: 4.444444444444445%;"></a>
    
        <a href="./quickstarts.html" title="QuickStarts" class="chapter done " data-progress="2.1" style="left: 6.666666666666667%;"></a>
    
        <a href="./environmentVariables.html" title="Environment Variables" class="chapter done " data-progress="2.2" style="left: 8.88888888888889%;"></a>
    
        <a href="./developer.html" title="Workflow" class="chapter done " data-progress="3.1" style="left: 11.11111111111111%;"></a>
    
        <a href="./mavenPlugin.html" title="Maven Plugin" class="chapter done " data-progress="3.2" style="left: 13.333333333333334%;"></a>
    
        <a href="./debugging.html" title="Debugging" class="chapter done " data-progress="3.3" style="left: 15.555555555555555%;"></a>
    
        <a href="./continuousDeployment.html" title="Continuous Deployment" class="chapter done " data-progress="3.4" style="left: 17.77777777777778%;"></a>
    
        <a href="./migration.html" title="Migration" class="chapter done " data-progress="3.5" style="left: 20%;"></a>
    
        <a href="./architecture.html" title="Architecture" class="chapter done new-chapter" data-progress="4" style="left: 22.22222222222222%;"></a>
    
        <a href="./registry.html" title="Registry" class="chapter done " data-progress="4.1" style="left: 24.444444444444443%;"></a>
    
        <a href="./profiles.html" title="Profiles" class="chapter done " data-progress="4.2" style="left: 26.666666666666668%;"></a>
    
        <a href="./agent.html" title="Agent" class="chapter done " data-progress="4.3" style="left: 28.88888888888889%;"></a>
    
        <a href="./git.html" title="Git" class="chapter done " data-progress="4.4" style="left: 31.11111111111111%;"></a>
    
        <a href="./mavenProxy.html" title="Maven Proxy" class="chapter done " data-progress="4.5" style="left: 33.333333333333336%;"></a>
    
        <a href="./containers.html" title="Containers" class="chapter  new-chapter" data-progress="5" style="left: 35.55555555555556%;"></a>
    
        <a href="./microServices.html" title="Micro Services" class="chapter  " data-progress="5.1" style="left: 37.77777777777778%;"></a>
    
        <a href="./javaContainer.html" title="Java Container" class="chapter  " data-progress="5.2" style="left: 40%;"></a>
    
        <a href="./processContainer.html" title="Process Container" class="chapter  " data-progress="5.3" style="left: 42.22222222222222%;"></a>
    
        <a href="./springBootContainer.html" title="Spring Boot Container" class="chapter  " data-progress="5.4" style="left: 44.44444444444444%;"></a>
    
        <a href="./docker.html" title="Docker" class="chapter  " data-progress="5.5" style="left: 46.666666666666664%;"></a>
    
        <a href="./sshContainers.html" title="SSH Containers" class="chapter  " data-progress="5.6" style="left: 48.888888888888886%;"></a>
    
        <a href="./cloudContainers.html" title="Cloud Containers" class="chapter  " data-progress="5.7" style="left: 51.111111111111114%;"></a>
    
        <a href="./features.html" title="Features" class="chapter  new-chapter" data-progress="6" style="left: 53.333333333333336%;"></a>
    
        <a href="./gateway.html" title="Gateway" class="chapter  " data-progress="6.1" style="left: 55.55555555555556%;"></a>
    
        <a href="./requirements.html" title="Auto Scaling" class="chapter  " data-progress="6.2" style="left: 57.77777777777778%;"></a>
    
        <a href="./rollingUpgrade.html" title="Rolling Upgrade" class="chapter  " data-progress="6.3" style="left: 60%;"></a>
    
        <a href="./offlineRepo.html" title="Offline Repository" class="chapter  " data-progress="6.4" style="left: 62.22222222222222%;"></a>
    
        <a href="./partition.html" title="Partition" class="chapter  " data-progress="6.5" style="left: 64.44444444444444%;"></a>
    
        <a href="./processManager.html" title="Process Manager" class="chapter  " data-progress="6.6" style="left: 66.66666666666667%;"></a>
    
        <a href="./security.html" title="Security" class="chapter  " data-progress="6.7" style="left: 68.88888888888889%;"></a>
    
        <a href="./propertyResolver.html" title="Property Resolver" class="chapter  " data-progress="6.8" style="left: 71.11111111111111%;"></a>
    
        <a href="./urlHandlers.html" title="URL Handlers" class="chapter  " data-progress="6.9" style="left: 73.33333333333333%;"></a>
    
        <a href="./technologies.html" title="Technologies" class="chapter  new-chapter" data-progress="7" style="left: 75.55555555555556%;"></a>
    
        <a href="./activemq.html" title="Apache ActiveMQ" class="chapter  " data-progress="7.1" style="left: 77.77777777777777%;"></a>
    
        <a href="./brokerTopology.html" title="Broker Topology" class="chapter  " data-progress="7.1.1" style="left: 80%;"></a>
    
        <a href="./brokerClients.html" title="Broker Clients" class="chapter  " data-progress="7.1.2" style="left: 82.22222222222223%;"></a>
    
        <a href="./camel.html" title="Apache Camel" class="chapter  " data-progress="7.2" style="left: 84.44444444444444%;"></a>
    
        <a href="./dataTransform.html" title="Data Transform" class="chapter  " data-progress="7.2.1" style="left: 86.66666666666667%;"></a>
    
        <a href="./camelEndpointAmq.html" title="amq: endpoint" class="chapter  " data-progress="7.2.2" style="left: 88.88888888888889%;"></a>
    
        <a href="./camelEndpointFabric.html" title="fabric: endpoint" class="chapter  " data-progress="7.2.3" style="left: 91.11111111111111%;"></a>
    
        <a href="./camelEndpointMaster.html" title="master: endpoint" class="chapter  " data-progress="7.2.4" style="left: 93.33333333333333%;"></a>
    
        <a href="./cxf.html" title="Apache CXF" class="chapter  " data-progress="7.3" style="left: 95.55555555555556%;"></a>
    
        <a href="./cxfFabric.html" title="CXF Fabric" class="chapter  " data-progress="7.3.1" style="left: 97.77777777777777%;"></a>
    
        <a href="./spring.html" title="Spring framework" class="chapter  " data-progress="7.4" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_27">
                    
                        <h2 id="maven-proxy"><a name="maven-proxy" class="anchor" href="#maven-proxy"><span class="fa fa-link"></span></a>Maven Proxy</h2>
<p>In a lot of cases people will run Fabric8 inside an environment with limited or no access at all to the internet.
The fabric-agent will still need to download artifacts from somewhere. Forcing the users to use a 3rd party maven repository manager doesn&apos;t seem like a good idea.
So Fabric8 provides a lightweight maven repository manager that provides the ability of uploading &amp; downloading maven artifacts inside a fabric.</p>
<h3 id="installation"><a name="installation" class="anchor" href="#installation"><span class="fa fa-link"></span></a>Installation</h3>
<p>When creating a new fabric using commands like:</p>
<pre><code>  fabric:create
</code></pre><p>the container will automatically install the fabric-maven-proxy feature on the current container. Additionally, the user can have a fabric-maven-proxy run on additional containers by adding the fabric-maven-porxy feature in one of their profiles. By default this feature is part of the fabric profile.</p>
<h3 id="discovery"><a name="discovery" class="anchor" href="#discovery"><span class="fa fa-link"></span></a>Discovery</h3>
<p>To avoid having the fabric-maven-proxy as a single point of failure fabric can discover &amp; use any fabric-maven-proxy that is running inside the fabric cluster. Each container running the fabric-maven-proxy will register it in the runtime registry and the fabric-agent will be able to discover it from there.
When having multiple fabric-maven-proxies running, the fabric-agent will use them in the same order that were added in the runtime registry.</p>
<h3 id="configuration"><a name="configuration" class="anchor" href="#configuration"><span class="fa fa-link"></span></a>Configuration</h3>
<p>Out of the box any fabric-maven-proxy will make use of a default set of remote and local repositories.</p>
<h4 id="local-repository"><a name="local-repository" class="anchor" href="#local-repository"><span class="fa fa-link"></span></a>Local repository</h4>
<p>Local repository is a read-write repository, which takes priority over the remote repositories. Any artifact lookup, will first use the local repository and if the target artifact is not found the remote repositories will be used.
Moreover, any artifact that was found in the remote repositories it will be also copied to the local repository.</p>
<p>The default local repository is the users maven repository is data/maven/proxy/downloads under the installation directory.</p>
<h4 id="remote-repositories"><a name="remote-repositories" class="anchor" href="#remote-repositories"><span class="fa fa-link"></span></a>Remote repositories</h4>
<p>Any read-only repository can be configured as remote repository.</p>
<h4 id="configuring-repositories"><a name="configuring-repositories" class="anchor" href="#configuring-repositories"><span class="fa fa-link"></span></a>Configuring repositories</h4>
<p>Both remote and local repositories can be configured using the io.fabric8.maven pid. That configuration accepts two properties:</p>
<p><em>localRepository</em>  The path to the local repository, defaults to data/maven/proxy/downloads</p>
<p><em>remoteRepositories</em> The remote repositories as a comma separated list.</p>
<p>Here is an example of how you can change the local repository for a single fabric-maven-proxy.</p>
<pre><code>  config:propset --pid io.fabric8.maven localRepository /path/to/my/repo myprofile
</code></pre><p>Fabric maven proxies that are running on managed containers, are configured via fabric profiles. So this would look like:</p>
<pre><code>  fabric:profile-edit --pid io.fabric8.maven/localRepository=/path/to/my/repo myprofile
</code></pre><p>In the last example there are two things that you need to take into consideration. The firs thing is that not necessarily all containers are managed.
The second is that not all containers running the fabric-maven-proxy use necessarily the same profiles, so its best to make the change in the profile that is the least common denominator <em>(e.g the default profile)</em>.</p>
<h3 id="deploying-artifacts-to-a-fabric-maven-proxy"><a name="deploying-artifacts-to-a-fabric-maven-proxy" class="anchor" href="#deploying-artifacts-to-a-fabric-maven-proxy"><span class="fa fa-link"></span></a>Deploying artifacts to a fabric-maven-proxy</h3>
<p>As already mentioned above, the fabric-maven-proxy allows you to deploy artifacts to it, so that it can be used for provisioning.
Assuming that the fabric-maven-proxy is running on <em>exampleHost</em>, the http url for uploading will be <em><a href="http://username:password@exampleHost:8181/maven/upload" target="_blank">http://username:password@exampleHost:8181/maven/upload</a></em>.
The username and password are the credentials of any user with the admin role. Note that the role is also configurable inside the io.fabric8.maven pid.</p>
<h4 id="use-the-fabric-maven-proxy-with-mvn-from-the-shell"><a name="use-the-fabric-maven-proxy-with-mvn-from-the-shell" class="anchor" href="#use-the-fabric-maven-proxy-with-mvn-from-the-shell"><span class="fa fa-link"></span></a>Use the fabric-maven-proxy with mvn from the shell</h4>
<p>You can specify the url to the fabric-maven-proxy directly from the shell for deploying any maven project to the project.</p>
<pre><code>  mvn deploy -DaltDeploymentRepository=http://username:password@exampleHost:8181/maven/upload
</code></pre><p>an alternative for deploying a single file as a maven artifact:</p>
<pre><code>  mvn deploy:deploy-file -Dfile=/path/to/target/file.jar -DartifactId=myartifactId -DgroupId=mygroupId -Dversion=1.0.0 -Dtype=jar  -Durl=http://username:password@exampleHost:8181/maven/upload
</code></pre><h4 id="configure-the-fabric-maven-proxy-in-the-user-maven-settings-xml"><a name="configure-the-fabric-maven-proxy-in-the-user-maven-settings-xml" class="anchor" href="#configure-the-fabric-maven-proxy-in-the-user-maven-settings-xml"><span class="fa fa-link"></span></a>Configure the fabric-maven-proxy in the user maven settings.xml</h4>
<p>To avoid using the fabric-maven-proxy url each time you want to deploy an artifact to fabric, you can configure the fabric-maven-proxy inside the maven <code>settings.xml</code> file.</p>
<p>The first step is to add inside the maven project a distribution management element that will point to the fabric-maven-proxy.</p>
<pre><code>&lt;distributionManagement&gt;
 &lt;repository&gt;
    &lt;id&gt;my-fabric-maven-proxy&lt;/id&gt;
    &lt;name&gt;Fabric Maven Proxy&lt;/name&gt;
    &lt;url&gt;http://exampleHost:8181/maven/upload&lt;/url&gt;
  &lt;/repository&gt;
&lt;/distributionManagement&gt;
</code></pre><p>The second step is to configure maven by with the credentials for the maven proxy, by adding a new server element in the settings.xml</p>
<pre><code>&lt;server&gt;
    &lt;id&gt;my-fabric-maven-proxy-id&lt;/id&gt;
    &lt;username&gt;username&lt;/username&gt;
    &lt;password&gt;username&lt;/password&gt;
&lt;/server&gt;
</code></pre><h3 id="integrating-with-3rd-party-maven-repository-managers"><a name="integrating-with-3rd-party-maven-repository-managers" class="anchor" href="#integrating-with-3rd-party-maven-repository-managers"><span class="fa fa-link"></span></a>Integrating with 3rd party maven repository managers</h3>
<p>If it hasn&apos;t been clear yet, you can integrate with a 3rd party maven repository manager either by adding them to the list of repositories in the fabric-agent configuration, or by adding them in the list of remote repositories of the fabric-maven-proxy.</p>
<p>The question is when to do go by the first approach and when to go by the second approach.</p>
<p>The actual difference in the two approaches is that the fabric-maven-proxy will store any artifact it fetches from remote repos to its local repository. Future requests for that such artifacts will be served using the local repository.
If retrieving artifacts from the 3rd party repository manager is an expensive operation, then you definitely need to use the fabric-maven-proxy, as it will limit requests to the 3rd party repository manager.</p>
<h3 id="using-a-http-proxy-with-the-maven-proxy"><a name="using-a-http-proxy-with-the-maven-proxy" class="anchor" href="#using-a-http-proxy-with-the-maven-proxy"><span class="fa fa-link"></span></a>Using a HTTP proxy with the Maven Proxy</h3>
<p>Using the built-in Maven Proxy in fabric will communicate directly between the nodes over HTTP. If a HTTP proxy is required for communication, then you can configure the maven proxy in fabric by configuring the <code>MavenProxyRegistrationHandler</code>.</p>
<p>From the CLI type:</p>
<pre><code>fabric:profile-edit --pid io.fabric8.maven/proxyHost=servername fabric
fabric:profile-edit --pid io.fabric8.maven/proxyPort=portNumber fabric
</code></pre><p>Notice you must specify both a hostname and port to use.</p>
<p>And you can optionally specify a proxy username/password if the HTTP proxy requires that.</p>
<pre><code>fabric:profile-edit --pid io.fabric8.maven/proxyUsername=someone fabric
fabric:profile-edit --pid io.fabric8.maven/proxyPassword=secret fabric
</code></pre><p>It is also possible to specify a nonProxyHost to allow some nodes to not use the HTTP proxy. Multiple hosts is separated using the <code>|</code> charachter. Remember to qoute the pid value using <code>&apos;</code> quotes when you use the <code>|</code> charachter, as the <code>|</code> is used for chaining commands.</p>
<pre><code>fabric:profile-edit --pid &apos;io.fabric8.maven/nonProxyHosts=someServer|somerOtherServer&apos; fabric
</code></pre><p>Noptice that by default nonProxyHosts will not proxy any URIs that is localhost as access to itself, does not require to use the HTTP proxy.
But if you configure this option, then remember to add <code>localhost|127.*</code> to still not proxy any localhost addresses.</p>
<p>You can also configure the <code>MavenProxyRegistrationHandler</code> from the web console, by selecting the fabric profile, and click the <code>Configuration</code> button.</p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="./git.html" class="navigation navigation-prev " aria-label="Previous page: Git"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./containers.html" class="navigation navigation-next " aria-label="Next page: Containers"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="gitbook/app.js"></script>
        

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
