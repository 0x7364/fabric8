<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Maven Plugin | Fabric8 Documentation</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.1.0">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="gitbook/style.css">
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-anchors/plugin.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-richquotes/plugin.css">
        
    
    

        
    
    
    <link rel="next" href="./mavenDockerBuild.html" />
    
    
    <link rel="prev" href="./tools.html" />
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="4.1" data-basepath="." data-revision="Wed Jul 08 2015 12:59:38 GMT+0000 (UTC)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="overview.html">
            
                
                    <a href="./overview.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Overview
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="fabric8Apps.html">
            
                
                    <a href="./fabric8Apps.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Fabric8 Apps
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="management.html">
            
                
                    <a href="./management.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Management
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="console.html">
            
                
                    <a href="./console.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.1.</b>
                        
                        Console
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="logging.html">
            
                
                    <a href="./logging.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.2.</b>
                        
                        Logging
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="metrics.html">
            
                
                    <a href="./metrics.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.3.</b>
                        
                        Metrics
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.1.4" data-path="appLibrary.html">
            
                
                    <a href="./appLibrary.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.4.</b>
                        
                        App Library
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="cdelivery.html">
            
                
                    <a href="./cdelivery.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Continuous Delivery
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="chat.html">
            
                
                    <a href="./chat.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.1.</b>
                        
                        Chat
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="ipaas.html">
            
                
                    <a href="./ipaas.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        iPaaS
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="apiRegistry.html">
            
                
                    <a href="./apiRegistry.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.1.</b>
                        
                        API Registry
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.3.2" data-path="fabric8MQ.html">
            
                
                    <a href="./fabric8MQ.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.2.</b>
                        
                        MQ
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.3.3" data-path="fabric8MQAutoScaler.html">
            
                
                    <a href="./fabric8MQAutoScaler.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.3.</b>
                        
                        MQ AutoScaler
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.3.4" data-path="apiManagement.html">
            
                
                    <a href="./apiManagement.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.4.</b>
                        
                        API Management
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="getStarted/index.html">
            
                
                    <a href="./getStarted/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Getting Started
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="getStarted/vagrant.html">
            
                
                    <a href="./getStarted/vagrant.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Vagrant Image
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="getStarted/openshift.html">
            
                
                    <a href="./getStarted/openshift.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Native OpenShift
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="getStarted/local.html">
            
                
                    <a href="./getStarted/local.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Local OpenShift Client
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="getStarted/apps.html">
            
                
                    <a href="./getStarted/apps.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        Fabric8 applications
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="getStarted/example.html">
            
                
                    <a href="./getStarted/example.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                        Deploy an example
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="getStarted/develop.html">
            
                
                    <a href="./getStarted/develop.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                        Develop locally
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="tools.html">
            
                
                    <a href="./tools.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Tools
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="4.1" data-path="mavenPlugin.html">
            
                
                    <a href="./mavenPlugin.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Maven Plugin
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="mavenDockerBuild.html">
            
                
                    <a href="./mavenDockerBuild.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.1.</b>
                        
                        docker:build
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="mavenDockerPush.html">
            
                
                    <a href="./mavenDockerPush.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.2.</b>
                        
                        docker:push
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.1.3" data-path="mavenFabric8Apply.html">
            
                
                    <a href="./mavenFabric8Apply.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.3.</b>
                        
                        fabric8:apply
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.1.4" data-path="mavenFabric8CreateEnv.html">
            
                
                    <a href="./mavenFabric8CreateEnv.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.4.</b>
                        
                        fabric8:create-env
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.1.5" data-path="mavenFabric8CreateRoutes.html">
            
                
                    <a href="./mavenFabric8CreateRoutes.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.5.</b>
                        
                        fabric8:create-routes
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.1.6" data-path="mavenFabric8DeletePods.html">
            
                
                    <a href="./mavenFabric8DeletePods.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.6.</b>
                        
                        fabric8:delete-pods
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.1.7" data-path="mavenFabric8Json.html">
            
                
                    <a href="./mavenFabric8Json.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.7.</b>
                        
                        fabric8:json
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.7.1" data-path="annotationProcessors.html">
            
                
                    <a href="./annotationProcessors.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.7.1.</b>
                        
                        annotation processors
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="javaLibraries.html">
            
                
                    <a href="./javaLibraries.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        Java Libraries
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="cdi.html">
            
                
                    <a href="./cdi.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        CDI
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="testing.html">
            
                
                    <a href="./testing.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                        Testing
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="quickstarts.html">
            
                
                    <a href="./quickstarts.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.</b>
                        
                        QuickStarts
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="forge.html">
            
                
                    <a href="./forge.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.6.</b>
                        
                        Forge Addons
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="architecture.html">
            
                
                    <a href="./architecture.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Architecture
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="pods.html">
            
                
                    <a href="./pods.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        Pods
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="replicationControllers.html">
            
                
                    <a href="./replicationControllers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        Replication Controllers
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="labels.html">
            
                
                    <a href="./labels.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        Labels
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="services.html">
            
                
                    <a href="./services.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                        Services
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="apps.html">
            
                
                    <a href="./apps.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.5.</b>
                        
                        Apps
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="appzip.html">
            
                
                    <a href="./appzip.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.6.</b>
                        
                        App Zip
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.7" data-path="environments.html">
            
                
                    <a href="./environments.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.7.</b>
                        
                        Environments
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.8" data-path="builds.html">
            
                
                    <a href="./builds.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.8.</b>
                        
                        Builds
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="v2-changes.html">
            
                
                    <a href="./v2-changes.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Changes from V1
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="7" data-path="jube/index.html">
            
                
                    <a href="./jube/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Jube
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="jube/getStarted.html">
            
                
                    <a href="./jube/getStarted.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        Get Started
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="jube/runQuickstart.html">
            
                
                    <a href="./jube/runQuickstart.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                        Running a quickstart on Jube
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="jube/apps.html">
            
                
                    <a href="./jube/apps.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.</b>
                        
                        Add a quickstart to the App Library
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" data-path="FAQ.html">
            
                
                    <a href="./FAQ.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        FAQ
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1" data-path="faqGeneral.html">
            
                
                    <a href="./faqGeneral.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.</b>
                        
                        General Questions
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="faqKubernetes.html">
            
                
                    <a href="./faqKubernetes.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.</b>
                        
                        Kubernetes Questions
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                Published with GitBook
            </a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    
    


    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >Fabric8 Documentation</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h2 id="fabric8-maven-plugin"><a name="fabric8-maven-plugin" class="plugin-anchor" href="#fabric8-maven-plugin"><span class="fa fa-link"></span></a>Fabric8 Maven Plugin</h2>
<p>This maven plugin makes it easy to work with Kubernetes from your Maven project.</p>
<h3 id="goals"><a name="goals" class="plugin-anchor" href="#goals"><span class="fa fa-link"></span></a>Goals</h3>
<p>For building and pushing docker images</p>
<ul>
<li><a href="mavenDockerBuild.html">docker:build</a> builds the docker image for your maven project</li>
<li><a href="mavenDockerPush.html">docker:push</a> pushes the locally built docker image to the global or a local docker registry</li>
</ul>
<p>For generating and applying Kubernetes JSON</p>
<ul>
<li><a href="mavenFabric8Json.html">fabric8:json</a> generates kubernetes json for your maven project</li>
<li><a href="mavenFabric8Apply.html">fabric8:apply</a> applies the kubernetes json into a namespace in a kubernetes cluster</li>
</ul>
<p>Helper goals for working with Kubernetes </p>
<ul>
<li><a href="mavenFabric8CreateEnv.html">fabric8:create-env</a> generates environment variable scripts for Kubernetes <a href="services.html">services</a> so you can simulate running programs as if they were inside kubernetes</li>
<li><a href="mavenFabric8CreateRoutes.html">fabric8:create-routes</a> generates any missing <a href="http://docs.openshift.org/latest/admin_guide/router.html" target="_blank">OpenShift Routes</a> for the current services </li>
<li><a href="mavenFabric8DeletePods.html">fabric8:delete-pods</a> deletes pods for the current projects docker image so that they get recreated by the <a href="replicationControllers.html">replication controllers</a> to use the latest image</li>
</ul>
<h3 id="adding-the-plugin-to-your-project"><a name="adding-the-plugin-to-your-project" class="plugin-anchor" href="#adding-the-plugin-to-your-project"><span class="fa fa-link"></span></a>Adding the plugin to your project</h3>
<p>To enable this maven plugin and to automatically generate/copy and release the <a href="apps.html">App JSON file</a> as part of your build add this to your pom.xml:</p>
<pre><code>  &lt;plugin&gt;
    &lt;groupId&gt;io.fabric8&lt;/groupId&gt;
    &lt;artifactId&gt;fabric8-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;${fabric.version}&lt;/version&gt;
    &lt;executions&gt;
      &lt;execution&gt;
        &lt;id&gt;json&lt;/id&gt;
        &lt;goals&gt;
          &lt;goal&gt;json&lt;/goal&gt;
        &lt;/goals&gt;
      &lt;/execution&gt;
    &lt;/executions&gt;
  &lt;/plugin&gt;
</code></pre><p>To automatically generate an <a href="appzip.html">App Zip</a> for your project then add this:</p>
<pre><code>  &lt;plugin&gt;
    &lt;groupId&gt;io.fabric8&lt;/groupId&gt;
    &lt;artifactId&gt;fabric8-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;${project.version}&lt;/version&gt;
    &lt;executions&gt;
      &lt;execution&gt;
        &lt;id&gt;zip&lt;/id&gt;
        &lt;phase&gt;package&lt;/phase&gt;
        &lt;goals&gt;
          &lt;goal&gt;zip&lt;/goal&gt;
        &lt;/goals&gt;
      &lt;/execution&gt;
    &lt;/executions&gt;
  &lt;/plugin&gt;
</code></pre><h3 id="generating-cdi-environment-variables"><a name="generating-cdi-environment-variables" class="plugin-anchor" href="#generating-cdi-environment-variables"><span class="fa fa-link"></span></a>Generating CDI environment variables</h3>
<p>If you use CDI for your dependency injection and use the <a href="http://deltaspike.apache.org/documentation/configuration.html" target="_blank">@ConfigProperty</a> annotation from <a href="http://deltaspike.apache.org/" target="_blank">deltaspike</a> to inject environment variables or default values into your Java code then you can automatically generate a json schema file for each jar you create by just adding a <strong>provided</strong> scope dependency on the <strong>fabric8-apt</strong> module.</p>
<p>e.g. add this to your pom.xml</p>
<pre><code>&lt;dependency&gt;
  &lt;groupId&gt;io.fabric8&lt;/groupId&gt;
  &lt;artifactId&gt;fabric8-apt&lt;/artifactId&gt;
  &lt;scope&gt;provided&lt;/scope&gt;
&lt;/dependency&gt;
</code></pre><p>This will then generate inside your jar a file called <strong>io/fabric8/environment/schema.json</strong> which will be a JSON Schema document describing all the environment variables, their types, default values and their description (if you added some javadoc for them).</p>
<h4 id="including-the-environment-variables-in-the-generated-json"><a name="including-the-environment-variables-in-the-generated-json" class="plugin-anchor" href="#including-the-environment-variables-in-the-generated-json"><span class="fa fa-link"></span></a>Including the environment variables in the generated JSON</h4>
<p>By default any discovered environment variable JSON Schema files will be included in the generated JSON so that your <a href="apps.html">app JSON</a> has all the available known environment variables from a CDI perspective; which makes it easy to change the app without too much detailed knowledge of the source code and helps reduce typeos since all the environment variable names are defaulted.</p>
<p>If you wish to disable this behaviour then set the maven property <strong>fabric8.includeAllEnvironmentVariables</strong> to false.</p>
<h4 id="viewing-all-the-environment-variable-injection-points"><a name="viewing-all-the-environment-variable-injection-points" class="plugin-anchor" href="#viewing-all-the-environment-variable-injection-points"><span class="fa fa-link"></span></a>Viewing all the environment variable injection points</h4>
<p>If you have transitive dependencies which include the generated <strong>io/fabric8/environment/schema.json</strong> file in their jars you can view the overall list of environment variable injection points for a project via:</p>
<pre><code>mvn fabric8:describe-env
</code></pre><p>This will then list all the environment variables, their default value, type and description.</p>
<h3 id="deploying-into-the-library"><a name="deploying-into-the-library" class="plugin-anchor" href="#deploying-into-the-library"><span class="fa fa-link"></span></a>Deploying into the Library</h3>
<p>Before deploying you need to make sure your docker image is available to Kubernetes. See above for how to do this. Any docker registry that is accessible to Kubernetes is supported.</p>
<p>To deploy your <a href="appzip.html">App Zip</a> into the wiki in the web console use the following goal:</p>
<pre><code>mvn fabric8:deploy
</code></pre><p>This goal uses the default fabric8 console URL of <strong><a href="http://dockerhost:8484/hawtio/" target="_blank">http://dockerhost:8484/hawtio/</a></strong> unless you specify the FABRIC8_CONSOLE environment variable to point at something else.</p>
<p>e.g. to try this against a locally running hawtio try:</p>
<pre><code>export FABRIC8_CONSOLE=http://localhost:8282/hawtio/
</code></pre><p>This goal will then POST the <a href="appzip.html">App Zip</a> into the wiki so you should be able to view the newly posted <a href="apps.html">App</a> at <a href="http://dockerhost:8484/hawtio/wiki/branch/master/view" target="_blank">http://dockerhost:8484/hawtio/wiki/branch/master/view</a></p>
<h3 id="example"><a name="example" class="plugin-anchor" href="#example"><span class="fa fa-link"></span></a>Example</h3>
<p>To see these plugins in action check out how to <a href="getStarted/example.html">run and example quickstart</a></p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./tools.html" class="navigation navigation-prev " aria-label="Previous page: Tools"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./mavenDockerBuild.html" class="navigation navigation-next " aria-label="Next page: docker:build"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
