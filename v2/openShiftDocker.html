<!DOCTYPE HTML>
<html lang="en-US" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=11; IE=10; IE=9; IE=8; IE=7; IE=EDGE" />
        <title>Docker | Fabric8 Documentation</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 1.5.0">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
        
    
    
    <link rel="next" href="./openShiftVagrant.html" />
    
    
    <link rel="prev" href="./getStartedOpenShift.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="gitbook/style.css">

    
    <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-anchors/plugin.css">
    


        
    <div class="book" data-level="2.2.1" data-basepath="." data-revision="1423847208932">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
    	
    	
    	

        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                        <i class="fa fa-check"></i>
                        
                         Introduction
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1" data-path="overview.html">
            
                
                    <a href="./overview.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         Overview
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="1.1" data-path="pods.html">
            
                
                    <a href="./pods.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                         Pods
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.2" data-path="replicationControllers.html">
            
                
                    <a href="./replicationControllers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                         Replication Controllers
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.3" data-path="labels.html">
            
                
                    <a href="./labels.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                         Labels
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.4" data-path="services.html">
            
                
                    <a href="./services.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.4.</b>
                        
                         Services
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.5" data-path="apps.html">
            
                
                    <a href="./apps.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.5.</b>
                        
                         Apps
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.6" data-path="appzip.html">
            
                
                    <a href="./appzip.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.6.</b>
                        
                         App Zip
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.7" data-path="builds.html">
            
                
                    <a href="./builds.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.7.</b>
                        
                         Builds
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="2" data-path="getStarted.html">
            
                
                    <a href="./getStarted.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                         Getting Started
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="2.1" data-path="getStartedJube.html">
            
                
                    <a href="./getStartedJube.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                         Using Jube
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="2.1.1" data-path="jubeRunQuickstart.html">
            
                
                    <a href="./jubeRunQuickstart.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.1.</b>
                        
                         Running a quickstart on Jube
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.1.2" data-path="jubeAddQuickstartApp.html">
            
                
                    <a href="./jubeAddQuickstartApp.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.2.</b>
                        
                         Add a quickstart to the App Library
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="2.2" data-path="getStartedOpenShift.html">
            
                
                    <a href="./getStartedOpenShift.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                         Using OpenShift V3
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter active" data-level="2.2.1" data-path="openShiftDocker.html">
            
                
                    <a href="./openShiftDocker.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.1.</b>
                        
                         Docker
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.2.2" data-path="openShiftVagrant.html">
            
                
                    <a href="./openShiftVagrant.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.2.</b>
                        
                         Vagrant
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.2.3" data-path="openShiftInstall.html">
            
                
                    <a href="./openShiftInstall.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.3.</b>
                        
                         Install Natively
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="2.3" data-path="example.html">
            
                
                    <a href="./example.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                         Deploy an example
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="3" data-path="tools.html">
            
                
                    <a href="./tools.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                         Tools
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="3.1" data-path="quickstarts.html">
            
                
                    <a href="./quickstarts.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                         QuickStarts
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.2" data-path="mavenPlugin.html">
            
                
                    <a href="./mavenPlugin.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                         Maven Plugin
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.3" data-path="forge.html">
            
                
                    <a href="./forge.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                         Forge Addons
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.4" data-path="javaLibraries.html">
            
                
                    <a href="./javaLibraries.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                         Java Libraries
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.5" data-path="testing.html">
            
                
                    <a href="./testing.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                         Testing
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="4" data-path="fabric8Apps.html">
            
                
                    <a href="./fabric8Apps.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                         Fabric8 Apps
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="4.1" data-path="console.html">
            
                
                    <a href="./console.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                         Console
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.2" data-path="logging.html">
            
                
                    <a href="./logging.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                         Logging
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.3" data-path="metrics.html">
            
                
                    <a href="./metrics.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                         Metrics
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.4" data-path="apiRegistry.html">
            
                
                    <a href="./apiRegistry.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                         API Registry
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.5" data-path="fabric8MQ.html">
            
                
                    <a href="./fabric8MQ.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.</b>
                        
                         MQ
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.6" data-path="fabric8MQAutoScaler.html">
            
                
                    <a href="./fabric8MQAutoScaler.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.6.</b>
                        
                         MQ AutoScaler
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="5" data-path="v2-changes.html">
            
                
                    <a href="./v2-changes.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                         Changes from V1
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6" data-path="jube.html">
            
                
                    <a href="./jube.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                         Jube
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="7" data-path="FAQ.html">
            
                
                    <a href="./FAQ.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                         FAQ
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="7.1" data-path="faqGeneral.html">
            
                
                    <a href="./faqGeneral.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                         General Questions
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Published using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle share dropdown"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">Twitter</button>
                <button type="button" data-sharing="google-plus" class="button">Google</button>
                <button type="button" data-sharing="facebook" class="button">Facebook</button>
                <button type="button" data-sharing="weibo" class="button">Weibo</button>
                <button type="button" data-sharing="instapaper" class="button">Instapaper</button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >Fabric8 Documentation</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-gitbook_25">
                    
                        <h2 id="run-openshift-v3-using-docker"><a name="run-openshift-v3-using-docker" class="anchor" href="#run-openshift-v3-using-docker"><span class="fa fa-link"></span></a>Run OpenShift V3 using Docker</h2>
<p>There are two common approaches to running OpenShift with <a href="https://docs.docker.com/" target="_blank">Docker</a> and the prerequisites are different depending on how you install and run Docker.</p>
<h3 id="prerequisites"><a name="prerequisites" class="anchor" href="#prerequisites"><span class="fa fa-link"></span></a>Prerequisites</h3>
<p>Whether you can run and install Docker natively changes the steps you need to follow.  Please follow the correct steps for you..</p>
<ul>
<li>Internet connection to download the start script and pull docker images</li>
<li>Suitable disk space for your desired usage.  Docker images can be quite large and 20G will disappear quickly, it&apos;s recommended to keep an eye on your available disk space.  There are some useful <a href="#clean-up-scripts">clean up scripts</a> to help.</li>
<li><a href="#native-prerequisites">Native setup steps</a> - if you are using an Operating System such as Fedora, Centos or RHEL then you can install and run Docker natively and therefore OpenShift too</li>
<li><a href="#non-native-prerequisites">Non native setup steps</a> - if you are using an Operating System such as OSX or Windows then you&apos;ll need to use a Virtual Machine</li>
</ul>
<h3 id="getting-started"><a name="getting-started" class="anchor" href="#getting-started"><span class="fa fa-link"></span></a>Getting started</h3>
<p>We use a script which is downloaded via curl to configure and start OpenShift in a Docker container.  This script will also schedule a number of further containers such as the fabric8 console and optionally logging and metric dashboards in the form of <a href="http://www.elasticsearch.org/overview/kibana" target="_blank">Kibana</a> and <a href="http://play.grafana.org/#/dashboard/db/grafana-play-home" target="_blank">Grafana</a>.</p>
<ul>
<li><a href="#start-scripts">Start Scripts</a></li>
<li><a href="#environment-variables">Environment Variables</a></li>
<li><a href="example.html">Deploy and Run a quickstart</a></li>
<li><a href="#using-the-kube-command-line">Using the OpenShift CLI (osc)</a></li>
</ul>
<hr>
<h3 id="start-scripts"><a name="start-scripts" class="anchor" href="#start-scripts"><span class="fa fa-link"></span></a>Start Scripts</h3>
<p><em>The first time you run fabric8 v2 it may take some time as there are a number of docker images to download, this may require some patience</em></p>
<p>If you are running fabric8 v2 for the first time we recommend you start with the basic script below</p>
<h4 id="basic"><a name="basic" class="anchor" href="#basic"><span class="fa fa-link"></span></a>Basic</h4>
<p>If you fancy starting OpenShift V3 the super-easy way which includes the <a href="console.html">Fabric8 console</a> and a <a href="https://registry.hub.docker.com/_/registry/" target="_blank">Private Docker registry</a>, run this one-liner, once finished if a browser is installed it will open to the fabric8 console  </p>
<pre><code>bash &lt;(curl -sSL https://bit.ly/get-fabric8)
</code></pre><h4 id="full"><a name="full" class="anchor" href="#full"><span class="fa fa-link"></span></a>Full</h4>
<p>If you would like to try out a fully-featured installation, including aggregated logs &amp; metrics, you can pass in the <code>-k</code> (&quot;kitchen sink&quot;) flag <strong>warning more images to download so longer to wait</strong></p>
<pre><code>bash &lt;(curl -sSL https://bit.ly/get-fabric8) -k
</code></pre><h4 id="recreate"><a name="recreate" class="anchor" href="#recreate"><span class="fa fa-link"></span></a>Recreate</h4>
<p>If you want to start from scratch, deleting all previously created Kubernetes containers, you can pass in the <code>-f</code> flag:</p>
<pre><code>bash &lt;(curl -sSL https://bit.ly/get-fabric8) -f
</code></pre><h4 id="update"><a name="update" class="anchor" href="#update"><span class="fa fa-link"></span></a>Update</h4>
<p>To update all the relevant images (corresponds to docker pull latest docker images), you can pass the <code>-u</code> flag:</p>
<pre><code>bash &lt;(curl -sSL https://bit.ly/get-fabric8) -u
</code></pre><h4 id="combination"><a name="combination" class="anchor" href="#combination"><span class="fa fa-link"></span></a>Combination</h4>
<p>And of course flags can be combined, to start from scratch &amp; update all images at once:</p>
<pre><code>bash &lt;(curl -sSL https://bit.ly/get-fabric8) -kuf
</code></pre><hr>
<h3 id="native-prerequisites"><a name="native-prerequisites" class="anchor" href="#native-prerequisites"><span class="fa fa-link"></span></a>Native prerequisites</h3>
<ol>
<li>First you&apos;ll need to <a href="https://docs.docker.com/installation/" target="_blank">install docker</a>, the later the version generally the better it is!</li>
<li>Ensure you enable sudoless use of the docker daemon for users that will run the start script</li>
<li><p>Copy the following line into /etc/sysconfig/docker  </p>
<p> OPTIONS=&quot;--selinux-enabled -H unix://var/run/docker.sock -H tcp://0.0.0.0:2375 --insecure-registry 172.0.0.0/8&quot;</p>
</li>
<li><p>Restart the docker service  </p>
<p> service docker restart</p>
</li>
</ol>
<h3 id="non-native-prerequisites"><a name="non-native-prerequisites" class="anchor" href="#non-native-prerequisites"><span class="fa fa-link"></span></a>Non Native prerequisites</h3>
<p>Traditionally Mac and Windows users for example would use <a href="http://boot2docker.io/" target="_blank">boot2docker</a> (a lightweight VM designed to make it feel like users can run docker natively).  This has been good in the past when working with a few containers however we have seen connectivity issues and problems related to low resources when working with more demanding technologies such as Kubernetes.  We <strong>do not</strong> recommend you use boot2docker to run OpenShift.  </p>
<p>We will use a VM to run OpenShift, you can configure a VM yourself, some use VMWare over Virtual Box and follow the Native steps above.  You will still need to add network routes as described in the steps below so you can access <a href="services.html">Sevices</a> and <a href="pods.html">Pods</a>.</p>
<p><strong>If you want to avoid this then the simplest way to get going is to use the fabric8 VagrantFile:</strong></p>
<ol>
<li>First you&apos;ll need to install the <a href="https://docs.docker.com/installation/" target="_blank">Docker client</a> as mentioned above to interact with docker registries etc, the later the version generally the better it is!</li>
<li>Install <a href="http://www.vagrantup.com/downloads.html" target="_blank">Vagrant</a></li>
<li><p>Get the fabrc8 VM</p>
<p> <code>git clone git@github.com:fabric8io/fabric8.git</code><br> <code>cd fabric8</code><br> <code>vagrant up</code><br> <code>vagrant ssh</code>    </p>
</li>
</ol>
<ol>
<li><p>It&apos;s a good idea prime prime the docker registry (docker pull the images we will be using) and use Vagrant to take a snapshot so we can revert back to a clean start without re-downloading gigabites of docker images.</p>
<p> first install the snapshot plugin</p>
<p> <code>vagrant plugin install vagrant-vbox-snapshot</code>  </p>
<p> now prime the registry  </p>
<p> <code>bash &lt;(curl -sSL https://bit.ly/get-fabric8) -p</code>  </p>
<p> or if you want to pull down all the docker images for the kitchen sink</p>
<p> <code>bash &lt;(curl -sSL https://bit.ly/get-fabric8) -pk</code>  </p>
<p> take a snapshot of the vagrant image:</p>
<p> <code>exit</code><br> <code>vagrant snapshot take default cleanstart</code>  </p>
<p> <strong>Now at any point you can reset to the cleanstart snapshot via:</strong></p>
<p> <code>vagrant snapshot go default cleanstart</code></p>
</li>
</ol>
<ol>
<li><p>Networking - Making sure you can access the IP addresses of services and pods from your host, you will need to add network routes on your host to access the fabric8 console and other services.  </p>
<p>Set the <strong>DOCKER_IP</strong> environment variable.  This points to the IP address where docker is running.</p>
<p>If you are using the fabric8 vagrant image then run:</p>
<p><code>export DOCKER_IP=172.28.128.4</code></p>
<p>If you are running with VM and have set it up yourself rather than using the Vagrant image then get the correct en* ipaddress you use to connect to your VM using <code>ip addr show</code> or <code>ifconfig</code> </p>
<p><code>export DOCKER_IP=[correct en IP]</code></p>
<p>Then you should be able to add a network route so you can see the 172.X.X.X IP addresses:</p>
<p><code>sudo route -n delete 172.0.0.0/8</code><br><code>sudo route -n add 172.0.0.0/8 $DOCKER_IP</code></p>
<p>you should now be able to access IP addresses within kubernetes starting with &quot;172.&quot;</p>
</li>
</ol>
<h3 id="environment-variables"><a name="environment-variables" class="anchor" href="#environment-variables"><span class="fa fa-link"></span></a>Environment variables</h3>
<p>You&apos;ll need the following environment variables to be able use the <a href="http://fabric8.io/v2/tools.html" target="_blank">Tools</a> such as the <a href="console.html">Console</a>, <a href="http://fabric8.io/v2/mavenPlugin.html" target="_blank">Maven Plugin</a>, the <a href="http://fabric8.io/v2/forge.html" target="_blank">Forge Addons</a> and the <a href="javaLibraries.html">java libraries</a>:</p>
<p>The following environment variables with their values are presented to you after the start script finishes.  </p>
<pre><code>DOCKER_IP
KUBERNETES_TRUST_CERT
KUBERNETES_MASTER  - used to interact with the Kubernetes Rest API
DOCKER_REGISTRY  - used to push images to the private docker registry
FABRIC8_CONSOLE - used to interact with the faberic8 console to deploy and run apps
</code></pre><h3 id="using-the-kube-command-line"><a name="using-the-kube-command-line" class="anchor" href="#using-the-kube-command-line"><span class="fa fa-link"></span></a>Using the kube command line</h3>
<p>Run this command or add it to your ~/.bashrc</p>
<p>Natively  </p>
<pre><code>alias osc=&quot;docker run --rm -i --entrypoint=osc --net=host openshift/origin:latest --insecure-skip-tls-verify&quot;
</code></pre><p>Non-natively  </p>
<pre><code>alias osc=&quot;docker run --rm -i -e KUBERNETES_MASTER=https://$DOCKER_IP:8443 --entrypoint=osc --net=host openshift/origin:latest --insecure-skip-tls-verify&quot;
</code></pre><p>You can now use the kube command line to list pods, replication controllers and services; delete or create resources etc:</p>
<pre><code>osc get pods
osc get replicationControllers
osc get services
</code></pre><p>To see all the available commands:</p>
<pre><code>osc --help
</code></pre><p><strong>Note</strong> that since we are using docker and you are typically running the docker commands from the host machine (your laptop), the osc command which itself runs in a linux container won&apos;t be able to access local files when supplying -c to create.</p>
<p>However you can pipe them into the command line via</p>
<pre><code>cat mything.json | osc create -f -
</code></pre><h3 id="clean-up-scripts"><a name="clean-up-scripts" class="anchor" href="#clean-up-scripts"><span class="fa fa-link"></span></a>Clean up scripts</h3>
<p>To remove untagged images</p>
<pre><code>sudo docker rmi $(sudo docker images -qaf &apos;dangling=true&apos;)
</code></pre><p>Sometimes Docker containers are not removed completely.  The lines below will stop and remove OpenShift and all containers created by Kubernetes.</p>
<pre><code>docker kill openshift
docker rm -v openshift
docker kill $(docker ps -a | grep k8s | cut -c 1-12)
docker rm -v $(docker ps -a -q)
</code></pre><h3 id="running-a-hawtio-console"><a name="running-a-hawtio-console" class="anchor" href="#running-a-hawtio-console"><span class="fa fa-link"></span></a>Running a hawtio console</h3>
<p>If you are developing and working with hawtio you might want to run a locally built hawtio docker image against OpenShift..</p>
<pre><code>docker run -p 8484:8080 -it -e KUBERNETES_MASTER=https://$DOCKER_IP:8443 fabric8/hawtio
</code></pre><p>You can now access the web console at <a href="http://$DOCKER_IP:8484/hawtio/kubernetes/pods" target="_blank">http://$DOCKER_IP:8484/hawtio/kubernetes/pods</a>.</p>
<h3 id="troubleshooting"><a name="troubleshooting" class="anchor" href="#troubleshooting"><span class="fa fa-link"></span></a>Troubleshooting</h3>
<h4 id="avoiding-boot2docker-all-together"><a name="avoiding-boot2docker-all-together" class="anchor" href="#avoiding-boot2docker-all-together"><span class="fa fa-link"></span></a>Avoiding boot2docker all together</h4>
<p>You still need to run docker commands on your host such as <code>docker build</code>, <code>docker push</code> and when using the OpenShift CLI.  Rather than using boot2docker we can also use the docker daemon from the VM.  If you&apos;re using the fabric8 Vagrant image this will already be setup for you.  If you have created a VM yourself you need to follow these steps..</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./getStartedOpenShift.html" class="navigation navigation-prev " aria-label="Previous page: Using OpenShift V3"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./openShiftVagrant.html" class="navigation navigation-next " aria-label="Next page: Vagrant"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="https://cdn.mathjax.org/mathjax/2.4-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
