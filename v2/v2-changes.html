<!DOCTYPE HTML>
<html lang="en-US" manifest="./manifest.appcache">
    
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        
        <meta charset="UTF-8">
        <title>Changes from V1 | Fabric8 Documentation</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="fabric8io">
        <meta name="description" content="Fabric8 User Guide and Reference Documentation">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="./FAQ.html" />
        
        
        <link rel="prev" href="./emulation.html" />
        

        <meta property="og:title" content="Changes from V1 | Fabric8 Documentation">
        <meta property="og:site_name" content="Fabric8 Documentation">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/fabric8io">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
        
    </head>
    <body>
        
        

        <link rel="stylesheet" href="gitbook/style.css">
        

    
    <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-anchors/plugin.css">
    


        
    <div class="book" data-github="fabric8io/fabric8" data-level="4" data-basepath="." data-revision="1412592077004">
    <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    
    <a href="http://fabric8.io/" target="_blank" class="btn pull-left home-bookmark" aria-label="GitHub home"><i class="fa fa-bookmark-o"></i></a>
    
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="btn-group btn-block">
        <button id="reduce-font-size" class="btn btn-default">A</button>
        <button id="enlarge-font-size" class="btn btn-default">A</button>
    </div>

    <ul class="list-group font-family-list">
        <li class="list-group-item" data-font="0">Serif</li>
        <li class="list-group-item" data-font="1">Sans</li>
    </ul>

    <div class="btn-group btn-group-xs btn-block color-theme-list">
        <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
    </div>
</div>

    </span>

    <!-- Actions Right -->
    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    

    
    <a href="https://github.com/fabric8io/fabric8/stargazers" target="_blank" class="btn pull-right count-star hidden-xs"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/fabric8io/fabric8/watchers" target="_blank" class="btn pull-right count-watch hidden-xs"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="./" >Fabric8 Documentation</a>
    </h1>
</div>

    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        <li>
            <a href="http://fabric8.io/docs/index.html" target="blank" class="author-link">About the author</a>
        </li>
        

        
        
        <li>
            <a href="https://github.com/fabric8io/fabric8/issues?milestone=none&amp;state=closed" target="blank"class="issues-link">Questions and Issues</a>
        </li>
        

        
        
        <li>
            <a href="http://fabric8.io/contributing/index.html" target="blank" class="contribute-link">Edit and Contribute</a>
        </li>
        

        
        <li class="divider"></li>
        

        <li data-level="0" data-path="index.html">
            <a href="./"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
    
        <li class="chapter " data-level="1" data-path="overview.html">
            
            <a href="./overview.html">
                <i class="fa fa-check"></i> <b>1.</b> Overview
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="pods.html">
            
            <a href="./pods.html">
                <i class="fa fa-check"></i> <b>1.1.</b> Pods
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="replicationControllers.html">
            
            <a href="./replicationControllers.html">
                <i class="fa fa-check"></i> <b>1.2.</b> Replication Controllers
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="labels.html">
            
            <a href="./labels.html">
                <i class="fa fa-check"></i> <b>1.3.</b> Labels
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="services.html">
            
            <a href="./services.html">
                <i class="fa fa-check"></i> <b>1.4.</b> Services
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="apps.html">
            
            <a href="./apps.html">
                <i class="fa fa-check"></i> <b>1.5.</b> Apps
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="builds.html">
            
            <a href="./builds.html">
                <i class="fa fa-check"></i> <b>1.6.</b> Builds
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="quickstarts.html">
            
            <a href="./quickstarts.html">
                <i class="fa fa-check"></i> <b>2.</b> QuickStarts
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="emulation.html">
            
            <a href="./emulation.html">
                <i class="fa fa-check"></i> <b>3.</b> Emulator
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="v2-changes.html">
            
            <a href="./v2-changes.html">
                <i class="fa fa-check"></i> <b>4.</b> Changes from V1
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5" data-path="FAQ.html">
            
            <a href="./FAQ.html">
                <i class="fa fa-check"></i> <b>5.</b> FAQ
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="faqGeneral.html">
            
            <a href="./faqGeneral.html">
                <i class="fa fa-check"></i> <b>5.1.</b> General Questions
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 83.33333333333333%;min-width: 75%;"></div>
    </div>
    <div class="chapters">
    
        <a href="./index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="./overview.html" title="Overview" class="chapter done new-chapter" data-progress="1" style="left: 8.333333333333334%;"></a>
    
        <a href="./pods.html" title="Pods" class="chapter done " data-progress="1.1" style="left: 16.666666666666668%;"></a>
    
        <a href="./replicationControllers.html" title="Replication Controllers" class="chapter done " data-progress="1.2" style="left: 25%;"></a>
    
        <a href="./labels.html" title="Labels" class="chapter done " data-progress="1.3" style="left: 33.333333333333336%;"></a>
    
        <a href="./services.html" title="Services" class="chapter done " data-progress="1.4" style="left: 41.666666666666664%;"></a>
    
        <a href="./apps.html" title="Apps" class="chapter done " data-progress="1.5" style="left: 50%;"></a>
    
        <a href="./builds.html" title="Builds" class="chapter done " data-progress="1.6" style="left: 58.333333333333336%;"></a>
    
        <a href="./quickstarts.html" title="QuickStarts" class="chapter done new-chapter" data-progress="2" style="left: 66.66666666666667%;"></a>
    
        <a href="./emulation.html" title="Emulator" class="chapter done new-chapter" data-progress="3" style="left: 75%;"></a>
    
        <a href="./v2-changes.html" title="Changes from V1" class="chapter done new-chapter" data-progress="4" style="left: 83.33333333333333%;"></a>
    
        <a href="./FAQ.html" title="FAQ" class="chapter  new-chapter" data-progress="5" style="left: 91.66666666666667%;"></a>
    
        <a href="./faqGeneral.html" title="General Questions" class="chapter  " data-progress="5.1" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_13">
                    
                        <h2 id="changes-since-version-1-x"><a name="changes-since-version-1-x" class="anchor" href="#changes-since-version-1-x"><span class="fa fa-link"></span></a>Changes since Version 1.x</h2>
<p>In fabric8 1.x we assumed only a JVM was available and then we build lots of abstractions that are very similar to <a href="http://kubernetes.io" target="_blank">Kubernetes</a>.</p>
<p>In fabric8 2.x we have decided to assume a base of <a href="http://docker.io/" target="_blank">Docker</a>, <a href="http://kubernetes.io" target="_blank">Kubernetes</a> and the <a href="">Kubernetes extensions defined in OpenShift Origin</a> and to use those abstractions to create containers and wire them together. For non-linux platforms which don&apos;t support docker we have a <a href="emulation.html">Docker Emulation Layer</a>.</p>
<p>Because of this approach we do quite a few things a little differently under the covers. In fabric8 1.x we had to do a lot of work to replicate the kinds of things Kubernetes gives us; things like discovery of services, wiring, auto   scaling etc.</p>
<p>However as an end user writing, say, Java applications or using technologies like ActiveMQ, Camel or containers like Karaf, Tomcat, WildFly or Spring Boot things should seem pretty similar; though in many ways things get much simpler now (as discovery, wiring and packaging is now simpler and more standardised).</p>
<p>The aim of fabric8 on kubernetes is still to support any runtime application server or software distribution at all; though docker containers will be the standard mechanism for packaging and running software. The change from 1.x to 2.x does not mean any application servers are no longer supported; its the reverse - now any docker image is supported ;).</p>
<h3 id="how-does-it-affect-my-build-"><a name="how-does-it-affect-my-build-" class="anchor" href="#how-does-it-affect-my-build-"><span class="fa fa-link"></span></a>How does it affect my build?</h3>
<p>If you have been using fabric8 1.x up to now and have maven builds making profiles; all that really changes is how the build gets packaged into containers.</p>
<p>i.e. your maven builds which create jars, bundles, wars and so forth are all totally valid and supported.</p>
<p>fabric8 2.x <a href="builds.html">builds</a> just support a different way to automatically turn your deployment units into docker containers for deployment on fabric8.</p>
<p>In addition the use of <a href="apps.html">Apps</a> allows you to define replication controllers (to specify how many instances of a container you need) as a single deployment JSON. You can also compose multiple containers together and orchestrate them into a single <a href="apps.html">App JSON file</a>.</p>
<p>Finally thanks to <a href="services.html">Services</a> the wiring of your components to their services becomes much simpler; usually its just a case of using an environment variable for the service port (with a nice default value).</p>
<h3 id="architecture-differences"><a name="architecture-differences" class="anchor" href="#architecture-differences"><span class="fa fa-link"></span></a>Architecture differences</h3>
<h4 id="service-discovery"><a name="service-discovery" class="anchor" href="#service-discovery"><span class="fa fa-link"></span></a>Service Discovery</h4>
<p>Instead of using a ZooKeeper registry in 1.x to store all service endpoints so that we could inject them into other services using property resolvers; we instead use the <a href="services.html">Services</a> abstraction in kubernetes. This means clients of a network service just bind to a fixed port on the local network; there&apos;s no need to have any complex wiring inside the application.</p>
<p>This radically simplifies applications. For example any application using ActiveMQ just needs to bind to the localhost and port of the region of the ActiveMQ cluster. For many Camel endpoints, the endpoint just needs to choose which port number maps to the service it needs to bind to for things like databases.</p>
<h4 id="profiles-versus-apps-kubernetes-application-templates-"><a name="profiles-versus-apps-kubernetes-application-templates-" class="anchor" href="#profiles-versus-apps-kubernetes-application-templates-"><span class="fa fa-link"></span></a>Profiles versus Apps (Kubernetes Application Templates)</h4>
<p>In fabric8 1.x we focused on profiles in a wiki which are used to represent configuration and metadata which provides a mechanism to build profiles into a container.</p>
<p>In fabric8 2.x we default to using <a href="apps.html">Kubernetes Application Templates</a> to define the kubernetes JSON metadata (<a href="pods.html">Pods</a>, <a href="replicationControllers.html">Replication Controllers</a>, <a href="services.html">Services</a>).</p>
<p>In addition to support the ability to modify source or metadata inside a wiki / git repository (e.g. camel routes or Java code) we default to using the <a href="builds.html">Kubernetes source to image extension</a>. i.e. Profiles map to a build which has a git repository; this can be viewed/edited via the wiki, a web based IDE or traditional IDE or editor.</p>
<p>So source projects are editted; they result in builds which then generate container images which are then used by deployments.</p>
<h4 id="auto-scaling"><a name="auto-scaling" class="anchor" href="#auto-scaling"><span class="fa fa-link"></span></a>Auto Scaling</h4>
<p>In fabric8 1.x we used requirements we specified on a Profile basis. In 2.x we use <a href="replicationControllers.html">Replication Controller definitions in JSON</a> to specify how many instances of a certain <a href="pods.html">pod</a> (container) we need to run.</p>
<h4 id="ports"><a name="ports" class="anchor" href="#ports"><span class="fa fa-link"></span></a>Ports</h4>
<p>In <a href="http://kubernetes.io" target="_blank">Kubernetes</a> each pod (or container) gets its own IP address; and the internal container ports and external host ports are then constant; making things much easier to use and wire together.</p>
<p>This is quite different to using fabric8 1.x where depending on the underlying container provider port allocations were different. e.g. by default host and container ports were dynamically generated; for docker internal container ports were constant but external host ports were dynamic.</p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="./emulation.html" class="navigation navigation-prev " aria-label="Previous page: Emulator"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./FAQ.html" class="navigation navigation-next " aria-label="Next page: FAQ"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="gitbook/app.js"></script>
        

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
