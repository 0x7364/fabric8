<!DOCTYPE HTML>
<html lang="en-US" manifest="./manifest.appcache">
    
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        
        <meta charset="UTF-8">
        <title>Maven Plugin | Fabric8 Documentation</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="fabric8io">
        <meta name="description" content="Fabric8 User Guide and Reference Documentation">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="./forge.html" />
        
        
        <link rel="prev" href="./quickstarts.html" />
        

        <meta property="og:title" content="Maven Plugin | Fabric8 Documentation">
        <meta property="og:site_name" content="Fabric8 Documentation">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/fabric8io">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
        
    </head>
    <body>
        
        

        <link rel="stylesheet" href="gitbook/style.css">
        

    
    <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-anchors/plugin.css">
    


        
    <div class="book" data-github="fabric8io/fabric8" data-level="3.3" data-basepath="." data-revision="1417258452807">
    <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    
    <a href="http://fabric8.io/" target="_blank" class="btn pull-left home-bookmark" aria-label="GitHub home"><i class="fa fa-bookmark-o"></i></a>
    
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="btn-group btn-block">
        <button id="reduce-font-size" class="btn btn-default">A</button>
        <button id="enlarge-font-size" class="btn btn-default">A</button>
    </div>

    <ul class="list-group font-family-list">
        <li class="list-group-item" data-font="0">Serif</li>
        <li class="list-group-item" data-font="1">Sans</li>
    </ul>

    <div class="btn-group btn-group-xs btn-block color-theme-list">
        <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
    </div>
</div>

    </span>

    <!-- Actions Right -->
    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    

    
    <a href="https://github.com/fabric8io/fabric8/stargazers" target="_blank" class="btn pull-right count-star hidden-xs"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/fabric8io/fabric8/watchers" target="_blank" class="btn pull-right count-watch hidden-xs"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="./" >Fabric8 Documentation</a>
    </h1>
</div>

    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        <li>
            <a href="http://fabric8.io/docs/index.html" target="blank" class="author-link">About the author</a>
        </li>
        

        
        
        <li>
            <a href="https://github.com/fabric8io/fabric8/issues?milestone=none&amp;state=closed" target="blank"class="issues-link">Questions and Issues</a>
        </li>
        

        
        
        <li>
            <a href="http://fabric8.io/contributing/index.html" target="blank" class="contribute-link">Edit and Contribute</a>
        </li>
        

        
        <li class="divider"></li>
        

        <li data-level="0" data-path="index.html">
            <a href="./"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
    
        <li class="chapter " data-level="1" data-path="overview.html">
            
            <a href="./overview.html">
                <i class="fa fa-check"></i> <b>1.</b> Overview
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="pods.html">
            
            <a href="./pods.html">
                <i class="fa fa-check"></i> <b>1.1.</b> Pods
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="replicationControllers.html">
            
            <a href="./replicationControllers.html">
                <i class="fa fa-check"></i> <b>1.2.</b> Replication Controllers
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="labels.html">
            
            <a href="./labels.html">
                <i class="fa fa-check"></i> <b>1.3.</b> Labels
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="services.html">
            
            <a href="./services.html">
                <i class="fa fa-check"></i> <b>1.4.</b> Services
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="apps.html">
            
            <a href="./apps.html">
                <i class="fa fa-check"></i> <b>1.5.</b> Apps
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="appzip.html">
            
            <a href="./appzip.html">
                <i class="fa fa-check"></i> <b>1.6.</b> App Zip
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="builds.html">
            
            <a href="./builds.html">
                <i class="fa fa-check"></i> <b>1.7.</b> Builds
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="getStarted.html">
            
            <a href="./getStarted.html">
                <i class="fa fa-check"></i> <b>2.</b> Getting Started
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="getStartedJube.html">
            
            <a href="./getStartedJube.html">
                <i class="fa fa-check"></i> <b>2.1.</b> Using Jube
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="jubeRunQuickstart.html">
            
            <a href="./jubeRunQuickstart.html">
                <i class="fa fa-check"></i> <b>2.1.1.</b> Running a quickstart on Jube
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="jubeAddQuickstartApp.html">
            
            <a href="./jubeAddQuickstartApp.html">
                <i class="fa fa-check"></i> <b>2.1.2.</b> Add a quickstart to the App Library
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="getStartedOpenShift.html">
            
            <a href="./getStartedOpenShift.html">
                <i class="fa fa-check"></i> <b>2.2.</b> Using OpenShift V3
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="openShiftDocker.html">
            
            <a href="./openShiftDocker.html">
                <i class="fa fa-check"></i> <b>2.2.1.</b> Docker
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2.2" data-path="openShiftVagrant.html">
            
            <a href="./openShiftVagrant.html">
                <i class="fa fa-check"></i> <b>2.2.2.</b> Vagrant
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2.3" data-path="openShiftInstall.html">
            
            <a href="./openShiftInstall.html">
                <i class="fa fa-check"></i> <b>2.2.3.</b> Install Natively
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="example.html">
            
            <a href="./example.html">
                <i class="fa fa-check"></i> <b>2.3.</b> Deploy an example
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="tools.html">
            
            <a href="./tools.html">
                <i class="fa fa-check"></i> <b>3.</b> Tools
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="console.html">
            
            <a href="./console.html">
                <i class="fa fa-check"></i> <b>3.1.</b> Console
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="quickstarts.html">
            
            <a href="./quickstarts.html">
                <i class="fa fa-check"></i> <b>3.2.</b> QuickStarts
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="mavenPlugin.html">
            
            <a href="./mavenPlugin.html">
                <i class="fa fa-check"></i> <b>3.3.</b> Maven Plugin
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="forge.html">
            
            <a href="./forge.html">
                <i class="fa fa-check"></i> <b>3.4.</b> Forge Addons
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="javaLibraries.html">
            
            <a href="./javaLibraries.html">
                <i class="fa fa-check"></i> <b>3.5.</b> Java Libraries
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="v2-changes.html">
            
            <a href="./v2-changes.html">
                <i class="fa fa-check"></i> <b>4.</b> Changes from V1
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5" data-path="jube.html">
            
            <a href="./jube.html">
                <i class="fa fa-check"></i> <b>5.</b> Jube
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="6" data-path="FAQ.html">
            
            <a href="./FAQ.html">
                <i class="fa fa-check"></i> <b>6.</b> FAQ
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="faqGeneral.html">
            
            <a href="./faqGeneral.html">
                <i class="fa fa-check"></i> <b>6.1.</b> General Questions
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 77.77777777777777%;min-width: 74.07407407407408%;"></div>
    </div>
    <div class="chapters">
    
        <a href="./index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="./overview.html" title="Overview" class="chapter done new-chapter" data-progress="1" style="left: 3.7037037037037037%;"></a>
    
        <a href="./pods.html" title="Pods" class="chapter done " data-progress="1.1" style="left: 7.407407407407407%;"></a>
    
        <a href="./replicationControllers.html" title="Replication Controllers" class="chapter done " data-progress="1.2" style="left: 11.11111111111111%;"></a>
    
        <a href="./labels.html" title="Labels" class="chapter done " data-progress="1.3" style="left: 14.814814814814815%;"></a>
    
        <a href="./services.html" title="Services" class="chapter done " data-progress="1.4" style="left: 18.51851851851852%;"></a>
    
        <a href="./apps.html" title="Apps" class="chapter done " data-progress="1.5" style="left: 22.22222222222222%;"></a>
    
        <a href="./appzip.html" title="App Zip" class="chapter done " data-progress="1.6" style="left: 25.925925925925927%;"></a>
    
        <a href="./builds.html" title="Builds" class="chapter done " data-progress="1.7" style="left: 29.62962962962963%;"></a>
    
        <a href="./getStarted.html" title="Getting Started" class="chapter done new-chapter" data-progress="2" style="left: 33.333333333333336%;"></a>
    
        <a href="./getStartedJube.html" title="Using Jube" class="chapter done " data-progress="2.1" style="left: 37.03703703703704%;"></a>
    
        <a href="./jubeRunQuickstart.html" title="Running a quickstart on Jube" class="chapter done " data-progress="2.1.1" style="left: 40.74074074074074%;"></a>
    
        <a href="./jubeAddQuickstartApp.html" title="Add a quickstart to the App Library" class="chapter done " data-progress="2.1.2" style="left: 44.44444444444444%;"></a>
    
        <a href="./getStartedOpenShift.html" title="Using OpenShift V3" class="chapter done " data-progress="2.2" style="left: 48.148148148148145%;"></a>
    
        <a href="./openShiftDocker.html" title="Docker" class="chapter done " data-progress="2.2.1" style="left: 51.851851851851855%;"></a>
    
        <a href="./openShiftVagrant.html" title="Vagrant" class="chapter done " data-progress="2.2.2" style="left: 55.55555555555556%;"></a>
    
        <a href="./openShiftInstall.html" title="Install Natively" class="chapter done " data-progress="2.2.3" style="left: 59.25925925925926%;"></a>
    
        <a href="./example.html" title="Deploy an example" class="chapter done " data-progress="2.3" style="left: 62.96296296296296%;"></a>
    
        <a href="./tools.html" title="Tools" class="chapter done new-chapter" data-progress="3" style="left: 66.66666666666667%;"></a>
    
        <a href="./console.html" title="Console" class="chapter done " data-progress="3.1" style="left: 70.37037037037037%;"></a>
    
        <a href="./quickstarts.html" title="QuickStarts" class="chapter done " data-progress="3.2" style="left: 74.07407407407408%;"></a>
    
        <a href="./mavenPlugin.html" title="Maven Plugin" class="chapter done " data-progress="3.3" style="left: 77.77777777777777%;"></a>
    
        <a href="./forge.html" title="Forge Addons" class="chapter  " data-progress="3.4" style="left: 81.48148148148148%;"></a>
    
        <a href="./javaLibraries.html" title="Java Libraries" class="chapter  " data-progress="3.5" style="left: 85.18518518518519%;"></a>
    
        <a href="./v2-changes.html" title="Changes from V1" class="chapter  new-chapter" data-progress="4" style="left: 88.88888888888889%;"></a>
    
        <a href="./jube.html" title="Jube" class="chapter  new-chapter" data-progress="5" style="left: 92.5925925925926%;"></a>
    
        <a href="./FAQ.html" title="FAQ" class="chapter  new-chapter" data-progress="6" style="left: 96.29629629629629%;"></a>
    
        <a href="./faqGeneral.html" title="General Questions" class="chapter  " data-progress="6.1" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_18">
                    
                        <h2 id="fabric8-maven-plugin"><a name="fabric8-maven-plugin" class="anchor" href="#fabric8-maven-plugin"><span class="fa fa-link"></span></a>Fabric8 Maven Plugin</h2>
<p>This maven plugin makes it easy to create or deploy <a href="apps.html">Apps</a> as part of your maven project.</p>
<h3 id="specifying-the-location-of-your-local-docker-registry"><a name="specifying-the-location-of-your-local-docker-registry" class="anchor" href="#specifying-the-location-of-your-local-docker-registry"><span class="fa fa-link"></span></a>Specifying the location of your local docker registry</h3>
<p>When creating new docker images for use in Kubernetes you probably want to run a local docker registry if you do not intend to reuse the public docker registry.</p>
<p>Make sure you have added this to your <strong>~/.m2/settings.xml</strong> file to define the <strong>docker.registry</strong> value in a profile you can activate by default...</p>
<p>e.g. add this to the &lt;servers&gt; element:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;settings&gt;

  &lt;profiles&gt;
    &lt;profile&gt;
      &lt;id&gt;docker-host&lt;/id&gt;
      &lt;properties&gt;
        &lt;docker.registry&gt;${env.DOCKER_REGISTRY}&lt;/docker.registry&gt;
        &lt;docker.url&gt;${env.DOCKER_HOST}&lt;/docker.url&gt;
      &lt;/properties&gt;
    &lt;/profile&gt;
  &lt;/profiles&gt;

  ...

  &lt;activeProfiles&gt;
    &lt;activeProfile&gt;docker-host&lt;/activeProfile&gt;
  &lt;/activeProfiles&gt;
&lt;/settings&gt;
</code></pre><h3 id="adding-the-plugin-to-your-project"><a name="adding-the-plugin-to-your-project" class="anchor" href="#adding-the-plugin-to-your-project"><span class="fa fa-link"></span></a>Adding the plugin to your project</h3>
<p>To enable this maven plugin and to automatically generate/copy and release the <a href="apps.html">App JSON file</a> as part of your build add this to your pom.xml:</p>
<pre><code>  &lt;plugin&gt;
    &lt;groupId&gt;io.fabric8&lt;/groupId&gt;
    &lt;artifactId&gt;fabric8-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;${fabric.version}&lt;/version&gt;
    &lt;executions&gt;
      &lt;execution&gt;
        &lt;id&gt;json&lt;/id&gt;
        &lt;goals&gt;
          &lt;goal&gt;json&lt;/goal&gt;
        &lt;/goals&gt;
      &lt;/execution&gt;
    &lt;/executions&gt;
  &lt;/plugin&gt;
</code></pre><p>To automatically generate an <a href="appzip.html">App Zip</a> for your project then add this:</p>
<pre><code>  &lt;plugin&gt;
    &lt;groupId&gt;io.fabric8&lt;/groupId&gt;
    &lt;artifactId&gt;fabric8-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;${project.version}&lt;/version&gt;
    &lt;executions&gt;
      &lt;execution&gt;
        &lt;id&gt;zip&lt;/id&gt;
        &lt;phase&gt;package&lt;/phase&gt;
        &lt;goals&gt;
          &lt;goal&gt;zip&lt;/goal&gt;
        &lt;/goals&gt;
      &lt;/execution&gt;
    &lt;/executions&gt;
  &lt;/plugin&gt;
</code></pre><h3 id="building-your-docker-image"><a name="building-your-docker-image" class="anchor" href="#building-your-docker-image"><span class="fa fa-link"></span></a>Building your docker image</h3>
<p>To create a container on Kubernetes you need to create a docker image.</p>
<p>To enable the creation of a docker image use a maven plugin such as the <a href="https://github.com/rhuss/docker-maven-plugin/blob/master/README.md" target="_blank">docker-maven-plugin</a></p>
<p>Then to build the docker image locally its</p>
<pre><code>mvn install docker:build
</code></pre><h3 id="pushing-your-docker-image"><a name="pushing-your-docker-image" class="anchor" href="#pushing-your-docker-image"><span class="fa fa-link"></span></a>Pushing your docker image</h3>
<p>When running fabric8 on a number of machines your docker image needs to be in a docker registry so that it can be downloaded.</p>
<p>To push your image you will need to run:</p>
<pre><code>mvn install docker:build docker:push
</code></pre><p>If you wish to push docker images to a private or public registry you will need to add a section to your <strong>~/.m2/settings.xml</strong> file with a dummy login and password where the server <strong>id</strong> matches the value of <strong>$DOCKER_REGISTRY</strong>. For example a local boot2docker based registry would look like this:</p>
<pre><code>    &lt;servers&gt;
       &lt;server&gt;
           &lt;id&gt;192.168.59.103:5000&lt;/id&gt;
           &lt;username&gt;jolokia&lt;/username&gt;
           &lt;password&gt;jolokia&lt;/password&gt;
       &lt;/server&gt;
        ...
  &lt;/servers&gt;
</code></pre><pre><code>   &lt;server&gt;
      &lt;id&gt;172.121.17.4:5000&lt;/id&gt;
       &lt;username&gt;jolokia&lt;/username&gt;
       &lt;password&gt;jolokia&lt;/password&gt;
   &lt;/server&gt;
    ...
</code></pre><p>  
```</p>
<p>For more details <a href="https://github.com/rhuss/docker-maven-plugin/blob/master/doc/manual.md#authentication" target="_blank">see the docker maven plugin docs</a></p>
<h3 id="generating-the-json"><a name="generating-the-json" class="anchor" href="#generating-the-json"><span class="fa fa-link"></span></a>Generating the JSON</h3>
<p>An <a href="apps.html">App</a> requires a <strong>kubernetes.json</strong> file which you can hand craft yourself; or you can put it into <strong>src/main/resources</strong> so that you can use Maven&apos;s default resource filtering to replace any project properties (e.g. the group ID, artifact ID, version number).</p>
<p>The <strong>fabric8:json</strong> goal will either copy or generate the JSON and then add it to your build so that the JSON gets released along with your artifacts.</p>
<pre><code>mvn fabric8:json
cat target/classes/kubernetes.json
</code></pre><h4 id="properties-for-configuring-the-generation"><a name="properties-for-configuring-the-generation" class="anchor" href="#properties-for-configuring-the-generation"><span class="fa fa-link"></span></a>Properties for configuring the generation</h4>
<p>You can use maven properties to customize the generation of the JSON:</p>
<table class="table table-striped">
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
<tr>
<td>docker.image</td>
<td>Used by the <a href="https://github.com/rhuss/docker-maven-plugin/blob/master/README.md">docker-maven-plugin</a> to define the output docker image name.</td>
</tr>
<tr>
<td>fabric8.kubernetes.name</td>
<td>The name of the application used in the id of the JSON and as a label.</td>
</tr>
<tr>
<td>fabric8.kubernetes.kubernetesContainerName</td>
<td>The docker container name of the application; if undefined it uses the lower case un-camelcased name.</td>
</tr>
<tr>
<td>fabric8.generateJson</td>
<td>If set to false then the generation of the JSON is disabled.</td>
</tr>
<tr>
<td>fabric8.json.template</td>
<td>The name of the <a href="http://mvel.codehaus.org/">MVEL</a> template found on the classpath to use for the generation of the JSON.</td>
</tr>
<tr>
<td>fabric8.replicas</td>
<td>The number of pods to create for the <a href="http://fabric8.io/v2/replicationControllers.html">Replication Controller</a> if the plugin is generating the App JSON file.</td>
</tr>
<tr>
<td>fabric8.env.FOO = BAR</td>
<td>Defines the environment variable FOO and value BAR.</td>
</tr>
<tr>
<td>fabric8.label.FOO = BAR</td>
<td>Defines the kubernetes label FOO and value BAR.</td>
</tr>
<tr>
<td>fabric8.port.container.FOO = 1234</td>
<td>Defines the port named FOO has a container port 1234.</td>
</tr>
<tr>
<td>fabric8.port.host.FOO = 4567</td>
<td>Defines the port named FOO has a host port 4567.</td>
</tr>
</table>


<h3 id="deploying"><a name="deploying" class="anchor" href="#deploying"><span class="fa fa-link"></span></a>Deploying</h3>
<p>Before deploying you need to make sure your docker image is available to Kubernetes. See above for how to do this. Any docker registry that is accessible to Kubernetes is supported.</p>
<p>To deploy your <a href="appzip.html">App Zip</a> into the wiki in the web console use the following goal:</p>
<pre><code>mvn fabric8:deploy
</code></pre><p>This goal uses the default fabric8 console URL of <strong><a href="http://dockerhost:8484/hawtio/" target="_blank">http://dockerhost:8484/hawtio/</a></strong> unless you specify the FABRIC8_CONSOLE environment variable to point at something else.</p>
<p>e.g. to try this against a locally running hawtio try:</p>
<pre><code>export FABRIC8_CONSOLE=http://localhost:8282/hawtio/
</code></pre><p>This goal will then POST the <a href="appzip.html">App Zip</a> into the wiki so you should be able to view the newly posted <a href="apps.html">App</a> at <a href="http://dockerhost:8484/hawtio/wiki/branch/master/view" target="_blank">http://dockerhost:8484/hawtio/wiki/branch/master/view</a></p>
<h3 id="running"><a name="running" class="anchor" href="#running"><span class="fa fa-link"></span></a>Running</h3>
<p>Before running you need to make sure your docker image is available to Kubernetes. See above for how to do this. Any docker registry that is accessible to Kubernetes is supported.</p>
<p>To run your App use the following goal:</p>
<pre><code>mvn fabric8:run
</code></pre><p>This defaults to using the <a href="apps.html">App JSON file</a> file located at <strong>src/main/resources/kubernetes.json</strong> so that it can be filtered like most maven resources are; to substitute docker image name and version etc.</p>
<h3 id="example"><a name="example" class="anchor" href="#example"><span class="fa fa-link"></span></a>Example</h3>
<p>To see these plugins in action check out how to <a href="example.html">run and example quickstart</a></p>
<h3 id="property-reference"><a name="property-reference" class="anchor" href="#property-reference"><span class="fa fa-link"></span></a>Property Reference</h3>
<p>The following maven property values are used to configure the behaviour of the maven plugin:</p>
<table class="table table-striped">
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
<tr>
<td>docker.image</td>
<td>Used by the <a href="https://github.com/rhuss/docker-maven-plugin/blob/master/README.md">docker-maven-plugin</a> to define the output docker image name.</td>
</tr>
<tr>
<td>docker.registry</td>
<td>Used by the <a href="https://github.com/rhuss/docker-maven-plugin/blob/master/README.md">docker-maven-plugin</a> to define the local docker registry to use (if not using the public docker registry).</td>
</tr>
</table>



                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="./quickstarts.html" class="navigation navigation-prev " aria-label="Previous page: QuickStarts"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./forge.html" class="navigation navigation-next " aria-label="Next page: Forge Addons"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="gitbook/app.js"></script>
        

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
