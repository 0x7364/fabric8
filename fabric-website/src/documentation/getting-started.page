---
title: Fabric Getting Started
in_menu: true
sort_info: 10
--- name:overview
# Fabric Getting Started
Getting Started guide for Fabric

--- name:content pipeline:jade

h2
  | Warning
  p
    | The below getting started only works on Karaf 2.2.1-SNAPSHOT for now.

.left
  :markdown
    # Checkout Fabric
.right
  :&markdown
    Run the following commands:  
  pre
    | git clone git://github.com/fusesource/fabric.git
    | cd fabric

.left
  :markdown
    # Build Fabric
.right
  :&markdown
    Use the standard maven command to build Fabric:  
  pre
    | mvn install

.left
  :markdown
    # Create a ZooKeeper server
.right
  :&markdown
    To create a ZooKeeper server, run the following commands in Karaf (2.2.x) console:  
  pre
    | karaf@root> features:addurl mvn:org.fusesource.fabric/fabric-distro/1.0-SNAPSHOT/xml/features
    | karaf@root> features:install fabric-commands
    | karaf@root> fabric:zk-cluster root
  :&markdown
    You can now use the fabric command and see that the karaf instance has been automatically registered as an agent:  
  pre
    | karaf@root> fabric:list-agents
    | [id]                           [alive]    [profiles]
    | root                           true       default, zk-server-0000-1
    | karaf@root>

.left
  :markdown
    # Create a new profile
.right
  :&markdown
    Now, let's create a profile webserver, inheriting the default profile:  
  pre
    | karaf@root> fabric:create-profile --parents default webserver

.left
  :markdown
    # Create a new agent with this profile
.right
  pre
    | karaf@root> fabric:create-agent --profile webserver --parent root test
    | ...
  :&markdown
    Check that the agent has been created (it can take a few seconds):  
  pre
    | karaf@root> fabric:list-agents
    | [id]                           [alive]    [profiles]
    | root                           true       default, zk-server-0000-1
    | &nbsp;&nbsp;test                         true       webserver

.left
  :markdown
    # Deploy a feature using profiles
.right
  :&markdown
    Let's associate a karaf war feature to the webserver profile:  
  pre
    | karaf@root> zk:create -r /fabric/configs/versions/base/profiles/webserver/org.fusesource.fabric.agent/repository.karaf mvn:org.apache.karaf.assemblies.features/standard/2.2.1-SNAPSHOT/xml/features
    | karaf@root> zk:create -r /fabric/configs/versions/base/profiles/webserver/org.fusesource.fabric.agent/feature.war war
  :&markdown
    Wait a few seconds, then check that the feature has been deployed:  
  pre
    | karaf@root> fabric:connect test
    | ...
    | karaf@test> osgi:list
    | ...


