<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>fabric8 - an open source integration platform</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="an open source integration platform" name="description" />
    <link href="/stylesheets/normalize.css" rel="stylesheet">
    <link href="/stylesheets/bootstrap.min.css" rel="stylesheet">
    <link href="/stylesheets/theme.css" rel="stylesheet">
    <link href="//static.jboss.org/css/tabzilla.css" media="screen" rel="stylesheet">
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="//static.jboss.org/theme/js/libs/jquery/jquery-1.9.1.min.js"></script>
    <script src="//static.jboss.org/js/_jbossorg-tabzilla.js"></script>

    <!--
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/r29/html5.js"></script>
    <![endif]-->
    <link href="/favicon.ico" rel="shortcut icon" />
  </head>

  <body class="home">

    <!-- begin dropup -->
    <div class="dropup visible-md visible-lg visible-sm">
      <!--
      <div id="ajbossproject">A JBoss Project</div> 
      -->
      <a class="tabnav-closed" href="#" id="tab">Red Hat</a>
      <script>
    window.addEventListener('load', function() {
        renderTabzilla("fabric8", "fabric8")
        }, false);
      </script>
    </div>
    <!-- end dropup -->

    <!-- begin top banner -->
    <div class="top-banner visible-md visible-lg visible-sm">
      <a href="/">&nbsp;</a>
    </div>
    <!--
    <div class="container visible-md visible-lg visible-sm">
      <div class="row">
        <div class="col-md-12 top-banner">
          <a href="/"></a>
        </div>
      </div>
    </div>
    -->
    <!-- end top banner -->

    <!-- begin header -->
    <div class="top-bar navbar navbar-default" role="navigation">
      <!-- begin inner container --> 
      <div class="container">
        <!-- begin inner row -->
        <div class="row">
          <!-- begin logo/toggle -->
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-nav-collapse">
              <span class="sr-only">Toggle Navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand visible-xs" href="/">
              <img class="logo-brand" src="/images/fabric8_logo.svg" />
            </a>
          </div>
          <!-- end logo/toggle -->

          <!-- begin navbar -->
          <div id="main-nav-collapse" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
              <li><a href="/getstarted/index.html">Get Started Now!</a></li>
              <li><a href="/docs/index.html">Docs</a></li>
              <li><a href="/community/index.html">Community</a></li>
              <li><a href="/articles/index.html">Demos</a></li>
              <li><a href="https://github.com/fabric8/fabric8">github</a></li>
            </ul>
          </div>
          <!-- end navbar -->
        </div>
        <!-- end inner row -->
      </div>
      <!-- end inner container --> 
    </div>
    <!-- end header -->

    <!-- begin page display -->
    <div id="main">
		  <h1 id="fabricjoin">fabric:join</h1><h2 id="Description">Description</h2><p>Join a container to an existing fabric</p><h2 id="Syntax">Syntax</h2><p>fabric:join \<a href="options.html">options\</a> zookeeperUrl \<a href="containerName.html">containerName\</a> </p><h2 id="Arguments">Arguments</h2><div class="table-wrap"><table class="confluenceTable"><tr><th class="confluenceTh"> Name </th><th class="confluenceTh"> Description </th></tr><tr><td class="confluenceTd"> zookeeperUrl </td><td class="confluenceTd"> Zookeeper URL </td></tr><tr><td class="confluenceTd"> containerName </td><td class="confluenceTd"> Container name to use in fabric. By default a karaf name will be used </td></tr></table></div><h2 id="Options">Options</h2><div class="table-wrap"><table class="confluenceTable"><tr><th class="confluenceTh"> Name </th><th class="confluenceTh"> Description </th></tr><tr><td class="confluenceTd"> <del>m, -</del>manual-ip </td><td class="confluenceTd"> An address to use, when using the manualip resolver. </td></tr><tr><td class="confluenceTd"> --help </td><td class="confluenceTd"> Display this help message </td></tr><tr><td class="confluenceTd"> <del>f, -</del>force </td><td class="confluenceTd"> Forces the use of container name </td></tr><tr><td class="confluenceTd"> <del>p, -</del>profile </td><td class="confluenceTd"> Chooses the profile of the container (defaults to fabric) </td></tr><tr><td class="confluenceTd"> <del>b, -</del>bind-address </td><td class="confluenceTd"> The default bind address. </td></tr><tr><td class="confluenceTd"> <del>-zookeeper</del>password </td><td class="confluenceTd"> The ensemble password to use (one will be generated if not given) </td></tr><tr><td class="confluenceTd"> <del>-max</del>port </td><td class="confluenceTd"> The maximum port of the allowed port range (defaults to 65535) </td></tr><tr><td class="confluenceTd"> <del>r, -</del>resolver </td><td class="confluenceTd"> The resolver policy. Possible values are: localip, localhostname, publicip, publichostname, manualip. Default is localhostname. </td></tr><tr><td class="confluenceTd"> <del>n, -</del>non-managed </td><td class="confluenceTd"> Flag to keep the container non managed </td></tr><tr><td class="confluenceTd"> <del>-min</del>port </td><td class="confluenceTd"> The minimum port of the allowed port range </td></tr></table></div><h2 id="Details">Details</h2><p>The fabric:join command can be used in either of the following scenarios:</p><ul><li>You have an existing fabric, A, consisting of ordinary containers and ensemble servers. You also have an independently installed standalone container on a host that does not belong to a fabric, and now you want to join the standalone container to fabric A.</li></ul><ul><li>You have two separate fabrics, A and B, and you want to transfer a particular container, X, from fabric B to fabric A.</li></ul><p>In general the procedure for adding a standalone host to an existing fabric is as follows:</p><p>1. Get the URL for one of the fabric registry agents in the existing fabric. The URL of a fabric registry agent has the following format:</p><p>&lt;HostName>:&lt;IPPort></p><p>For example, given a fabric registry agent running on the host, myhost, the URL would be myhost:2181. The IP port, 2181, is the default IP port used by a fabric registry agent (ZooKeeper server) and is usually the correct value to use. If you are in any doubt about which URL to use, you can discover the URLs of the fabric registry agents as follows. Log into one of the containers in the fabric using an ESB console client, and enter the following sequence of console commands:</p><p>karaf@root> config:edit org.fusesource.fabric.zookeeper<br/>karaf@root> config:proplist<br/>   service.pid = org.fusesource.fabric.zookeeper<br/>   zookeeper.url = myhostA:2181,myhostB:2181,myhostC:2181,myhostC:2182,myhostC:2183<br/>   fabric.zookeeper.pid = org.fusesource.fabric.zookeeper<br/>karaf@root> config:cancel</p><p>The zookeeper.url property holds a comma-separated list of fabric registry agent URLs. You can use any one of these URLs to join the fabric</p><p>2. Because the standalone container will be registered as a root container when it joins the fabric, you must ensure that it has a unique container name before joining the fabric, otherwise it would override the data in the existing root container. Customize the standalone container's name by changing the karaf.name property in the $/etc/system.properties file (you must shut down the standalone container before editing this property).</p><p>3. Connect to the standalone container using a console client. Given that there is a fabric registry agent running on the host, myhostA, and listening on IP port 2181, you can add your standalone container to the fabric by entering the following console command:</p><p>fabric:join myhostA:2181</p><p>WARNING: When a container is joined to a fabric, its contents are wiped clean and replaced by the default profile.</p>
    </div>
    <!-- end page display -->

    <!-- begin footer -->
    <div class="footer">
      <!-- begin footer container -->
      <div class="container">
        <!-- begin footer row -->
        <div class="row">
          <!-- begin project info -->
          <div class="project col-md-4">
            <p>
              <img class="logo-big" src="/images/fabric8_logo.svg">
            </p>
            <p>
              <i class="icon-fire"></i>
              Mixed with <a href="http://getbootstrap.com/">Bootstrap</a>. Baked by <a href="http://scalate.fusesource.org">Scalate</a>.
            </p>
              <i class="icon-share-alt"></i>
            <p>
              Website and docs licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.
            </p>
            <p>
              Code released under <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, v2.0</a>.
            </p>
          </div>
          <!-- end project info -->

          <!-- begin footer-nav -->
          <div class="footer-nav col-md-2">
            <h4>Learn</h4>
            <ul>
              <li>
                <a href="/getstarted/index.html">Get Started</a>
              </li>
              <li>
                <a href="articles/index.html">Articles and Demos</a>
              </li>
              <li>
                <a href="faq/index.html">FAQ</a>
              </li>
              <li>
                <a href="/developers/index.html">Developers</a>
              </li>
            </ul>
          </div>
          <!-- end footer-nav -->

          <!-- begin footer-nav -->
          <div class="footer-nav col-md-2">
            <h4>Get Involved</h4>
            <ul>
              <!--
              <li>
                <a href="http://community.jboss.org/en/fabric8?view=discussions">Forums</a>
              </li>
              -->
              <li>
                <a href="/contributing/index.html">Contributing</a>
              </li>
              <li>
                <a href="/community/index.html">Community</a>
              </li>
              <li>
                <a href="https://github.com/fabric8/fabric8/issues?state=open">Issue Tracker</a>
              </li>
              <li>
                <a href="https://github.com/fabric8/fabric8">Source Code</a>
              </li>
              <!--
              <li>
                <a href="/community/contributors">Contributors</a>
              </li>
              -->
            </ul>
          </div>
          <!-- end footer-nav -->

          <!-- begin sponsor -->
          <div class="sponser col-md-4">
            <!-- begin follow-us -->
            <div class="follow-us">
              <h4>Stay Informed</h4>
              <ul>
                <!--
                <li>
                  <a href="https://plus.google.com/100660127586085393031"><img alt="Google+" src="/images/social/googleplus-16.png" title="Follow fabric8 on Google+" /></a>
                </li>
                -->
                <li>
                  <a href="https://twitter.com/#!/search/%23fabric8"><img alt="Twitter" src="/images/social/twitter-16.png" title="Browse the #fabric8 hashtag on Twitter" /></a>
                </li>
                <!--
                <li>
                  <a href="http://www.linkedin.com/groups?gid=3120340"><img alt="LinkedIn" src="/images/social/linkedin-16.png" title="Join the fabric8 group on LinkedIn" /></a>
                </li>
                <li>
                  <a href="http://vimeo.com/channels/fabric8"><img alt="Vimeo" src="/images/social/vimeo-16.png" title="Follow the fabric8 channel on Vimeo" /></a>
                </li>
                -->
              </ul>
            </div>
            <!-- end follow-us -->

            <p>This website is open source! If you want to improve it, <a href="http://github.com/fabric8io/fabric8">fork the project</a>, hack on it, then send a pull request. You can also view the <a href="http://www.seethestats.com/site/fabric8">visitor stats</a>.</p>
            <p class="image"><a href="http://jboss.org"><img src="/images/jboss_redhat_branding.png" class="branding" title="Red Hat, Inc." alt="Red Hat, Inc." /></a></p>
            <p>fabric8 is a <a href="http://jboss.org">JBoss Community</a> project and development is sponsored by Red Hat, Inc.</p>
            <p class="bottom"><a href="http://www.redhat.com/legal/legal_statement.html">Terms of Use</a> | <a href="http://www.redhat.com/legal/privacy_statement.html">Privacy Policy</a></p>
          </div>
        <!-- end sponsor -->
        </div>
        <!-- end footer row -->

        <!-- begin top link row -->
        <div class="row">
          <div class="col-md-12">
            <p class="link-top text-center">
              <a class="visible-desktop" href="#" id="toTop">Top</a>
            </p>
          </div>
        </div>
        <!-- end top link row -->

      </div>
      <!-- end footer container -->

      <div class="container" id="companyfooter">
        <div class="redhatlogo" style="text-align:center;">
          <div id="logospacer"></div>
            <a href="http://www.redhat.com/">
            <img src="http://static.jboss.org/theme/images/common/redhat_logo.png">
          </a>
        </div>
      </div>

    </div>
    <!-- end footer -->


    <!-- begin scripts -->
    <!--
    <script type="text/javascript">
      $(function() {
        $('html').addClass('ready');
        prettify();
        activateFooterGravity();
        activateTooltips();
        activateToTopControl();
      });
    </script>
    -->
    <script src="/javascripts/bootstrap.min.js"></script>
    <!--
    <script src="/javascripts/prettify.js"></script>
    -->
    <!--
    <script src="/javascripts/site.js"></script>
    -->

    <!--
    <script type="text/javascript">
      (function() {
        var po = document.createElement('script'); po.async = true; po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
      })();
    </script>
		<script type="text/javascript">
		  var _gaq = _gaq || [];
		  _gaq.push(['_setAccount', 'UA-36899203-1']);
		  _gaq.push(['_trackPageview']);

		  (function() {
		    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		  })();
		</script>
    -->
    <!-- end scripts -->
  </body>
</html>
