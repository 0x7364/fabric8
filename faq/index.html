<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>fabric8 FAQ</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="an open source integration platform" name="description" />
    <link href="/stylesheets/normalize.css" rel="stylesheet">
    <link href="/stylesheets/bootstrap.min.css" rel="stylesheet">
    <link href="/stylesheets/theme.css" rel="stylesheet">
    <link href="//static.jboss.org/css/tabzilla.css" media="screen" rel="stylesheet">
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="//static.jboss.org/theme/js/libs/jquery/jquery-1.9.1.min.js"></script>
    <script src="//static.jboss.org/js/_jbossorg-tabzilla.js"></script>

    <!--
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    -->
    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/r29/html5.js"></script>
    <![endif]-->
    <link href="/favicon.ico" rel="shortcut icon" />
  </head>

  <body class="home">

    <!-- begin dropup -->
    <div class="dropup visible-md visible-lg visible-sm">
      <div id="ajbossproject">A JBoss Project</div> 
      <a class="tabnav-closed" href="#" id="tab">Red Hat</a>
      <script>
    window.addEventListener('load', function() {
        renderTabzilla("fabric8", "fabric8")
        }, false);
      </script>
    </div>
    <!-- end dropup -->

    <!-- begin top banner -->
    <div class="top-banner visible-md visible-lg visible-sm">
      <a class="top-banner-logo" href="/">
        <img class="logo-brand" src="/images/fabric8_logo.svg" />
      </a>
    </div>
    <!--
    <div class="container visible-md visible-lg visible-sm">
      <div class="row">
        <div class="col-md-12 top-banner">
          <a href="/"></a>
        </div>
      </div>
    </div>
    -->
    <!-- end top banner -->

    <!-- begin header -->
    <div class="top-bar navbar navbar-default" role="navigation">
      <!-- begin inner container --> 
      <div class="container">
        <!-- begin inner row -->
        <div class="row">
          <!-- begin logo/toggle -->
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-nav-collapse">
              <span class="sr-only">Toggle Navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand visible-xs" href="/">
              <img class="logo-brand" src="/images/fabric8_logo.svg" />
            </a>
          </div>
          <!-- end logo/toggle -->

          <!-- begin navbar -->
          <div id="main-nav-collapse" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
              <li title="Get started with fabric8 now!"><a href="/getstarted/index.html">Get Started</a></li>
              <li title="Check out the documentation"><a href="/docs/index.html">Documentation</a></li>
              <li title="Join the fabric8 community"><a href="/community/index.html">Community</a></li>
              <li title="View articles, demos and videos on using fabric8"><a href="/articles/index.html">Articles</a></li>
              <li title="Fork or browse fabric8 on github"><a href="https://github.com/fabric8io/fabric8">github</a></li>
            </ul>
          </div>
          <!-- end navbar -->
        </div>
        <!-- end inner row -->
      </div>
      <!-- end inner container --> 
    </div>
    <!-- end header -->

    <!-- begin page display -->
    <div id="main">
		  <p><div class="container">
    <div class="row">
      <div class="col-md-12">
      <h1>FAQ</h1></p>

<p>  ### General Questions</p>

<h4 id = "What_is_the_license_">What is the license?</h4>

<p>fabric8 uses the <a href="http://www.apache.org/licenses/LICENSE-2.0.txt">Apache 2.0 License</a>.</p>

<h4 id = "What_is_it_">What is it?</h4>

<p>fabric8 is an integration platform based on Apache ActiveMQ, Apache Camel, Apache CXF, Apache Karaf, Hawtio and others.</p>

<p>It provides automated configuration and deployment management to help make deployments easy, reproducible, and less human-error prone.</p>

<p>Take a look <a href="http://www.christianposta.com/blog/?p=376">at this blog post</a> to see a more detailed treatment.</p>

<h4 id = "What_does_fabric8_do_">What does fabric8 do?</h4>

<p>fabric8 (pronounced <em>fabricate</em>) lets you create and manage fabrics (or clusters) of applications, integrations and middleware.</p>

<p>Try reading the <a href="http://fabric8.io/gitbook/overview.html">overview</a> to see if that helps give you an idea what fabric8 is.</p>

<h4 id = "What_Java_versions_is_supported_">What Java versions is supported?</h4>

<p>Currently fabric8 only runs on Java 7. Support for Java 8 is planned and will be available later as part of needed upgrades to Apache Karaf (which is not ready yet).</p>

<h4 id = "Deprecations">Deprecations</h4>

<p>FAB (Fuse Application Bundles) has been deprecated for the 1.1 release, and is scheduled to be removed in the following release.</p>

<p>The long term replacement is the <a href="http://fabric8.io/gitbook/osgiResolver.html">OSGi Resolver</a> or if you wish to work with jars rather than bundles then use the <a href="(http://fabric8.io/gitbook/javaContainer.html">Java Container</a></p>

<p>  ### Questions On Using Fabric8</p>

<h4 id = "How_can_I_automate_the_creation_of_a_fabric_">How can I automate the creation of a fabric?</h4>

<p>Many customers want an easy, repeatable way to spin up a fabric and all the various containers they need in an automated way such as for <a href="http://fabric8.io/gitbook/continuousDeployment.html">Continuous Deployment</a>.</p>

<p>To do this fabric8 has an <a href="http://fabric8.io/gitbook/requirements.html">Auto Scaler</a> which allows you to define how many instances of each profile you need and the auto scaler will automatically create the containers you need; using the available resources and automatically create new containers if there is a hardware or software failure.</p>

<h4 id = "How_should_I_compose_profiles_which_contain_blueprint_or_spring_XML_files_">How should I compose profiles which contain blueprint or spring XML files?</h4>

<p><a href="http://fabric8.io/gitbook/profiles.html">Profiles</a> are designed so that they can be <em>combined</em> together into a container; or they can use inheritance to <em>override</em> properties.</p>

<p>If you wish to combine profiles together you need to make sure that if you want to <em>combine</em> rather than <em>override</em> you need to ensure that the properties files in each profile use either different file names or different keys.</p>

<p>For example if you have 3 different blueprint/spring XML files inside each profile which you want to combine so that all 3 will be executed; name each one differently and use a different key name in the <strong>io.fabric8.agent.properties</strong> files. e.g. the <a href="https://github.com/fabric8io/fabric8/tree/master/fabric/fabric8-karaf/src/main/resources/distro/fabric/import/fabric/profiles/example/camel/loanbroker/mq.bank1.profile">bank1</a>, <a href="https://github.com/fabric8io/fabric8/tree/master/fabric/fabric8-karaf/src/main/resources/distro/fabric/import/fabric/profiles/example/camel/loanbroker/mq.bank2.profile">bank2</a> and <a href="https://github.com/fabric8io/fabric8/tree/master/fabric/fabric8-karaf/src/main/resources/distro/fabric/import/fabric/profiles/example/camel/loanbroker/mq.bank3.profile">bank3</a> profiles in the <a href="https://github.com/fabric8io/fabric8/tree/master/fabric/fabric8-karaf/src/main/resources/distro/fabric/import/fabric/profiles/example/camel/loanbroker/">MQ based loan broker example</a> all use a different blueprint XML file and key in the <a href="https://github.com/fabric8io/fabric8/blob/master/fabric/fabric8-karaf/src/main/resources/distro/fabric/import/fabric/profiles/example/camel/loanbroker/mq.bank1.profile/io.fabric8.agent.properties#L22">io.fabric8.agent.properties file</a></p>

<h4 id = "How_should_I_deploy_fabric8_in_a_2_data_centre_scenario_where_either_data_centre_can_fail_">How should I deploy fabric8 in a 2 data centre scenario where either data centre can fail?</h4>

<p>A typical fabric8 installation has a ZooKeeper ensemble (a number of ZooKeeper servers connected together; either 1, 3, 5, 7 of them; usually 3 or 5) so that if there are failures or a network split, every node knows whether or not its part of the master split - to avoid the split brain problem. This lets fabric8 reliably create master
/ slaves and federated clusters such that there's no split brain / network partition issues.</p>

<p>If there are only exactly 2 data centres and either is allowed to fail and the other takes over; then there's no real way to solve this the single-ZooKeeper ensemble route automatically; since there's no way to achieve quorum in either data centre. (Its trivial to have, say, 2 ZK servers in one DC X and 1 in the DC Y; but then if DC X fails; you can't achieve quorum automatically.</p>

<p>Thereâ€™s a few ways this could work; it depends on trade-offs really. Our recommended approach is:</p>

<ul>
<li>run 2 ZK ensembles in each DC. This then means things work fine; either DC can fail at any time. It does mean that you cannot have one global master service any more; you can only have DC-local masters (e.g. a master broker in each DC). Then you store/forward between the DCs. There's a <a href="https://github.com/fabric8io/fabric8/issues/622">pending issue</a> to try make a 2-data centre and 2-fabric deployment appear more like a single logical fabric (by having a form of store/foward bridging at the ZK level).</li>
</ul>

<p>If you want to favour one DC so that its the master and have some manual recovery mechanism you could consider this approach (though its not really recommended):</p>

<ul>
<li>pick one DC as the master and run more ZK servers there. If that DC fails, you have to manually decide its down (and make sure the ZK servers are manually taken down) then run some more in the remaining DC. i.e. a manual failover process if the master fails (though automatic if the slave fails).</li>
</ul>

<h4 id = "How_should_I_use_Spring_4_with_fabric8_">How should I use Spring 4 with fabric8?</h4>

<p>Fabric8 has awesome support for Spring 4 with the <a href="(http://fabric8.io/gitbook/springBootContainer.html">Spring Boot Container</a>.</p>

<p>If you've been previously using OSGi or <a href="http://karaf.apache.org/">Apache Karaf</a> as your application server then Spring 4 poses a challenge as its not currently available as valid OSGi bundles. So to use Spring 4 we recommend you consider moving to the <a href="(http://fabric8.io/gitbook/javaContainer.html">Java Container</a> in particular the <a href="(http://fabric8.io/gitbook/springBootContainer.html">Spring Boot Container</a></p>

<h4 id = "I_cannot_start_fabric8_on_Windows">I cannot start fabric8 on Windows</h4>

<p>There is a known issue with Java and Windows when using IP6 capable network. You may see errors such as <code>java.net.SocketException: Permission denied: no further information</code>. To resolve this set the <code>KARAF_OPTS</code> to the following in the <code>bin/setenv.bat</code> file.</p>

<pre><code>KARAF_OPTS="-Djava.net.preferIPv4Stack=true"</code></pre>

<p>For more details see the <a href="http://docs.oracle.com/javase/7/docs/technotes/guides/net/ipv6&#95;guide/">IP6 Java network guide</a> and this <a href="https://access.redhat.com/site/solutions/757533">knowledgebase solution</a>.</p>

<p>  ### Questions On OSGi and Fabric8</p>

<h4 id = "How_can_I_add_my_bundle_and_all_its_required_bundles_and_features_to_fabric8_">How can I add my bundle and all its required bundles and features to fabric8?</h4>

<p>The fabric8 approach to working with OSGi and fabric8 is to use the  <a href="http://fabric8.io/gitbook/mavenPlugin.html">Fabric8 Maven Plugin</a> to deploy directly into a <a href="http://fabric8.io/gitbook/profiles.html">profile</a> or to <a href="http://fabric8.io/gitbook/continuousDeployment.html#creating-profile-zips-via-maven">create a profile zip</a> which can then be <a href="http://fabric8.io/gitbook/continuousDeployment.html#importing-profile-zips">installed</a>.</p>

<p>When using the <a href="http://fabric8.io/gitbook/mavenPlugin.html">Fabric8 Maven Plugin</a> if you use the <strong>bundle</strong> packaging type in your maven pom.xml then the <a href="http://fabric8.io/gitbook/osgiResolver.html">OSGi Resolver</a> will be used by default to add any dependent features or bundles to your profile.</p>

<h4 id = "Should_I_use_features_">Should I use features?</h4>

<p>If you're using OSGi or <a href="http://karaf.apache.org/">Apache Karaf</a> as your application server and you've already developed features XML files for grouping bundles together as a logical application; thats all cool and they work great in fabric8.</p>

<p>However there's not really a big need to develop them going forward; as its easier to just create a <a href="http://fabric8.io/gitbook/continuousDeployment.html#creating-profile-zips-via-maven">profile zip file as part of your maven build</a> which can automatically include all your bundles for your project.</p>

<p>In addition the <a href="http://fabric8.io/gitbook/osgiResolver.html">OSGi Resolver</a> provides a great way to automatically default the correct parent profiles, features and bundles to make it easier to get your OSGi bundles deploying correctly.</p>

<h4 id = "How_do_I_install_a_pid_cfg_file_into_a_fabric_">How do I install a pid.cfg file into a fabric?</h4>

<p>In a stand alone <a href="http://karaf.apache.org/">Apache Karaf</a> container you install configuration files (ending in .cfg) into the etc folder to configure things via OSGi Config Admin.</p>

<p>The fabric8 approach is similar; but rather than an etc folder on a specific containers file system, you install the file into a <a href="http://fabric8.io/gitbook/profiles.html">profile</a>. You can think of a profile as being a virtual etc folder which can be used by many containers.</p>

<p>The only difference is fabric8 uses the file name <strong>pid.properties</strong> rather than <strong>pid.cfg</strong>; so just rename the file and you should be good to go.</p>

<p>To add the file you can either:</p>

<ul>
<li>perform a <a href="">git clone</a> and add the file into the profile's folder and git add / git commit / git push back the change;</li>
<li><p>in the web console, go to the profile page you want to change, click the <strong>Add</strong> button (top right button bar) and create a new Properties file named <strong>pid.properties</strong> and then edit it to suit.</p>

<h3 id = "Configuration_Questions">Configuration Questions</h3></li>
</ul>

<h4 id = "How_can_I_edit_fabric8_s_configuration_via_git_">How can I edit fabric8's configuration via git?</h4>

<p>Please see the <a href="http://fabric8.io/gitbook/git.html">these instructions on working with git and fabric8</a></p>

<h4 id = "How_do_I_add_new_containers_to_an_ensemble_">How do I add new containers to an ensemble?</h4>

<p>Check out <a href="http://fabric8.io/gitbook/registry.html#adding-containers-to-the-ensemble">this article on adding a new container to an ensemble</a></p>

<h4 id = "How_do_I_configure_fabric8_to_use_my_local_maven_repository_or_a_custom_remote_repository_">How do I configure fabric8 to use my local maven repository or a custom remote repository?</h4>

<p>If you are running a fabric right now then clicking on the <a href="http://localhost:8181/hawtio/index.html#/wiki/branch/1.0/view/fabric/profiles/default.profile/io.fabric8.agent.properties">default profile's io.fabric8.agent.properties</a> should let you view the current maven repositories configuration. Edit that file to add whatever maven repositories you wish.</p>

<p>The other option is to clone your git repository and edit this file then git push it back again. Please see the <a href="http://fabric8.io/gitbook/git.html">these instructions for how to work with git and fabric8</a></p>

<p>If you haven't yet created a fabric, in the fabric8 distribution you can edit the file <strong>fabric/import/fabric/profiles/default.profile/io.fabric8.agent.properties</strong> then if you create a new fabric it should have this configuration included.</p>

<p>  ### Known issues about using fabric8</p>

<h4 id = "Why_does_the_welcome_screen_print_two_times_">Why does the welcome screen print two times?</h4>

<p>When starting fabric8 using <code>bin\fabric8</code> the welcome screen may be printed two times. This will be resolved in a future release of fabric8, by upgrading to Apache Karaf 2.4.0 when it becomes available.</p>

<p>  </div>
    </div>
      </div></p>
    </div>
    <!-- end page display -->

    <!-- begin footer -->
    <div class="footer">
      <!-- begin footer container -->
      <div class="container">
        <!-- begin footer row -->
        <div class="row">
          <!-- begin project info -->
          <div class="project col-md-4">
            <p>
              <img class="logo-big" src="/images/fabric8_logo.svg">
            </p>
            <p>
              <i class="icon-fire"></i>
              Mixed with <a href="http://getbootstrap.com/">Bootstrap</a>. Baked by <a href="http://scalate.fusesource.org">Scalate</a>.
            </p>
              <i class="icon-share-alt"></i>
            <p>
              Website and docs licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.
            </p>
            <p>
              Code released under <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, v2.0</a>.
            </p>
          </div>
          <!-- end project info -->

          <!-- begin footer-nav -->
          <div class="footer-nav col-md-2">
            <h4>Learn</h4>
            <ul>
              <li>
                <a href="/getstarted/index.html">Get Started</a>
              </li>
              <li>
                <a href="articles/index.html">Articles and Demos</a>
              </li>
              <li>
                <a href="/gitbook/FAQ.html">FAQ</a>
              </li>
              <li>
                <a href="/developers/index.html">Developers</a>
              </li>
            </ul>
          </div>
          <!-- end footer-nav -->

          <!-- begin footer-nav -->
          <div class="footer-nav col-md-2">
            <h4>Get Involved</h4>
            <ul>
              <!--
              <li>
                <a href="https://groups.google.com/forum/#!forum/fabric8">Forums</a>
              </li>
              -->
              <li>
                <a href="/contributing/index.html">Contributing</a>
              </li>
              <li>
                <a href="/community/index.html">Community</a>
              </li>
              <li>
                <a href="https://github.com/fabric8io/fabric8/issues?state=open">Issue Tracker</a>
              </li>
              <li>
                <a href="https://github.com/fabric8io/fabric8">Source Code</a>
              </li>
              <!--
              <li>
                <a href="/community/contributors">Contributors</a>
              </li>
              -->
            </ul>
          </div>
          <!-- end footer-nav -->

          <!-- begin sponsor -->
          <div class="sponser col-md-4">
            <!-- begin follow-us -->
            <div class="follow-us">
              <h4>Stay Informed</h4>
              <ul>
                <!--
                <li>
                  <a href="https://plus.google.com/100660127586085393031"><img alt="Google+" src="/images/social/googleplus-16.png" title="Follow fabric8 on Google+" /></a>
                </li>
                -->
                <li>
                  <a href="https://twitter.com/#!/search/%23fabric8"><img alt="Twitter" src="/images/social/twitter-16.png" title="Browse the #fabric8 hashtag on Twitter" /></a>
                </li>
                <!--
                <li>
                  <a href="http://www.linkedin.com/groups?gid=3120340"><img alt="LinkedIn" src="/images/social/linkedin-16.png" title="Join the fabric8 group on LinkedIn" /></a>
                </li>
                <li>
                  <a href="http://vimeo.com/channels/fabric8"><img alt="Vimeo" src="/images/social/vimeo-16.png" title="Follow the fabric8 channel on Vimeo" /></a>
                </li>
                -->
              </ul>
            </div>
            <!-- end follow-us -->

            <!--
            <p>This website is open source! If you want to improve it, <a href="http://github.com/fabric8io/fabric8">fork the project</a>, hack on it, then send a pull request. You can also view the <a href="http://www.seethestats.com/site/fabric8">visitor stats</a>.</p>
            -->

            <p>This website is open source! If you want to improve it, <a href="http://github.com/fabric8io/fabric8">fork the project</a>, hack on it, then send a pull request.</p>

          </div>
        <!-- end sponsor -->
        </div>
        <!-- end footer row -->

        <!-- begin top link row -->
        <div class="row">
          <div class="col-md-12">
            <p class="link-top text-center">
              <a class="visible-desktop" href="#" id="toTop">Top</a>
            </p>
          </div>
        </div>
        <!-- end top link row -->

      </div>
      <!-- end footer container -->

      <div class="container" id="companyfooter">
        <div class="redhatlogo" style="text-align:center;">
          <div id="logospacer"></div>
            <a href="http://www.redhat.com/">
            <img src="http://static.jboss.org/theme/images/common/redhat_logo.png">
          </a>
        </div>
      </div>

    </div>
    <!-- end footer -->


    <!-- begin scripts -->
    <!--
    <script type="text/javascript">
      $(function() {
        $('html').addClass('ready');
        prettify();
        activateFooterGravity();
        activateTooltips();
        activateToTopControl();
      });
    </script>
    -->
    <script src="/javascripts/bootstrap.min.js"></script>
    <!--
    <script src="/javascripts/prettify.js"></script>
    -->
    <!--
    <script src="/javascripts/site.js"></script>
    -->

    <!--
    <script type="text/javascript">
      (function() {
        var po = document.createElement('script'); po.async = true; po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
      })();
    </script>
		<script type="text/javascript">
		  var _gaq = _gaq || [];
		  _gaq.push(['_setAccount', 'UA-36899203-1']);
		  _gaq.push(['_trackPageview']);

		  (function() {
		    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		  })();
		</script>
    -->
    <!-- end scripts -->
  </body>
</html>
