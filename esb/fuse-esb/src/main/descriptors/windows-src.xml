<?xml version="1.0" encoding="UTF-8"?>
<!--

    Copyright (C) 2011 FuseSource, Corp. All rights reserved.
    http://fusesource.com

    The software in this package is published under the terms of the CDDL license
    a copy of which has been included with this distribution in the license.txt file.

-->
<assembly>
    <id>src</id>
    <formats>
        <format>zip</format>
    </formats>
    <fileSets>
        <!-- Copy license and other files from root -->
        <fileSet>
            <directory>${basedir}/../..</directory>
            <outputDirectory>/</outputDirectory>
            <includes>
                <include>BUILDING.txt</include>
                <include>README.txt</include>
                <include>RELEASE*.txt</include>
            </includes>
            <lineEnding>dos</lineEnding>
        </fileSet>

        <!-- Binary Files -->
        <fileSet>
            <directory>${basedir}/../..</directory>
            <outputDirectory>src</outputDirectory>
            <includes>
                <include>**/*.jpeg</include>
                <include>**/*.jpg</include>
                <include>**/*.gif</include>
                <include>**/*.png</include>
                <include>**/*.exe</include>
                <include>**/*.dll</include>
                <include>**/*.jar</include>
                <include>**/*.so</include>
                <include>**/*.ks</include>
                <include>**/*.ts</include>
                <include>**/*.keystore</include>
                <include>**/*.bin</include>
                <include>**/*.jnilib</include>
                <include>**/*.cert</include>
                <include>**/*.jks</include>
                <include>fuse-esb/src/main/release/bin/*/wrapper</include>
            </includes>
            <excludes>
                <exclude>**/eclipse-classes/**</exclude>
                <exclude>**/target/**</exclude>
            </excludes>
        </fileSet>

        <!-- Text Files -->
        <fileSet>
            <directory>${basedir}/../..</directory>
            <outputDirectory>src</outputDirectory>
            <includes>
                <include>**/*</include>
            </includes>
            <excludes>
                <exclude>**/*.jpeg</exclude>
                <exclude>**/*.jpg</exclude>
                <exclude>**/*.gif</exclude>
                <exclude>**/*.png</exclude>
                <exclude>**/*.exe</exclude>
                <exclude>**/*.dll</exclude>
                <exclude>**/*.jar</exclude>
                <exclude>**/*.so</exclude>
                <exclude>**/*.ks</exclude>
                <exclude>**/*.ts</exclude>
                <exclude>**/*.keystore</exclude>
                <exclude>**/*.bin</exclude>
                <exclude>**/*.jnilib</exclude>
                <exclude>**/*.cert</exclude>
                <exclude>fuse-esb/src/main/release/bin/*/wrapper</exclude>

                <exclude>**/target/**</exclude>
                <exclude>**/build/**</exclude>
                <exclude>activemq-data/**</exclude>
                <exclude>*/activemq-data/**</exclude>
                <exclude>**/eclipse-classes/**</exclude>
                <exclude>**/.*</exclude>
                <exclude>**/.*/**</exclude>

                <exclude>**/surefire*</exclude>
                <exclude>**/svn-commit*</exclude>

                <exclude>**/*.iml</exclude>
                <exclude>**/*.ipr</exclude>
                <exclude>**/*.iws</exclude>
                <exclude>**/*.jks</exclude>
                <exclude>**/cobertura.ser</exclude>

            </excludes>
            <lineEnding>dos</lineEnding>
        </fileSet>
    </fileSets>
    <files>
        <file>
            <source>${basedir}/target/maven-shared-archive-resources/META-INF/LICENSE</source>
            <outputDirectory>/</outputDirectory>
            <destName>LICENSE.txt</destName>
            <fileMode>0644</fileMode>
            <lineEnding>unix</lineEnding>
        </file>
        <file>
            <source>${basedir}/target/maven-shared-archive-resources/META-INF/NOTICE</source>
            <outputDirectory>/</outputDirectory>
            <destName>NOTICE.txt</destName>
            <fileMode>0644</fileMode>
            <lineEnding>unix</lineEnding>
        </file>
    </files>
</assembly>
