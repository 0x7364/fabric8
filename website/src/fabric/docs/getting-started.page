---
title: Getting Started with Fuse Fabric
in_menu: true
sort_info: 10
--- pipeline:jade

.row
  .span4
    :markdown
      # Install
  .span12
    :&markdown
      To install Fabric either
  
      * [download](../download.html) the Fabric distro 
      * [checkout](../source.html) and [build](../building.html) the Fabric distro locally
      * run the following in an Apache Karaf (2.2.x) console:  
  
    pre
      | FuseFabric:admin@root> fabric:ensemble-create root

    :&markdown
      The above command will create the initial ZooKeeper server and profiles.
  
.row
  .span4
    :markdown
      # Create a new agent with an existing profile
  .span12
    pre
      | FuseFabric:admin@root> fabric:agent-create --profile activemq --parent root broker1
      | ...
    :&markdown
      Check that the agent has been created (it can take a few seconds):  
    pre
      | FuseFabric:admin@root> fabric:agent-list
      | [id]                           [alive]    [profiles]
      | root                           true       default, zk-server-0000-1
      | broker1                        true       activemq
  
    :&markdown
      Wait a few seconds, then check that the feature has been deployed:  
    pre
      | FuseFabric:admin@root> fabric:agent-connect broker1
      | ...
      | FuseFabric:admin@test> osgi:list
      | ...

.row
  .span4
    :markdown
      # Create a new profile
  .span12
    :&markdown
      Now, let's create a profile webserver, inheriting the default profile:  
    pre
      | FuseFabric:admin@root> fabric:profile-create --parents default webserver

.row
  .span4
    :markdown
      # Create a new agent with this profile
  .span12
    pre
      | FuseFabric:admin@root> fabric:agent-create --profile webserver --parent root test
      | ...
    :&markdown
      Check that the agent has been created (it can take a few seconds):  
    pre
      | FuseFabric:admin@root> fabric:agent-list
      | [id]                           [alive]    [profiles]
      | root                           true       default, zk-server-0000-1
      | test                           true       webserver

.row
  .span4
    :markdown
      # Deploy a feature using profiles
  .span12
    :&markdown
      Let's associate a karaf war feature to the webserver profile:  
    pre
      | FuseFabric:admin@root> zk:create -r /fabric/configs/versions/base/profiles/webserver/org.fusesource.fabric.agent/repository.karaf mvn:org.apache.karaf.assemblies.features/standard/2.2.1/xml/features
      | FuseFabric:admin@root> zk:create -r /fabric/configs/versions/base/profiles/webserver/org.fusesource.fabric.agent/feature.war war
    :&markdown
      Wait a few seconds, then check that the feature has been deployed:  
    pre
      | FuseFabric:admin@root> fabric:agent-connect test
      | ...
      | FuseFabric:admin@test> osgi:list
      | ...

.row
  .span4
    :markdown
      # Install Fabric in a vanilla Apache Karaf or ServiceMix container
  .span12
    :&markdown
      Run the following in an Apache Karaf (2.2.x) or ServiecMix (4.x) console:  

    pre
      | karaf@root> shell:source mvn:org.fusesource.fabric/fuse-fabric/#{project_version}/karaf/installer

    :&markdown
      The above command will install the necessary features if they are not already present (they come by default in the Fabric distro) and then
      create the initial ZooKeeper server and profiles.



